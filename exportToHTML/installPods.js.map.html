<html>
<head>
<title>installPods.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #6897bb; font-style: italic;}
.s3 { color: #cc7832; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
installPods.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;runPodInstall&quot;</span><span class="s0">,</span><span class="s1">&quot;loader&quot;</span><span class="s0">,</span><span class="s1">&quot;directory&quot;</span><span class="s0">,</span><span class="s1">&quot;shouldHandleRepoUpdate&quot;</span><span class="s0">,</span><span class="s1">&quot;start&quot;</span><span class="s0">,</span><span class="s1">&quot;chalk&quot;</span><span class="s0">,</span><span class="s1">&quot;dim&quot;</span><span class="s0">,</span><span class="s1">&quot;execa&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;stderr&quot;</span><span class="s0">,</span><span class="s1">&quot;stdout&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;runPodUpdate&quot;</span><span class="s0">,</span><span class="s1">&quot;fail&quot;</span><span class="s0">,</span><span class="s1">&quot;logger&quot;</span><span class="s0">,</span><span class="s1">&quot;CLIError&quot;</span><span class="s0">,</span><span class="s1">&quot;link&quot;</span><span class="s0">,</span><span class="s1">&quot;docs&quot;</span><span class="s0">,</span><span class="s1">&quot;log&quot;</span><span class="s0">,</span><span class="s1">&quot;underline&quot;</span><span class="s0">,</span><span class="s1">&quot;runSudo&quot;</span><span class="s0">,</span><span class="s1">&quot;command&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;reject&quot;</span><span class="s0">,</span><span class="s1">&quot;sudo&quot;</span><span class="s0">,</span><span class="s1">&quot;exec&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;installCocoaPodsWithGem&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;_error&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;installCocoaPods&quot;</span><span class="s0">,</span><span class="s1">&quot;stop&quot;</span><span class="s0">,</span><span class="s1">&quot;succeed&quot;</span><span class="s0">,</span><span class="s1">&quot;installPods&quot;</span><span class="s0">,</span><span class="s1">&quot;NoopLoader&quot;</span><span class="s0">,</span><span class="s1">&quot;fs&quot;</span><span class="s0">,</span><span class="s1">&quot;existsSync&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;chdir&quot;</span><span class="s0">,</span><span class="s1">&quot;hasPods&quot;</span><span class="s0">,</span><span class="s1">&quot;runBundleInstall&quot;</span><span class="s0">,</span><span class="s1">&quot;e&quot;</span><span class="s0">,</span><span class="s1">&quot;info&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/tools/installPods.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import fs from 'fs';</span><span class="s3">\n</span><span class="s1">import execa from 'execa';</span><span class="s3">\n</span><span class="s1">import chalk from 'chalk';</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">logger,</span><span class="s3">\n  </span><span class="s1">NoopLoader,</span><span class="s3">\n  </span><span class="s1">link,</span><span class="s3">\n  </span><span class="s1">CLIError,</span><span class="s3">\n</span><span class="s1">} from '@react-native-community/cli-tools';</span><span class="s3">\n</span><span class="s1">import sudo from 'sudo-prompt';</span><span class="s3">\n</span><span class="s1">import runBundleInstall from './runBundleInstall';</span><span class="s3">\n</span><span class="s1">import {Loader} from '../types';</span><span class="s3">\n\n</span><span class="s1">async function runPodInstall(</span><span class="s3">\n  </span><span class="s1">loader: Loader,</span><span class="s3">\n  </span><span class="s1">directory: string,</span><span class="s3">\n  </span><span class="s1">shouldHandleRepoUpdate: boolean = true,</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">loader.start(</span><span class="s3">\n      </span><span class="s1">`Installing CocoaPods dependencies ${chalk.dim(</span><span class="s3">\n        </span><span class="s1">'(this may take a few minutes)',</span><span class="s3">\n      </span><span class="s1">)}`,</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">await execa('bundle', ['exec', 'pod', 'install']);</span><span class="s3">\n  </span><span class="s1">} catch (error) {</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">pod</span><span class="s3">\&quot; </span><span class="s1">command outputs errors to stdout (at least some of them)</span><span class="s3">\n    </span><span class="s1">const stderr = (error as any).stderr || (error as any).stdout;</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* If CocoaPods failed due to repo being out of date, it will</span><span class="s3">\n     </span><span class="s1">* include the update command in the error message.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* `shouldHandleRepoUpdate` will be set to `false` to</span><span class="s3">\n     </span><span class="s1">* prevent infinite loop (unlikely scenario)</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">if (stderr.includes('pod repo update') &amp;&amp; shouldHandleRepoUpdate) {</span><span class="s3">\n      </span><span class="s1">await runPodUpdate(loader);</span><span class="s3">\n      </span><span class="s1">await runPodInstall(loader, directory, false);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">loader.fail();</span><span class="s3">\n      </span><span class="s1">logger.error(stderr);</span><span class="s3">\n\n      </span><span class="s1">throw new CLIError(</span><span class="s3">\n        </span><span class="s1">`Looks like your iOS environment is not properly set. Please go to ${link.docs(</span><span class="s3">\n          </span><span class="s1">'environment-setup',</span><span class="s3">\n        </span><span class="s1">)} and follow the React Native CLI QuickStart guide for macOS and iOS.`,</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">async function runPodUpdate(loader: Loader) {</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">loader.start(</span><span class="s3">\n      </span><span class="s1">`Updating CocoaPods repositories ${chalk.dim(</span><span class="s3">\n        </span><span class="s1">'(this may take a few minutes)',</span><span class="s3">\n      </span><span class="s1">)}`,</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">await execa('pod', ['repo', 'update']);</span><span class="s3">\n  </span><span class="s1">} catch (error) {</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">pod</span><span class="s3">\&quot; </span><span class="s1">command outputs errors to stdout (at least some of them)</span><span class="s3">\n    </span><span class="s1">logger.log((error as any).stderr || (error as any).stdout);</span><span class="s3">\n    </span><span class="s1">loader.fail();</span><span class="s3">\n\n    </span><span class="s1">throw new CLIError(</span><span class="s3">\n      </span><span class="s1">`Failed to update CocoaPods repositories for iOS project.</span><span class="s3">\\</span><span class="s1">nPlease try again manually: </span><span class="s3">\&quot;</span><span class="s1">pod repo update</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">nCocoaPods documentation: ${chalk.dim.underline(</span><span class="s3">\n        </span><span class="s1">'https://cocoapods.org/',</span><span class="s3">\n      </span><span class="s1">)}`,</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function runSudo(command: string): Promise&lt;void&gt; {</span><span class="s3">\n  </span><span class="s1">return new Promise((resolve, reject) =&gt; {</span><span class="s3">\n    </span><span class="s1">sudo.exec(command, {name: 'React Native CLI'}, (error) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (error) {</span><span class="s3">\n        </span><span class="s1">reject(error);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">resolve();</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">async function installCocoaPodsWithGem() {</span><span class="s3">\n  </span><span class="s1">const options = ['install', 'cocoapods', '--no-document'];</span><span class="s3">\n\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">// First attempt to install `cocoapods`</span><span class="s3">\n    </span><span class="s1">await execa('gem', options);</span><span class="s3">\n  </span><span class="s1">} catch (_error) {</span><span class="s3">\n    </span><span class="s1">// If that doesn't work then try with sudo</span><span class="s3">\n    </span><span class="s1">await runSudo(`gem ${options.join(' ')}`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">async function installCocoaPods(loader: Loader) {</span><span class="s3">\n  </span><span class="s1">loader.stop();</span><span class="s3">\n\n  </span><span class="s1">loader.start('Installing CocoaPods');</span><span class="s3">\n\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">await installCocoaPodsWithGem();</span><span class="s3">\n\n    </span><span class="s1">return loader.succeed();</span><span class="s3">\n  </span><span class="s1">} catch (error) {</span><span class="s3">\n    </span><span class="s1">loader.fail();</span><span class="s3">\n    </span><span class="s1">logger.error((error as any).stderr);</span><span class="s3">\n\n    </span><span class="s1">throw new CLIError(</span><span class="s3">\n      </span><span class="s1">`An error occured while trying to install CocoaPods, which is required by this template.</span><span class="s3">\\</span><span class="s1">nPlease try again manually: sudo gem install cocoapods.</span><span class="s3">\\</span><span class="s1">nCocoaPods documentation: ${chalk.dim.underline(</span><span class="s3">\n        </span><span class="s1">'https://cocoapods.org/',</span><span class="s3">\n      </span><span class="s1">)}`,</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">async function installPods({</span><span class="s3">\n  </span><span class="s1">directory,</span><span class="s3">\n  </span><span class="s1">loader,</span><span class="s3">\n</span><span class="s1">}: {</span><span class="s3">\n  </span><span class="s1">directory: string;</span><span class="s3">\n  </span><span class="s1">loader?: Loader;</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">loader = loader || new NoopLoader();</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">if (!fs.existsSync('ios')) {</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">process.chdir('ios');</span><span class="s3">\n\n    </span><span class="s1">const hasPods = fs.existsSync('Podfile');</span><span class="s3">\n\n    </span><span class="s1">if (!hasPods) {</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (fs.existsSync('../Gemfile')) {</span><span class="s3">\n      </span><span class="s1">await runBundleInstall(loader);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">// Check if </span><span class="s3">\&quot;</span><span class="s1">pod</span><span class="s3">\&quot; </span><span class="s1">is available and usable. It happens that there are</span><span class="s3">\n      </span><span class="s1">// multiple versions of </span><span class="s3">\&quot;</span><span class="s1">pod</span><span class="s3">\&quot; </span><span class="s1">command and even though it's there, it exits</span><span class="s3">\n      </span><span class="s1">// with a failure</span><span class="s3">\n      </span><span class="s1">await execa('pod', ['--version']);</span><span class="s3">\n    </span><span class="s1">} catch (e) {</span><span class="s3">\n      </span><span class="s1">loader.info();</span><span class="s3">\n      </span><span class="s1">await installCocoaPods(loader);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">await runPodInstall(loader, directory);</span><span class="s3">\n  </span><span class="s1">} finally {</span><span class="s3">\n    </span><span class="s1">process.chdir('..');</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export {runSudo, installCocoaPods};</span><span class="s3">\n\n</span><span class="s1">export default installPods;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">}</span></pre>
</body>
</html>