<html>
<head>
<title>HeaderBackButton.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #6a8759;}
.s1 { color: #a9b7c6;}
.s2 { color: #cc7832;}
.s3 { color: #6897bb;}
.s4 { color: #808080;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
HeaderBackButton.js</font>
</center></td></tr></table>
<pre><span class="s0">&quot;use strict&quot;</span><span class="s1">;</span>

<span class="s1">Object.defineProperty(exports, </span><span class="s0">&quot;__esModule&quot;</span><span class="s1">, {</span>
  <span class="s1">value: </span><span class="s2">true</span>
<span class="s1">});</span>
<span class="s1">exports.</span><span class="s2">default </span><span class="s1">= HeaderBackButton;</span>
<span class="s2">var </span><span class="s1">_native = require(</span><span class="s0">&quot;@react-navigation/native&quot;</span><span class="s1">);</span>
<span class="s2">var </span><span class="s1">React = _interopRequireWildcard(require(</span><span class="s0">&quot;react&quot;</span><span class="s1">));</span>
<span class="s2">var </span><span class="s1">_reactNative = require(</span><span class="s0">&quot;react-native&quot;</span><span class="s1">);</span>
<span class="s2">var </span><span class="s1">_MaskedView = _interopRequireDefault(require(</span><span class="s0">&quot;../MaskedView&quot;</span><span class="s1">));</span>
<span class="s2">var </span><span class="s1">_PlatformPressable = _interopRequireDefault(require(</span><span class="s0">&quot;../PlatformPressable&quot;</span><span class="s1">));</span>
<span class="s2">function </span><span class="s1">_interopRequireDefault(obj) { </span><span class="s2">return </span><span class="s1">obj &amp;&amp; obj.__esModule ? obj : { </span><span class="s2">default</span><span class="s1">: obj }; }</span>
<span class="s2">function </span><span class="s1">_getRequireWildcardCache(nodeInterop) { </span><span class="s2">if </span><span class="s1">(</span><span class="s2">typeof </span><span class="s1">WeakMap !== </span><span class="s0">&quot;function&quot;</span><span class="s1">) </span><span class="s2">return null</span><span class="s1">; </span><span class="s2">var </span><span class="s1">cacheBabelInterop = </span><span class="s2">new </span><span class="s1">WeakMap(); </span><span class="s2">var </span><span class="s1">cacheNodeInterop = </span><span class="s2">new </span><span class="s1">WeakMap(); </span><span class="s2">return </span><span class="s1">(_getRequireWildcardCache = </span><span class="s2">function </span><span class="s1">(nodeInterop) { </span><span class="s2">return </span><span class="s1">nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }</span>
<span class="s2">function </span><span class="s1">_interopRequireWildcard(obj, nodeInterop) { </span><span class="s2">if </span><span class="s1">(!nodeInterop &amp;&amp; obj &amp;&amp; obj.__esModule) { </span><span class="s2">return </span><span class="s1">obj; } </span><span class="s2">if </span><span class="s1">(obj === </span><span class="s2">null </span><span class="s1">|| </span><span class="s2">typeof </span><span class="s1">obj !== </span><span class="s0">&quot;object&quot; </span><span class="s1">&amp;&amp; </span><span class="s2">typeof </span><span class="s1">obj !== </span><span class="s0">&quot;function&quot;</span><span class="s1">) { </span><span class="s2">return </span><span class="s1">{ </span><span class="s2">default</span><span class="s1">: obj }; } </span><span class="s2">var </span><span class="s1">cache = _getRequireWildcardCache(nodeInterop); </span><span class="s2">if </span><span class="s1">(cache &amp;&amp; cache.has(obj)) { </span><span class="s2">return </span><span class="s1">cache.get(obj); } </span><span class="s2">var </span><span class="s1">newObj = {}; </span><span class="s2">var </span><span class="s1">hasPropertyDescriptor = Object.defineProperty &amp;&amp; Object.getOwnPropertyDescriptor; </span><span class="s2">for </span><span class="s1">(</span><span class="s2">var </span><span class="s1">key </span><span class="s2">in </span><span class="s1">obj) { </span><span class="s2">if </span><span class="s1">(key !== </span><span class="s0">&quot;default&quot; </span><span class="s1">&amp;&amp; Object.prototype.hasOwnProperty.call(obj, key)) { </span><span class="s2">var </span><span class="s1">desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : </span><span class="s2">null</span><span class="s1">; </span><span class="s2">if </span><span class="s1">(desc &amp;&amp; (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } </span><span class="s2">else </span><span class="s1">{ newObj[key] = obj[key]; } } } newObj.</span><span class="s2">default </span><span class="s1">= obj; </span><span class="s2">if </span><span class="s1">(cache) { cache.set(obj, newObj); } </span><span class="s2">return </span><span class="s1">newObj; }</span>
<span class="s2">function </span><span class="s1">HeaderBackButton(_ref) {</span>
  <span class="s1">let {</span>
    <span class="s1">disabled,</span>
    <span class="s1">allowFontScaling,</span>
    <span class="s1">backImage,</span>
    <span class="s1">label,</span>
    <span class="s1">labelStyle,</span>
    <span class="s1">labelVisible,</span>
    <span class="s1">onLabelLayout,</span>
    <span class="s1">onPress,</span>
    <span class="s1">pressColor,</span>
    <span class="s1">pressOpacity,</span>
    <span class="s1">screenLayout,</span>
    <span class="s1">tintColor: customTintColor,</span>
    <span class="s1">titleLayout,</span>
    <span class="s1">truncatedLabel = </span><span class="s0">'Back'</span><span class="s1">,</span>
    <span class="s1">accessibilityLabel = label &amp;&amp; label !== </span><span class="s0">'Back' </span><span class="s1">? `${label}, back` : </span><span class="s0">'Go back'</span><span class="s1">,</span>
    <span class="s1">testID,</span>
    <span class="s1">style</span>
  <span class="s1">} = _ref;</span>
  <span class="s1">const {</span>
    <span class="s1">colors</span>
  <span class="s1">} = (</span><span class="s3">0</span><span class="s1">, _native.useTheme)();</span>
  <span class="s1">const [initialLabelWidth, setInitialLabelWidth] = React.useState(undefined);</span>
  <span class="s1">const tintColor = customTintColor !== undefined ? customTintColor : _reactNative.Platform.select({</span>
    <span class="s1">ios: colors.primary,</span>
    <span class="s2">default</span><span class="s1">: colors.text</span>
  <span class="s1">});</span>
  <span class="s1">const handleLabelLayout = e =&gt; {</span>
    <span class="s1">onLabelLayout === </span><span class="s2">null </span><span class="s1">|| onLabelLayout === </span><span class="s2">void </span><span class="s3">0 </span><span class="s1">? </span><span class="s2">void </span><span class="s3">0 </span><span class="s1">: onLabelLayout(e);</span>
    <span class="s1">setInitialLabelWidth(e.nativeEvent.layout.x + e.nativeEvent.layout.width);</span>
  <span class="s1">};</span>
  <span class="s1">const shouldTruncateLabel = () =&gt; {</span>
    <span class="s2">return </span><span class="s1">!label || initialLabelWidth &amp;&amp; titleLayout &amp;&amp; screenLayout &amp;&amp; (screenLayout.width - titleLayout.width) / </span><span class="s3">2 </span><span class="s1">&lt; initialLabelWidth + </span><span class="s3">26</span><span class="s1">;</span>
  <span class="s1">};</span>
  <span class="s1">const renderBackImage = () =&gt; {</span>
    <span class="s2">if </span><span class="s1">(backImage) {</span>
      <span class="s2">return </span><span class="s1">backImage({</span>
        <span class="s1">tintColor</span>
      <span class="s1">});</span>
    <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
      <span class="s2">return </span><span class="s4">/*#__PURE__*/</span><span class="s1">React.createElement(_reactNative.Image, {</span>
        <span class="s1">style: [styles.icon, Boolean(labelVisible) &amp;&amp; styles.iconWithLabel, Boolean(tintColor) &amp;&amp; {</span>
          <span class="s1">tintColor</span>
        <span class="s1">}],</span>
        <span class="s1">source: require(</span><span class="s0">'../assets/back-icon.png'</span><span class="s1">),</span>
        <span class="s1">fadeDuration: </span><span class="s3">0</span>
      <span class="s1">});</span>
    <span class="s1">}</span>
  <span class="s1">};</span>
  <span class="s1">const renderLabel = () =&gt; {</span>
    <span class="s1">const leftLabelText = shouldTruncateLabel() ? truncatedLabel : label;</span>
    <span class="s2">if </span><span class="s1">(!labelVisible || leftLabelText === undefined) {</span>
      <span class="s2">return null</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s1">const labelElement = </span><span class="s4">/*#__PURE__*/</span><span class="s1">React.createElement(_reactNative.View, {</span>
      <span class="s1">style: screenLayout ?</span>
      <span class="s4">// We make the button extend till the middle of the screen</span>
      <span class="s4">// Otherwise it appears to cut off when translating</span>
      <span class="s1">[styles.labelWrapper, {</span>
        <span class="s1">minWidth: screenLayout.width / </span><span class="s3">2 </span><span class="s1">- </span><span class="s3">27</span>
      <span class="s1">}] : </span><span class="s2">null</span>
    <span class="s1">}, </span><span class="s4">/*#__PURE__*/</span><span class="s1">React.createElement(_reactNative.Animated.Text, {</span>
      <span class="s1">accessible: </span><span class="s2">false</span><span class="s1">,</span>
      <span class="s1">onLayout:</span>
      <span class="s4">// This measurement is used to determine if we should truncate the label when it doesn't fit</span>
      <span class="s4">// Only measure it when label is not truncated because we want the measurement of full label</span>
      <span class="s1">leftLabelText === label ? handleLabelLayout : undefined,</span>
      <span class="s1">style: [styles.label, tintColor ? {</span>
        <span class="s1">color: tintColor</span>
      <span class="s1">} : </span><span class="s2">null</span><span class="s1">, labelStyle],</span>
      <span class="s1">numberOfLines: </span><span class="s3">1</span><span class="s1">,</span>
      <span class="s1">allowFontScaling: !!allowFontScaling</span>
    <span class="s1">}, leftLabelText));</span>
    <span class="s2">if </span><span class="s1">(backImage || _reactNative.Platform.OS !== </span><span class="s0">'ios'</span><span class="s1">) {</span>
      <span class="s4">// When a custom backimage is specified, we can't mask the label</span>
      <span class="s4">// Otherwise there might be weird effect due to our mask not being the same as the image</span>
      <span class="s2">return </span><span class="s1">labelElement;</span>
    <span class="s1">}</span>
    <span class="s2">return </span><span class="s4">/*#__PURE__*/</span><span class="s1">React.createElement(_MaskedView.</span><span class="s2">default</span><span class="s1">, {</span>
      <span class="s1">maskElement: </span><span class="s4">/*#__PURE__*/</span><span class="s1">React.createElement(_reactNative.View, {</span>
        <span class="s1">style: styles.iconMaskContainer</span>
      <span class="s1">}, </span><span class="s4">/*#__PURE__*/</span><span class="s1">React.createElement(_reactNative.Image, {</span>
        <span class="s1">source: require(</span><span class="s0">'../assets/back-icon-mask.png'</span><span class="s1">),</span>
        <span class="s1">style: styles.iconMask</span>
      <span class="s1">}), </span><span class="s4">/*#__PURE__*/</span><span class="s1">React.createElement(_reactNative.View, {</span>
        <span class="s1">style: styles.iconMaskFillerRect</span>
      <span class="s1">}))</span>
    <span class="s1">}, labelElement);</span>
  <span class="s1">};</span>
  <span class="s1">const handlePress = () =&gt; onPress &amp;&amp; requestAnimationFrame(onPress);</span>
  <span class="s2">return </span><span class="s4">/*#__PURE__*/</span><span class="s1">React.createElement(_PlatformPressable.</span><span class="s2">default</span><span class="s1">, {</span>
    <span class="s1">disabled: disabled,</span>
    <span class="s1">accessible: </span><span class="s2">true</span><span class="s1">,</span>
    <span class="s1">accessibilityRole: </span><span class="s0">&quot;button&quot;</span><span class="s1">,</span>
    <span class="s1">accessibilityLabel: accessibilityLabel,</span>
    <span class="s1">testID: testID,</span>
    <span class="s1">onPress: disabled ? undefined : handlePress,</span>
    <span class="s1">pressColor: pressColor,</span>
    <span class="s1">pressOpacity: pressOpacity,</span>
    <span class="s1">android_ripple: {</span>
      <span class="s1">borderless: </span><span class="s2">true</span>
    <span class="s1">},</span>
    <span class="s1">style: [styles.container, disabled &amp;&amp; styles.disabled, style],</span>
    <span class="s1">hitSlop: _reactNative.Platform.select({</span>
      <span class="s1">ios: undefined,</span>
      <span class="s2">default</span><span class="s1">: {</span>
        <span class="s1">top: </span><span class="s3">16</span><span class="s1">,</span>
        <span class="s1">right: </span><span class="s3">16</span><span class="s1">,</span>
        <span class="s1">bottom: </span><span class="s3">16</span><span class="s1">,</span>
        <span class="s1">left: </span><span class="s3">16</span>
      <span class="s1">}</span>
    <span class="s1">})</span>
  <span class="s1">}, </span><span class="s4">/*#__PURE__*/</span><span class="s1">React.createElement(React.Fragment, </span><span class="s2">null</span><span class="s1">, renderBackImage(), renderLabel()));</span>
<span class="s1">}</span>
<span class="s1">const styles = _reactNative.StyleSheet.create({</span>
  <span class="s1">container: {</span>
    <span class="s1">alignItems: </span><span class="s0">'center'</span><span class="s1">,</span>
    <span class="s1">flexDirection: </span><span class="s0">'row'</span><span class="s1">,</span>
    <span class="s1">minWidth: _reactNative.StyleSheet.hairlineWidth,</span>
    <span class="s4">// Avoid collapsing when title is long</span>
    <span class="s1">..._reactNative.Platform.select({</span>
      <span class="s1">ios: </span><span class="s2">null</span><span class="s1">,</span>
      <span class="s2">default</span><span class="s1">: {</span>
        <span class="s1">marginVertical: </span><span class="s3">3</span><span class="s1">,</span>
        <span class="s1">marginHorizontal: </span><span class="s3">11</span>
      <span class="s1">}</span>
    <span class="s1">})</span>
  <span class="s1">},</span>
  <span class="s1">disabled: {</span>
    <span class="s1">opacity: </span><span class="s3">0.5</span>
  <span class="s1">},</span>
  <span class="s1">label: {</span>
    <span class="s1">fontSize: </span><span class="s3">17</span><span class="s1">,</span>
    <span class="s4">// Title and back label are a bit different width due to title being bold</span>
    <span class="s4">// Adjusting the letterSpacing makes them coincide better</span>
    <span class="s1">letterSpacing: </span><span class="s3">0.35</span>
  <span class="s1">},</span>
  <span class="s1">labelWrapper: {</span>
    <span class="s4">// These styles will make sure that the label doesn't fill the available space</span>
    <span class="s4">// Otherwise it messes with the measurement of the label</span>
    <span class="s1">flexDirection: </span><span class="s0">'row'</span><span class="s1">,</span>
    <span class="s1">alignItems: </span><span class="s0">'flex-start'</span>
  <span class="s1">},</span>
  <span class="s1">icon: _reactNative.Platform.select({</span>
    <span class="s1">ios: {</span>
      <span class="s1">height: </span><span class="s3">21</span><span class="s1">,</span>
      <span class="s1">width: </span><span class="s3">13</span><span class="s1">,</span>
      <span class="s1">marginLeft: </span><span class="s3">8</span><span class="s1">,</span>
      <span class="s1">marginRight: </span><span class="s3">22</span><span class="s1">,</span>
      <span class="s1">marginVertical: </span><span class="s3">12</span><span class="s1">,</span>
      <span class="s1">resizeMode: </span><span class="s0">'contain'</span><span class="s1">,</span>
      <span class="s1">transform: [{</span>
        <span class="s1">scaleX: _reactNative.I18nManager.getConstants().isRTL ? -</span><span class="s3">1 </span><span class="s1">: </span><span class="s3">1</span>
      <span class="s1">}]</span>
    <span class="s1">},</span>
    <span class="s2">default</span><span class="s1">: {</span>
      <span class="s1">height: </span><span class="s3">24</span><span class="s1">,</span>
      <span class="s1">width: </span><span class="s3">24</span><span class="s1">,</span>
      <span class="s1">margin: </span><span class="s3">3</span><span class="s1">,</span>
      <span class="s1">resizeMode: </span><span class="s0">'contain'</span><span class="s1">,</span>
      <span class="s1">transform: [{</span>
        <span class="s1">scaleX: _reactNative.I18nManager.getConstants().isRTL ? -</span><span class="s3">1 </span><span class="s1">: </span><span class="s3">1</span>
      <span class="s1">}]</span>
    <span class="s1">}</span>
  <span class="s1">}),</span>
  <span class="s1">iconWithLabel: _reactNative.Platform.OS === </span><span class="s0">'ios' </span><span class="s1">? {</span>
    <span class="s1">marginRight: </span><span class="s3">6</span>
  <span class="s1">} : {},</span>
  <span class="s1">iconMaskContainer: {</span>
    <span class="s1">flex: </span><span class="s3">1</span><span class="s1">,</span>
    <span class="s1">flexDirection: </span><span class="s0">'row'</span><span class="s1">,</span>
    <span class="s1">justifyContent: </span><span class="s0">'center'</span>
  <span class="s1">},</span>
  <span class="s1">iconMaskFillerRect: {</span>
    <span class="s1">flex: </span><span class="s3">1</span><span class="s1">,</span>
    <span class="s1">backgroundColor: </span><span class="s0">'#000'</span>
  <span class="s1">},</span>
  <span class="s1">iconMask: {</span>
    <span class="s1">height: </span><span class="s3">21</span><span class="s1">,</span>
    <span class="s1">width: </span><span class="s3">13</span><span class="s1">,</span>
    <span class="s1">marginLeft: -</span><span class="s3">14.5</span><span class="s1">,</span>
    <span class="s1">marginVertical: </span><span class="s3">12</span><span class="s1">,</span>
    <span class="s1">alignSelf: </span><span class="s0">'center'</span><span class="s1">,</span>
    <span class="s1">resizeMode: </span><span class="s0">'contain'</span><span class="s1">,</span>
    <span class="s1">transform: [{</span>
      <span class="s1">scaleX: _reactNative.I18nManager.getConstants().isRTL ? -</span><span class="s3">1 </span><span class="s1">: </span><span class="s3">1</span>
    <span class="s1">}]</span>
  <span class="s1">}</span>
<span class="s1">});</span>
<span class="s4">//# sourceMappingURL=HeaderBackButton.js.map</span></pre>
</body>
</html>