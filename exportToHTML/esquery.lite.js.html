<html>
<head>
<title>esquery.lite.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #cc7832;}
.s2 { color: #6a8759;}
.s3 { color: #6897bb;}
.s4 { color: #4646f1;}
.s5 { color: #808080;}
.s6 { color: #6a8759;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
esquery.lite.js</font>
</center></td></tr></table>
<pre><span class="s0">(</span><span class="s1">function </span><span class="s0">(global, factory) {</span>
  <span class="s1">typeof </span><span class="s0">exports === </span><span class="s2">'object' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">module !== </span><span class="s2">'undefined' </span><span class="s0">? module.exports = factory(require(</span><span class="s2">'estraverse'</span><span class="s0">)) :</span>
  <span class="s1">typeof </span><span class="s0">define === </span><span class="s2">'function' </span><span class="s0">&amp;&amp; define.amd ? define([</span><span class="s2">'estraverse'</span><span class="s0">], factory) :</span>
  <span class="s0">(global = global || self, global.esquery = factory(global.estraverse));</span>
<span class="s0">}(</span><span class="s1">this</span><span class="s0">, (</span><span class="s1">function </span><span class="s0">(estraverse) { </span><span class="s2">'use strict'</span><span class="s0">;</span>

  <span class="s0">estraverse = estraverse &amp;&amp; Object.prototype.hasOwnProperty.call(estraverse, </span><span class="s2">'default'</span><span class="s0">) ? estraverse[</span><span class="s2">'default'</span><span class="s0">] : estraverse;</span>

  <span class="s1">function </span><span class="s0">_iterableToArrayLimit(arr, i) {</span>
    <span class="s1">var </span><span class="s0">_i = </span><span class="s1">null </span><span class="s0">== arr ? </span><span class="s1">null </span><span class="s0">: </span><span class="s2">&quot;undefined&quot; </span><span class="s0">!= </span><span class="s1">typeof </span><span class="s0">Symbol &amp;&amp; arr[Symbol.iterator] || arr[</span><span class="s2">&quot;@@iterator&quot;</span><span class="s0">];</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">null </span><span class="s0">!= _i) {</span>
      <span class="s1">var </span><span class="s0">_s,</span>
        <span class="s0">_e,</span>
        <span class="s0">_x,</span>
        <span class="s0">_r,</span>
        <span class="s0">_arr = [],</span>
        <span class="s0">_n = !</span><span class="s3">0</span><span class="s0">,</span>
        <span class="s0">_d = !</span><span class="s3">1</span><span class="s0">;</span>
      <span class="s1">try </span><span class="s0">{</span>
        <span class="s1">if </span><span class="s0">(_x = (_i = _i.call(arr)).next, </span><span class="s3">0 </span><span class="s0">=== i) {</span>
          <span class="s1">if </span><span class="s0">(Object(_i) !== _i) </span><span class="s1">return</span><span class="s0">;</span>
          <span class="s0">_n = !</span><span class="s3">1</span><span class="s0">;</span>
        <span class="s0">} </span><span class="s1">else for </span><span class="s0">(; !(_n = (_s = _x.call(_i)).done) &amp;&amp; (_arr.push(_s.value), _arr.length !== i); _n = !</span><span class="s3">0</span><span class="s0">);</span>
      <span class="s0">} </span><span class="s1">catch </span><span class="s0">(err) {</span>
        <span class="s0">_d = !</span><span class="s3">0</span><span class="s0">, _e = err;</span>
      <span class="s0">} </span><span class="s1">finally </span><span class="s0">{</span>
        <span class="s1">try </span><span class="s0">{</span>
          <span class="s1">if </span><span class="s0">(!_n &amp;&amp; </span><span class="s1">null </span><span class="s0">!= _i.</span><span class="s1">return </span><span class="s0">&amp;&amp; (_r = _i.</span><span class="s1">return</span><span class="s0">(), Object(_r) !== _r)) </span><span class="s1">return</span><span class="s0">;</span>
        <span class="s0">} </span><span class="s1">finally </span><span class="s0">{</span>
          <span class="s1">if </span><span class="s0">(_d) </span><span class="s1">throw </span><span class="s0">_e;</span>
        <span class="s0">}</span>
      <span class="s0">}</span>
      <span class="s1">return </span><span class="s0">_arr;</span>
    <span class="s0">}</span>
  <span class="s0">}</span>
  <span class="s1">function </span><span class="s0">_typeof(obj) {</span>
    <span class="s2">&quot;@babel/helpers - typeof&quot;</span><span class="s0">;</span>

    <span class="s1">return </span><span class="s0">_typeof = </span><span class="s2">&quot;function&quot; </span><span class="s0">== </span><span class="s1">typeof </span><span class="s0">Symbol &amp;&amp; </span><span class="s2">&quot;symbol&quot; </span><span class="s0">== </span><span class="s1">typeof </span><span class="s0">Symbol.iterator ? </span><span class="s1">function </span><span class="s0">(obj) {</span>
      <span class="s1">return typeof </span><span class="s0">obj;</span>
    <span class="s0">} : </span><span class="s1">function </span><span class="s0">(obj) {</span>
      <span class="s1">return </span><span class="s0">obj &amp;&amp; </span><span class="s2">&quot;function&quot; </span><span class="s0">== </span><span class="s1">typeof </span><span class="s0">Symbol &amp;&amp; obj.constructor === Symbol &amp;&amp; obj !== Symbol.prototype ? </span><span class="s2">&quot;symbol&quot; </span><span class="s0">: </span><span class="s1">typeof </span><span class="s0">obj;</span>
    <span class="s0">}, _typeof(obj);</span>
  <span class="s0">}</span>
  <span class="s1">function </span><span class="s0">_slicedToArray(arr, i) {</span>
    <span class="s1">return </span><span class="s0">_arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();</span>
  <span class="s0">}</span>
  <span class="s1">function </span><span class="s0">_toConsumableArray(arr) {</span>
    <span class="s1">return </span><span class="s0">_arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();</span>
  <span class="s0">}</span>
  <span class="s1">function </span><span class="s0">_arrayWithoutHoles(arr) {</span>
    <span class="s1">if </span><span class="s0">(Array.isArray(arr)) </span><span class="s1">return </span><span class="s0">_arrayLikeToArray(arr);</span>
  <span class="s0">}</span>
  <span class="s1">function </span><span class="s0">_arrayWithHoles(arr) {</span>
    <span class="s1">if </span><span class="s0">(Array.isArray(arr)) </span><span class="s1">return </span><span class="s0">arr;</span>
  <span class="s0">}</span>
  <span class="s1">function </span><span class="s0">_iterableToArray(iter) {</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">Symbol !== </span><span class="s2">&quot;undefined&quot; </span><span class="s0">&amp;&amp; iter[Symbol.iterator] != </span><span class="s1">null </span><span class="s0">|| iter[</span><span class="s2">&quot;@@iterator&quot;</span><span class="s0">] != </span><span class="s1">null</span><span class="s0">) </span><span class="s1">return </span><span class="s0">Array.from(iter);</span>
  <span class="s0">}</span>
  <span class="s1">function </span><span class="s0">_unsupportedIterableToArray(o, minLen) {</span>
    <span class="s1">if </span><span class="s0">(!o) </span><span class="s1">return</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">o === </span><span class="s2">&quot;string&quot;</span><span class="s0">) </span><span class="s1">return </span><span class="s0">_arrayLikeToArray(o, minLen);</span>
    <span class="s1">var </span><span class="s0">n = Object.prototype.toString.call(o).slice(</span><span class="s3">8</span><span class="s0">, -</span><span class="s3">1</span><span class="s0">);</span>
    <span class="s1">if </span><span class="s0">(n === </span><span class="s2">&quot;Object&quot; </span><span class="s0">&amp;&amp; o.constructor) n = o.constructor.name;</span>
    <span class="s1">if </span><span class="s0">(n === </span><span class="s2">&quot;Map&quot; </span><span class="s0">|| n === </span><span class="s2">&quot;Set&quot;</span><span class="s0">) </span><span class="s1">return </span><span class="s0">Array.from(o);</span>
    <span class="s1">if </span><span class="s0">(n === </span><span class="s2">&quot;Arguments&quot; </span><span class="s0">|| /^(?:Ui|I)nt(?:</span><span class="s3">8</span><span class="s0">|</span><span class="s3">16</span><span class="s0">|</span><span class="s3">32</span><span class="s0">)(?:Clamped)?Array$/.test(n)) </span><span class="s1">return </span><span class="s0">_arrayLikeToArray(o, minLen);</span>
  <span class="s0">}</span>
  <span class="s1">function </span><span class="s0">_arrayLikeToArray(arr, len) {</span>
    <span class="s1">if </span><span class="s0">(len == </span><span class="s1">null </span><span class="s0">|| len &gt; arr.length) len = arr.length;</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s3">0</span><span class="s0">, arr2 = </span><span class="s1">new </span><span class="s0">Array(len); i &lt; len; i++) arr2[i] = arr[i];</span>
    <span class="s1">return </span><span class="s0">arr2;</span>
  <span class="s0">}</span>
  <span class="s1">function </span><span class="s0">_nonIterableSpread() {</span>
    <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">&quot;Invalid attempt to spread non-iterable instance.</span><span class="s4">\n</span><span class="s2">In order to be iterable, non-array objects must have a [Symbol.iterator]() method.&quot;</span><span class="s0">);</span>
  <span class="s0">}</span>
  <span class="s1">function </span><span class="s0">_nonIterableRest() {</span>
    <span class="s1">throw new </span><span class="s0">TypeError(</span><span class="s2">&quot;Invalid attempt to destructure non-iterable instance.</span><span class="s4">\n</span><span class="s2">In order to be iterable, non-array objects must have a [Symbol.iterator]() method.&quot;</span><span class="s0">);</span>
  <span class="s0">}</span>

  <span class="s1">var </span><span class="s0">commonjsGlobal = </span><span class="s1">typeof </span><span class="s0">globalThis !== </span><span class="s2">'undefined' </span><span class="s0">? globalThis : </span><span class="s1">typeof </span><span class="s0">window !== </span><span class="s2">'undefined' </span><span class="s0">? window : </span><span class="s1">typeof </span><span class="s0">global !== </span><span class="s2">'undefined' </span><span class="s0">? global : </span><span class="s1">typeof </span><span class="s0">self !== </span><span class="s2">'undefined' </span><span class="s0">? self : {};</span>

  <span class="s1">function </span><span class="s0">createCommonjsModule(fn, module) {</span>
  	<span class="s1">return </span><span class="s0">module = { exports: {} }, fn(module, module.exports), module.exports;</span>
  <span class="s0">}</span>

  <span class="s1">var </span><span class="s0">parser = createCommonjsModule(</span><span class="s1">function </span><span class="s0">(module) {</span>
    <span class="s5">/* 
     * Generated by PEG.js 0.10.0. 
     * 
     * http://pegjs.org/ 
     */</span>
    <span class="s0">(</span><span class="s1">function </span><span class="s0">(root, factory) {</span>
      <span class="s1">if </span><span class="s0">( module.exports) {</span>
        <span class="s0">module.exports = factory();</span>
      <span class="s0">}</span>
    <span class="s0">})(commonjsGlobal, </span><span class="s1">function </span><span class="s0">() {</span>

      <span class="s1">function </span><span class="s0">peg$subclass(child, parent) {</span>
        <span class="s1">function </span><span class="s0">ctor() {</span>
          <span class="s1">this</span><span class="s0">.constructor = child;</span>
        <span class="s0">}</span>
        <span class="s0">ctor.prototype = parent.prototype;</span>
        <span class="s0">child.prototype = </span><span class="s1">new </span><span class="s0">ctor();</span>
      <span class="s0">}</span>
      <span class="s1">function </span><span class="s0">peg$SyntaxError(message, expected, found, location) {</span>
        <span class="s1">this</span><span class="s0">.message = message;</span>
        <span class="s1">this</span><span class="s0">.expected = expected;</span>
        <span class="s1">this</span><span class="s0">.found = found;</span>
        <span class="s1">this</span><span class="s0">.location = location;</span>
        <span class="s1">this</span><span class="s0">.name = </span><span class="s2">&quot;SyntaxError&quot;</span><span class="s0">;</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s0">Error.captureStackTrace === </span><span class="s2">&quot;function&quot;</span><span class="s0">) {</span>
          <span class="s0">Error.captureStackTrace(</span><span class="s1">this</span><span class="s0">, peg$SyntaxError);</span>
        <span class="s0">}</span>
      <span class="s0">}</span>
      <span class="s0">peg$subclass(peg$SyntaxError, Error);</span>
      <span class="s0">peg$SyntaxError.buildMessage = </span><span class="s1">function </span><span class="s0">(expected, found) {</span>
        <span class="s1">var </span><span class="s0">DESCRIBE_EXPECTATION_FNS = {</span>
          <span class="s0">literal: </span><span class="s1">function </span><span class="s0">literal(expectation) {</span>
            <span class="s1">return </span><span class="s2">&quot;</span><span class="s4">\&quot;</span><span class="s2">&quot; </span><span class="s0">+ literalEscape(expectation.text) + </span><span class="s2">&quot;</span><span class="s4">\&quot;</span><span class="s2">&quot;</span><span class="s0">;</span>
          <span class="s0">},</span>
          <span class="s2">&quot;class&quot;</span><span class="s0">: </span><span class="s1">function </span><span class="s0">_class(expectation) {</span>
            <span class="s1">var </span><span class="s0">escapedParts = </span><span class="s2">&quot;&quot;</span><span class="s0">,</span>
              <span class="s0">i;</span>
            <span class="s1">for </span><span class="s0">(i = </span><span class="s3">0</span><span class="s0">; i &lt; expectation.parts.length; i++) {</span>
              <span class="s0">escapedParts += expectation.parts[i] </span><span class="s1">instanceof </span><span class="s0">Array ? classEscape(expectation.parts[i][</span><span class="s3">0</span><span class="s0">]) + </span><span class="s2">&quot;-&quot; </span><span class="s0">+ classEscape(expectation.parts[i][</span><span class="s3">1</span><span class="s0">]) : classEscape(expectation.parts[i]);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">&quot;[&quot; </span><span class="s0">+ (expectation.inverted ? </span><span class="s2">&quot;^&quot; </span><span class="s0">: </span><span class="s2">&quot;&quot;</span><span class="s0">) + escapedParts + </span><span class="s2">&quot;]&quot;</span><span class="s0">;</span>
          <span class="s0">},</span>
          <span class="s0">any: </span><span class="s1">function </span><span class="s0">any(expectation) {</span>
            <span class="s1">return </span><span class="s2">&quot;any character&quot;</span><span class="s0">;</span>
          <span class="s0">},</span>
          <span class="s0">end: </span><span class="s1">function </span><span class="s0">end(expectation) {</span>
            <span class="s1">return </span><span class="s2">&quot;end of input&quot;</span><span class="s0">;</span>
          <span class="s0">},</span>
          <span class="s0">other: </span><span class="s1">function </span><span class="s0">other(expectation) {</span>
            <span class="s1">return </span><span class="s0">expectation.description;</span>
          <span class="s0">}</span>
        <span class="s0">};</span>
        <span class="s1">function </span><span class="s0">hex(ch) {</span>
          <span class="s1">return </span><span class="s0">ch.charCodeAt(</span><span class="s3">0</span><span class="s0">).toString(</span><span class="s3">16</span><span class="s0">).toUpperCase();</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">literalEscape(s) {</span>
          <span class="s1">return </span><span class="s0">s.replace(/\\/g, </span><span class="s2">'</span><span class="s4">\\\\</span><span class="s2">'</span><span class="s0">).replace(/</span><span class="s2">&quot;/g, '</span><span class="s4">\\</span><span class="s2">&quot;').replace(/</span><span class="s4">\0</span><span class="s2">/g, '</span><span class="s0">\\</span><span class="s3">0</span><span class="s2">').replace(/</span><span class="s4">\t</span><span class="s2">/g, '</span><span class="s0">\\t</span><span class="s2">').replace(/</span><span class="s4">\n</span><span class="s2">/g, '</span><span class="s0">\\n</span><span class="s2">').replace(/</span><span class="s4">\r</span><span class="s2">/g, '</span><span class="s0">\\r</span><span class="s2">').replace(/[</span><span class="s4">\x</span><span class="s2">00-</span><span class="s4">\x</span><span class="s2">0F]/g, function (ch) {</span>
            <span class="s1">return </span><span class="s2">'</span><span class="s4">\\</span><span class="s2">x0' </span><span class="s0">+ hex(ch);</span>
          <span class="s0">}).replace(/[\x10-\x1F\x7F-\x9F]/g, </span><span class="s1">function </span><span class="s0">(ch) {</span>
            <span class="s1">return </span><span class="s2">'</span><span class="s4">\\</span><span class="s2">x' </span><span class="s0">+ hex(ch);</span>
          <span class="s0">});</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">classEscape(s) {</span>
          <span class="s1">return </span><span class="s0">s.replace(/\\/g, </span><span class="s2">'</span><span class="s4">\\\\</span><span class="s2">'</span><span class="s0">).replace(/\]/g, </span><span class="s2">'</span><span class="s4">\\</span><span class="s2">]'</span><span class="s0">).replace(/\^/g, </span><span class="s2">'</span><span class="s4">\\</span><span class="s2">^'</span><span class="s0">).replace(/-/g, </span><span class="s2">'</span><span class="s4">\\</span><span class="s2">-'</span><span class="s0">).replace(/\</span><span class="s3">0</span><span class="s0">/g, </span><span class="s2">'</span><span class="s4">\\</span><span class="s2">0'</span><span class="s0">).replace(/\t/g, </span><span class="s2">'</span><span class="s4">\\</span><span class="s2">t'</span><span class="s0">).replace(/\n/g, </span><span class="s2">'</span><span class="s4">\\</span><span class="s2">n'</span><span class="s0">).replace(/\r/g, </span><span class="s2">'</span><span class="s4">\\</span><span class="s2">r'</span><span class="s0">).replace(/[\x00-\x0F]/g, </span><span class="s1">function </span><span class="s0">(ch) {</span>
            <span class="s1">return </span><span class="s2">'</span><span class="s4">\\</span><span class="s2">x0' </span><span class="s0">+ hex(ch);</span>
          <span class="s0">}).replace(/[\x10-\x1F\x7F-\x9F]/g, </span><span class="s1">function </span><span class="s0">(ch) {</span>
            <span class="s1">return </span><span class="s2">'</span><span class="s4">\\</span><span class="s2">x' </span><span class="s0">+ hex(ch);</span>
          <span class="s0">});</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">describeExpectation(expectation) {</span>
          <span class="s1">return </span><span class="s0">DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">describeExpected(expected) {</span>
          <span class="s1">var </span><span class="s0">descriptions = </span><span class="s1">new </span><span class="s0">Array(expected.length),</span>
            <span class="s0">i,</span>
            <span class="s0">j;</span>
          <span class="s1">for </span><span class="s0">(i = </span><span class="s3">0</span><span class="s0">; i &lt; expected.length; i++) {</span>
            <span class="s0">descriptions[i] = describeExpectation(expected[i]);</span>
          <span class="s0">}</span>
          <span class="s0">descriptions.sort();</span>
          <span class="s1">if </span><span class="s0">(descriptions.length &gt; </span><span class="s3">0</span><span class="s0">) {</span>
            <span class="s1">for </span><span class="s0">(i = </span><span class="s3">1</span><span class="s0">, j = </span><span class="s3">1</span><span class="s0">; i &lt; descriptions.length; i++) {</span>
              <span class="s1">if </span><span class="s0">(descriptions[i - </span><span class="s3">1</span><span class="s0">] !== descriptions[i]) {</span>
                <span class="s0">descriptions[j] = descriptions[i];</span>
                <span class="s0">j++;</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s0">descriptions.length = j;</span>
          <span class="s0">}</span>
          <span class="s1">switch </span><span class="s0">(descriptions.length) {</span>
            <span class="s1">case </span><span class="s3">1</span><span class="s0">:</span>
              <span class="s1">return </span><span class="s0">descriptions[</span><span class="s3">0</span><span class="s0">];</span>
            <span class="s1">case </span><span class="s3">2</span><span class="s0">:</span>
              <span class="s1">return </span><span class="s0">descriptions[</span><span class="s3">0</span><span class="s0">] + </span><span class="s2">&quot; or &quot; </span><span class="s0">+ descriptions[</span><span class="s3">1</span><span class="s0">];</span>
            <span class="s1">default</span><span class="s0">:</span>
              <span class="s1">return </span><span class="s0">descriptions.slice(</span><span class="s3">0</span><span class="s0">, -</span><span class="s3">1</span><span class="s0">).join(</span><span class="s2">&quot;, &quot;</span><span class="s0">) + </span><span class="s2">&quot;, or &quot; </span><span class="s0">+ descriptions[descriptions.length - </span><span class="s3">1</span><span class="s0">];</span>
          <span class="s0">}</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">describeFound(found) {</span>
          <span class="s1">return </span><span class="s0">found ? </span><span class="s2">&quot;</span><span class="s4">\&quot;</span><span class="s2">&quot; </span><span class="s0">+ literalEscape(found) + </span><span class="s2">&quot;</span><span class="s4">\&quot;</span><span class="s2">&quot; </span><span class="s0">: </span><span class="s2">&quot;end of input&quot;</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">&quot;Expected &quot; </span><span class="s0">+ describeExpected(expected) + </span><span class="s2">&quot; but &quot; </span><span class="s0">+ describeFound(found) + </span><span class="s2">&quot; found.&quot;</span><span class="s0">;</span>
      <span class="s0">};</span>
      <span class="s1">function </span><span class="s0">peg$parse(input, options) {</span>
        <span class="s0">options = options !== </span><span class="s1">void </span><span class="s3">0 </span><span class="s0">? options : {};</span>
        <span class="s1">var </span><span class="s0">peg$FAILED = {},</span>
          <span class="s0">peg$startRuleFunctions = {</span>
            <span class="s0">start: peg$parsestart</span>
          <span class="s0">},</span>
          <span class="s0">peg$startRuleFunction = peg$parsestart,</span>
          <span class="s0">peg$c0 = </span><span class="s1">function </span><span class="s0">peg$c0(ss) {</span>
            <span class="s1">return </span><span class="s0">ss.length === </span><span class="s3">1 </span><span class="s0">? ss[</span><span class="s3">0</span><span class="s0">] : {</span>
              <span class="s0">type: </span><span class="s2">'matches'</span><span class="s0">,</span>
              <span class="s0">selectors: ss</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c1 = </span><span class="s1">function </span><span class="s0">peg$c1() {</span>
            <span class="s1">return void </span><span class="s3">0</span><span class="s0">;</span>
          <span class="s0">},</span>
          <span class="s0">peg$c2 = </span><span class="s2">&quot; &quot;</span><span class="s0">,</span>
          <span class="s0">peg$c3 = peg$literalExpectation(</span><span class="s2">&quot; &quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c4 = /^[^ [\],():#!=&gt;&lt;~+.]/,</span>
          <span class="s0">peg$c5 = peg$classExpectation([</span><span class="s2">&quot; &quot;</span><span class="s0">, </span><span class="s2">&quot;[&quot;</span><span class="s0">, </span><span class="s2">&quot;]&quot;</span><span class="s0">, </span><span class="s2">&quot;,&quot;</span><span class="s0">, </span><span class="s2">&quot;(&quot;</span><span class="s0">, </span><span class="s2">&quot;)&quot;</span><span class="s0">, </span><span class="s2">&quot;:&quot;</span><span class="s0">, </span><span class="s2">&quot;#&quot;</span><span class="s0">, </span><span class="s2">&quot;!&quot;</span><span class="s0">, </span><span class="s2">&quot;=&quot;</span><span class="s0">, </span><span class="s2">&quot;&gt;&quot;</span><span class="s0">, </span><span class="s2">&quot;&lt;&quot;</span><span class="s0">, </span><span class="s2">&quot;~&quot;</span><span class="s0">, </span><span class="s2">&quot;+&quot;</span><span class="s0">, </span><span class="s2">&quot;.&quot;</span><span class="s0">], </span><span class="s1">true</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c6 = </span><span class="s1">function </span><span class="s0">peg$c6(i) {</span>
            <span class="s1">return </span><span class="s0">i.join(</span><span class="s2">''</span><span class="s0">);</span>
          <span class="s0">},</span>
          <span class="s0">peg$c7 = </span><span class="s2">&quot;&gt;&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c8 = peg$literalExpectation(</span><span class="s2">&quot;&gt;&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c9 = </span><span class="s1">function </span><span class="s0">peg$c9() {</span>
            <span class="s1">return </span><span class="s2">'child'</span><span class="s0">;</span>
          <span class="s0">},</span>
          <span class="s0">peg$c10 = </span><span class="s2">&quot;~&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c11 = peg$literalExpectation(</span><span class="s2">&quot;~&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c12 = </span><span class="s1">function </span><span class="s0">peg$c12() {</span>
            <span class="s1">return </span><span class="s2">'sibling'</span><span class="s0">;</span>
          <span class="s0">},</span>
          <span class="s0">peg$c13 = </span><span class="s2">&quot;+&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c14 = peg$literalExpectation(</span><span class="s2">&quot;+&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c15 = </span><span class="s1">function </span><span class="s0">peg$c15() {</span>
            <span class="s1">return </span><span class="s2">'adjacent'</span><span class="s0">;</span>
          <span class="s0">},</span>
          <span class="s0">peg$c16 = </span><span class="s1">function </span><span class="s0">peg$c16() {</span>
            <span class="s1">return </span><span class="s2">'descendant'</span><span class="s0">;</span>
          <span class="s0">},</span>
          <span class="s0">peg$c17 = </span><span class="s2">&quot;,&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c18 = peg$literalExpectation(</span><span class="s2">&quot;,&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c19 = </span><span class="s1">function </span><span class="s0">peg$c19(s, ss) {</span>
            <span class="s1">return </span><span class="s0">[s].concat(ss.map(</span><span class="s1">function </span><span class="s0">(s) {</span>
              <span class="s1">return </span><span class="s0">s[</span><span class="s3">3</span><span class="s0">];</span>
            <span class="s0">}));</span>
          <span class="s0">},</span>
          <span class="s0">peg$c20 = </span><span class="s1">function </span><span class="s0">peg$c20(a, ops) {</span>
            <span class="s1">return </span><span class="s0">ops.reduce(</span><span class="s1">function </span><span class="s0">(memo, rhs) {</span>
              <span class="s1">return </span><span class="s0">{</span>
                <span class="s0">type: rhs[</span><span class="s3">0</span><span class="s0">],</span>
                <span class="s0">left: memo,</span>
                <span class="s0">right: rhs[</span><span class="s3">1</span><span class="s0">]</span>
              <span class="s0">};</span>
            <span class="s0">}, a);</span>
          <span class="s0">},</span>
          <span class="s0">peg$c21 = </span><span class="s2">&quot;!&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c22 = peg$literalExpectation(</span><span class="s2">&quot;!&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c23 = </span><span class="s1">function </span><span class="s0">peg$c23(subject, as) {</span>
            <span class="s1">var </span><span class="s0">b = as.length === </span><span class="s3">1 </span><span class="s0">? as[</span><span class="s3">0</span><span class="s0">] : {</span>
              <span class="s0">type: </span><span class="s2">'compound'</span><span class="s0">,</span>
              <span class="s0">selectors: as</span>
            <span class="s0">};</span>
            <span class="s1">if </span><span class="s0">(subject) b.subject = </span><span class="s1">true</span><span class="s0">;</span>
            <span class="s1">return </span><span class="s0">b;</span>
          <span class="s0">},</span>
          <span class="s0">peg$c24 = </span><span class="s2">&quot;*&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c25 = peg$literalExpectation(</span><span class="s2">&quot;*&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c26 = </span><span class="s1">function </span><span class="s0">peg$c26(a) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'wildcard'</span><span class="s0">,</span>
              <span class="s0">value: a</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c27 = </span><span class="s2">&quot;#&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c28 = peg$literalExpectation(</span><span class="s2">&quot;#&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c29 = </span><span class="s1">function </span><span class="s0">peg$c29(i) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'identifier'</span><span class="s0">,</span>
              <span class="s0">value: i</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c30 = </span><span class="s2">&quot;[&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c31 = peg$literalExpectation(</span><span class="s2">&quot;[&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c32 = </span><span class="s2">&quot;]&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c33 = peg$literalExpectation(</span><span class="s2">&quot;]&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c34 = </span><span class="s1">function </span><span class="s0">peg$c34(v) {</span>
            <span class="s1">return </span><span class="s0">v;</span>
          <span class="s0">},</span>
          <span class="s0">peg$c35 = /^[&gt;&lt;!]/,</span>
          <span class="s0">peg$c36 = peg$classExpectation([</span><span class="s2">&quot;&gt;&quot;</span><span class="s0">, </span><span class="s2">&quot;&lt;&quot;</span><span class="s0">, </span><span class="s2">&quot;!&quot;</span><span class="s0">], </span><span class="s1">false</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c37 = </span><span class="s2">&quot;=&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c38 = peg$literalExpectation(</span><span class="s2">&quot;=&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c39 = </span><span class="s1">function </span><span class="s0">peg$c39(a) {</span>
            <span class="s1">return </span><span class="s0">(a || </span><span class="s2">''</span><span class="s0">) + </span><span class="s2">'='</span><span class="s0">;</span>
          <span class="s0">},</span>
          <span class="s0">peg$c40 = /^[&gt;&lt;]/,</span>
          <span class="s0">peg$c41 = peg$classExpectation([</span><span class="s2">&quot;&gt;&quot;</span><span class="s0">, </span><span class="s2">&quot;&lt;&quot;</span><span class="s0">], </span><span class="s1">false</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c42 = </span><span class="s2">&quot;.&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c43 = peg$literalExpectation(</span><span class="s2">&quot;.&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c44 = </span><span class="s1">function </span><span class="s0">peg$c44(a, as) {</span>
            <span class="s1">return </span><span class="s0">[].concat.apply([a], as).join(</span><span class="s2">''</span><span class="s0">);</span>
          <span class="s0">},</span>
          <span class="s0">peg$c45 = </span><span class="s1">function </span><span class="s0">peg$c45(name, op, value) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'attribute'</span><span class="s0">,</span>
              <span class="s0">name: name,</span>
              <span class="s0">operator: op,</span>
              <span class="s0">value: value</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c46 = </span><span class="s1">function </span><span class="s0">peg$c46(name) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'attribute'</span><span class="s0">,</span>
              <span class="s0">name: name</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c47 = </span><span class="s2">&quot;</span><span class="s4">\&quot;</span><span class="s2">&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c48 = peg$literalExpectation(</span><span class="s2">&quot;</span><span class="s4">\&quot;</span><span class="s2">&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c49 = /^[^\\</span><span class="s2">&quot;]/,</span>
          <span class="s0">peg$c50 = peg$classExpectation([</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">, </span><span class="s2">&quot;</span><span class="s4">\&quot;</span><span class="s2">&quot;</span><span class="s0">], </span><span class="s1">true</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c51 = </span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c52 = peg$literalExpectation(</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c53 = peg$anyExpectation(),</span>
          <span class="s0">peg$c54 = </span><span class="s1">function </span><span class="s0">peg$c54(a, b) {</span>
            <span class="s1">return </span><span class="s0">a + b;</span>
          <span class="s0">},</span>
          <span class="s0">peg$c55 = </span><span class="s1">function </span><span class="s0">peg$c55(d) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'literal'</span><span class="s0">,</span>
              <span class="s0">value: strUnescape(d.join(</span><span class="s2">''</span><span class="s0">))</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c56 = </span><span class="s2">&quot;'&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c57 = peg$literalExpectation(</span><span class="s2">&quot;'&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c58 = /^[^\\</span><span class="s2">']/,</span>
          <span class="s0">peg$c59 = peg$classExpectation([</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">, </span><span class="s2">&quot;'&quot;</span><span class="s0">], </span><span class="s1">true</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c60 = /^[</span><span class="s3">0</span><span class="s0">-</span><span class="s3">9</span><span class="s0">]/,</span>
          <span class="s0">peg$c61 = peg$classExpectation([[</span><span class="s2">&quot;0&quot;</span><span class="s0">, </span><span class="s2">&quot;9&quot;</span><span class="s0">]], </span><span class="s1">false</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c62 = </span><span class="s1">function </span><span class="s0">peg$c62(a, b) {</span>
            <span class="s5">// Can use `a.flat().join('')` once supported</span>
            <span class="s1">var </span><span class="s0">leadingDecimals = a ? [].concat.apply([], a).join(</span><span class="s2">''</span><span class="s0">) : </span><span class="s2">''</span><span class="s0">;</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'literal'</span><span class="s0">,</span>
              <span class="s0">value: parseFloat(leadingDecimals + b.join(</span><span class="s2">''</span><span class="s0">))</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c63 = </span><span class="s1">function </span><span class="s0">peg$c63(i) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'literal'</span><span class="s0">,</span>
              <span class="s0">value: i</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c64 = </span><span class="s2">&quot;type(&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c65 = peg$literalExpectation(</span><span class="s2">&quot;type(&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c66 = /^[^ )]/,</span>
          <span class="s0">peg$c67 = peg$classExpectation([</span><span class="s2">&quot; &quot;</span><span class="s0">, </span><span class="s2">&quot;)&quot;</span><span class="s0">], </span><span class="s1">true</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c68 = </span><span class="s2">&quot;)&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c69 = peg$literalExpectation(</span><span class="s2">&quot;)&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c70 = </span><span class="s1">function </span><span class="s0">peg$c70(t) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'type'</span><span class="s0">,</span>
              <span class="s0">value: t.join(</span><span class="s2">''</span><span class="s0">)</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c71 = /^[imsu]/,</span>
          <span class="s0">peg$c72 = peg$classExpectation([</span><span class="s2">&quot;i&quot;</span><span class="s0">, </span><span class="s2">&quot;m&quot;</span><span class="s0">, </span><span class="s2">&quot;s&quot;</span><span class="s0">, </span><span class="s2">&quot;u&quot;</span><span class="s0">], </span><span class="s1">false</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c73 = </span><span class="s2">&quot;/&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c74 = peg$literalExpectation(</span><span class="s2">&quot;/&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c75 = /^[^\/]/,</span>
          <span class="s0">peg$c76 = peg$classExpectation([</span><span class="s2">&quot;/&quot;</span><span class="s0">], </span><span class="s1">true</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c77 = </span><span class="s1">function </span><span class="s0">peg$c77(d, flgs) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'regexp'</span><span class="s0">,</span>
              <span class="s0">value: </span><span class="s1">new </span><span class="s0">RegExp(d.join(</span><span class="s2">''</span><span class="s0">), flgs ? flgs.join(</span><span class="s2">''</span><span class="s0">) : </span><span class="s2">''</span><span class="s0">)</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c78 = </span><span class="s1">function </span><span class="s0">peg$c78(i, is) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'field'</span><span class="s0">,</span>
              <span class="s0">name: is.reduce(</span><span class="s1">function </span><span class="s0">(memo, p) {</span>
                <span class="s1">return </span><span class="s0">memo + p[</span><span class="s3">0</span><span class="s0">] + p[</span><span class="s3">1</span><span class="s0">];</span>
              <span class="s0">}, i)</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c79 = </span><span class="s2">&quot;:not(&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c80 = peg$literalExpectation(</span><span class="s2">&quot;:not(&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c81 = </span><span class="s1">function </span><span class="s0">peg$c81(ss) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'not'</span><span class="s0">,</span>
              <span class="s0">selectors: ss</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c82 = </span><span class="s2">&quot;:matches(&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c83 = peg$literalExpectation(</span><span class="s2">&quot;:matches(&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c84 = </span><span class="s1">function </span><span class="s0">peg$c84(ss) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'matches'</span><span class="s0">,</span>
              <span class="s0">selectors: ss</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c85 = </span><span class="s2">&quot;:has(&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c86 = peg$literalExpectation(</span><span class="s2">&quot;:has(&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c87 = </span><span class="s1">function </span><span class="s0">peg$c87(ss) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'has'</span><span class="s0">,</span>
              <span class="s0">selectors: ss</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$c88 = </span><span class="s2">&quot;:first-child&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c89 = peg$literalExpectation(</span><span class="s2">&quot;:first-child&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c90 = </span><span class="s1">function </span><span class="s0">peg$c90() {</span>
            <span class="s1">return </span><span class="s0">nth(</span><span class="s3">1</span><span class="s0">);</span>
          <span class="s0">},</span>
          <span class="s0">peg$c91 = </span><span class="s2">&quot;:last-child&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c92 = peg$literalExpectation(</span><span class="s2">&quot;:last-child&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c93 = </span><span class="s1">function </span><span class="s0">peg$c93() {</span>
            <span class="s1">return </span><span class="s0">nthLast(</span><span class="s3">1</span><span class="s0">);</span>
          <span class="s0">},</span>
          <span class="s0">peg$c94 = </span><span class="s2">&quot;:nth-child(&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c95 = peg$literalExpectation(</span><span class="s2">&quot;:nth-child(&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c96 = </span><span class="s1">function </span><span class="s0">peg$c96(n) {</span>
            <span class="s1">return </span><span class="s0">nth(parseInt(n.join(</span><span class="s2">''</span><span class="s0">), </span><span class="s3">10</span><span class="s0">));</span>
          <span class="s0">},</span>
          <span class="s0">peg$c97 = </span><span class="s2">&quot;:nth-last-child(&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c98 = peg$literalExpectation(</span><span class="s2">&quot;:nth-last-child(&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c99 = </span><span class="s1">function </span><span class="s0">peg$c99(n) {</span>
            <span class="s1">return </span><span class="s0">nthLast(parseInt(n.join(</span><span class="s2">''</span><span class="s0">), </span><span class="s3">10</span><span class="s0">));</span>
          <span class="s0">},</span>
          <span class="s0">peg$c100 = </span><span class="s2">&quot;:&quot;</span><span class="s0">,</span>
          <span class="s0">peg$c101 = peg$literalExpectation(</span><span class="s2">&quot;:&quot;</span><span class="s0">, </span><span class="s1">false</span><span class="s0">),</span>
          <span class="s0">peg$c102 = </span><span class="s1">function </span><span class="s0">peg$c102(c) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s0">type: </span><span class="s2">'class'</span><span class="s0">,</span>
              <span class="s0">name: c</span>
            <span class="s0">};</span>
          <span class="s0">},</span>
          <span class="s0">peg$currPos = </span><span class="s3">0</span><span class="s0">,</span>
          <span class="s0">peg$posDetailsCache = [{</span>
            <span class="s0">line: </span><span class="s3">1</span><span class="s0">,</span>
            <span class="s0">column: </span><span class="s3">1</span>
          <span class="s0">}],</span>
          <span class="s0">peg$maxFailPos = </span><span class="s3">0</span><span class="s0">,</span>
          <span class="s0">peg$maxFailExpected = [],</span>
          <span class="s0">peg$resultsCache = {},</span>
          <span class="s0">peg$result;</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">&quot;startRule&quot; </span><span class="s1">in </span><span class="s0">options) {</span>
          <span class="s1">if </span><span class="s0">(!(options.startRule </span><span class="s1">in </span><span class="s0">peg$startRuleFunctions)) {</span>
            <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">&quot;Can't start parsing from rule </span><span class="s4">\&quot;</span><span class="s2">&quot; </span><span class="s0">+ options.startRule + </span><span class="s2">&quot;</span><span class="s4">\&quot;</span><span class="s2">.&quot;</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s0">peg$startRuleFunction = peg$startRuleFunctions[options.startRule];</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$literalExpectation(text, ignoreCase) {</span>
          <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s2">&quot;literal&quot;</span><span class="s0">,</span>
            <span class="s0">text: text,</span>
            <span class="s0">ignoreCase: ignoreCase</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$classExpectation(parts, inverted, ignoreCase) {</span>
          <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s2">&quot;class&quot;</span><span class="s0">,</span>
            <span class="s0">parts: parts,</span>
            <span class="s0">inverted: inverted,</span>
            <span class="s0">ignoreCase: ignoreCase</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$anyExpectation() {</span>
          <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s2">&quot;any&quot;</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$endExpectation() {</span>
          <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s2">&quot;end&quot;</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$computePosDetails(pos) {</span>
          <span class="s1">var </span><span class="s0">details = peg$posDetailsCache[pos],</span>
            <span class="s0">p;</span>
          <span class="s1">if </span><span class="s0">(details) {</span>
            <span class="s1">return </span><span class="s0">details;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">p = pos - </span><span class="s3">1</span><span class="s0">;</span>
            <span class="s1">while </span><span class="s0">(!peg$posDetailsCache[p]) {</span>
              <span class="s0">p--;</span>
            <span class="s0">}</span>
            <span class="s0">details = peg$posDetailsCache[p];</span>
            <span class="s0">details = {</span>
              <span class="s0">line: details.line,</span>
              <span class="s0">column: details.column</span>
            <span class="s0">};</span>
            <span class="s1">while </span><span class="s0">(p &lt; pos) {</span>
              <span class="s1">if </span><span class="s0">(input.charCodeAt(p) === </span><span class="s3">10</span><span class="s0">) {</span>
                <span class="s0">details.line++;</span>
                <span class="s0">details.column = </span><span class="s3">1</span><span class="s0">;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">details.column++;</span>
              <span class="s0">}</span>
              <span class="s0">p++;</span>
            <span class="s0">}</span>
            <span class="s0">peg$posDetailsCache[pos] = details;</span>
            <span class="s1">return </span><span class="s0">details;</span>
          <span class="s0">}</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$computeLocation(startPos, endPos) {</span>
          <span class="s1">var </span><span class="s0">startPosDetails = peg$computePosDetails(startPos),</span>
            <span class="s0">endPosDetails = peg$computePosDetails(endPos);</span>
          <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">start: {</span>
              <span class="s0">offset: startPos,</span>
              <span class="s0">line: startPosDetails.line,</span>
              <span class="s0">column: startPosDetails.column</span>
            <span class="s0">},</span>
            <span class="s0">end: {</span>
              <span class="s0">offset: endPos,</span>
              <span class="s0">line: endPosDetails.line,</span>
              <span class="s0">column: endPosDetails.column</span>
            <span class="s0">}</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$fail(expected) {</span>
          <span class="s1">if </span><span class="s0">(peg$currPos &lt; peg$maxFailPos) {</span>
            <span class="s1">return</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(peg$currPos &gt; peg$maxFailPos) {</span>
            <span class="s0">peg$maxFailPos = peg$currPos;</span>
            <span class="s0">peg$maxFailExpected = [];</span>
          <span class="s0">}</span>
          <span class="s0">peg$maxFailExpected.push(expected);</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$buildStructuredError(expected, found, location) {</span>
          <span class="s1">return new </span><span class="s0">peg$SyntaxError(peg$SyntaxError.buildMessage(expected, found), expected, found, location);</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsestart() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">0</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s0">s1 = peg$parse_();</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = peg$parseselectors();</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s3 = peg$parse_();</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s1 = peg$c0(s2);</span>
                <span class="s0">s0 = s1;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
            <span class="s0">s0 = peg$currPos;</span>
            <span class="s0">s1 = peg$parse_();</span>
            <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
              <span class="s0">s1 = peg$c1();</span>
            <span class="s0">}</span>
            <span class="s0">s0 = s1;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parse_() {</span>
          <span class="s1">var </span><span class="s0">s0, s1;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">1</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = [];</span>
          <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">32</span><span class="s0">) {</span>
            <span class="s0">s1 = peg$c2;</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c3);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">while </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s0.push(s1);</span>
            <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">32</span><span class="s0">) {</span>
              <span class="s0">s1 = peg$c2;</span>
              <span class="s0">peg$currPos++;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s1 = peg$FAILED;</span>
              <span class="s0">{</span>
                <span class="s0">peg$fail(peg$c3);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseidentifierName() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">2</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s0">s1 = [];</span>
          <span class="s1">if </span><span class="s0">(peg$c4.test(input.charAt(peg$currPos))) {</span>
            <span class="s0">s2 = input.charAt(peg$currPos);</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s2 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c5);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
            <span class="s1">while </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s1.push(s2);</span>
              <span class="s1">if </span><span class="s0">(peg$c4.test(input.charAt(peg$currPos))) {</span>
                <span class="s0">s2 = input.charAt(peg$currPos);</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s2 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c5);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s1 = peg$c6(s1);</span>
          <span class="s0">}</span>
          <span class="s0">s0 = s1;</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsebinaryOp() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">3</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s0">s1 = peg$parse_();</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">62</span><span class="s0">) {</span>
              <span class="s0">s2 = peg$c7;</span>
              <span class="s0">peg$currPos++;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s2 = peg$FAILED;</span>
              <span class="s0">{</span>
                <span class="s0">peg$fail(peg$c8);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s3 = peg$parse_();</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s1 = peg$c9();</span>
                <span class="s0">s0 = s1;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
            <span class="s0">s0 = peg$currPos;</span>
            <span class="s0">s1 = peg$parse_();</span>
            <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
              <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">126</span><span class="s0">) {</span>
                <span class="s0">s2 = peg$c10;</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s2 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c11);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
                <span class="s0">s3 = peg$parse_();</span>
                <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                  <span class="s0">s1 = peg$c12();</span>
                  <span class="s0">s0 = s1;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
              <span class="s0">s0 = peg$currPos;</span>
              <span class="s0">s1 = peg$parse_();</span>
              <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
                <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">43</span><span class="s0">) {</span>
                  <span class="s0">s2 = peg$c13;</span>
                  <span class="s0">peg$currPos++;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">s2 = peg$FAILED;</span>
                  <span class="s0">{</span>
                    <span class="s0">peg$fail(peg$c14);</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
                  <span class="s0">s3 = peg$parse_();</span>
                  <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                    <span class="s0">s1 = peg$c15();</span>
                    <span class="s0">s0 = s1;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s0;</span>
                    <span class="s0">s0 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
                <span class="s0">s0 = peg$currPos;</span>
                <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">32</span><span class="s0">) {</span>
                  <span class="s0">s1 = peg$c2;</span>
                  <span class="s0">peg$currPos++;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">s1 = peg$FAILED;</span>
                  <span class="s0">{</span>
                    <span class="s0">peg$fail(peg$c3);</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
                  <span class="s0">s2 = peg$parse_();</span>
                  <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
                    <span class="s0">s1 = peg$c16();</span>
                    <span class="s0">s0 = s1;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s0;</span>
                    <span class="s0">s0 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseselectors() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5, s6, s7;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">4</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s0">s1 = peg$parseselector();</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = [];</span>
            <span class="s0">s3 = peg$currPos;</span>
            <span class="s0">s4 = peg$parse_();</span>
            <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
              <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">44</span><span class="s0">) {</span>
                <span class="s0">s5 = peg$c17;</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s5 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c18);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                <span class="s0">s6 = peg$parse_();</span>
                <span class="s1">if </span><span class="s0">(s6 !== peg$FAILED) {</span>
                  <span class="s0">s7 = peg$parseselector();</span>
                  <span class="s1">if </span><span class="s0">(s7 !== peg$FAILED) {</span>
                    <span class="s0">s4 = [s4, s5, s6, s7];</span>
                    <span class="s0">s3 = s4;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s3;</span>
                    <span class="s0">s3 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s3;</span>
                  <span class="s0">s3 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s3;</span>
                <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s3;</span>
              <span class="s0">s3 = peg$FAILED;</span>
            <span class="s0">}</span>
            <span class="s1">while </span><span class="s0">(s3 !== peg$FAILED) {</span>
              <span class="s0">s2.push(s3);</span>
              <span class="s0">s3 = peg$currPos;</span>
              <span class="s0">s4 = peg$parse_();</span>
              <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">44</span><span class="s0">) {</span>
                  <span class="s0">s5 = peg$c17;</span>
                  <span class="s0">peg$currPos++;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">s5 = peg$FAILED;</span>
                  <span class="s0">{</span>
                    <span class="s0">peg$fail(peg$c18);</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                  <span class="s0">s6 = peg$parse_();</span>
                  <span class="s1">if </span><span class="s0">(s6 !== peg$FAILED) {</span>
                    <span class="s0">s7 = peg$parseselector();</span>
                    <span class="s1">if </span><span class="s0">(s7 !== peg$FAILED) {</span>
                      <span class="s0">s4 = [s4, s5, s6, s7];</span>
                      <span class="s0">s3 = s4;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                      <span class="s0">peg$currPos = s3;</span>
                      <span class="s0">s3 = peg$FAILED;</span>
                    <span class="s0">}</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s3;</span>
                    <span class="s0">s3 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s3;</span>
                  <span class="s0">s3 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s3;</span>
                <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s1 = peg$c19(s1, s2);</span>
              <span class="s0">s0 = s1;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseselector() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">5</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s0">s1 = peg$parsesequence();</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = [];</span>
            <span class="s0">s3 = peg$currPos;</span>
            <span class="s0">s4 = peg$parsebinaryOp();</span>
            <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
              <span class="s0">s5 = peg$parsesequence();</span>
              <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                <span class="s0">s4 = [s4, s5];</span>
                <span class="s0">s3 = s4;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s3;</span>
                <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s3;</span>
              <span class="s0">s3 = peg$FAILED;</span>
            <span class="s0">}</span>
            <span class="s1">while </span><span class="s0">(s3 !== peg$FAILED) {</span>
              <span class="s0">s2.push(s3);</span>
              <span class="s0">s3 = peg$currPos;</span>
              <span class="s0">s4 = peg$parsebinaryOp();</span>
              <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                <span class="s0">s5 = peg$parsesequence();</span>
                <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                  <span class="s0">s4 = [s4, s5];</span>
                  <span class="s0">s3 = s4;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s3;</span>
                  <span class="s0">s3 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s3;</span>
                <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s1 = peg$c20(s1, s2);</span>
              <span class="s0">s0 = s1;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsesequence() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">6</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">33</span><span class="s0">) {</span>
            <span class="s0">s1 = peg$c21;</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c22);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 === peg$FAILED) {</span>
            <span class="s0">s1 = </span><span class="s1">null</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = [];</span>
            <span class="s0">s3 = peg$parseatom();</span>
            <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
              <span class="s1">while </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s2.push(s3);</span>
                <span class="s0">s3 = peg$parseatom();</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s2 = peg$FAILED;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s1 = peg$c23(s1, s2);</span>
              <span class="s0">s0 = s1;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseatom() {</span>
          <span class="s1">var </span><span class="s0">s0;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">7</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$parsewildcard();</span>
          <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
            <span class="s0">s0 = peg$parseidentifier();</span>
            <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
              <span class="s0">s0 = peg$parseattr();</span>
              <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
                <span class="s0">s0 = peg$parsefield();</span>
                <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
                  <span class="s0">s0 = peg$parsenegation();</span>
                  <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
                    <span class="s0">s0 = peg$parsematches();</span>
                    <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
                      <span class="s0">s0 = peg$parsehas();</span>
                      <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
                        <span class="s0">s0 = peg$parsefirstChild();</span>
                        <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
                          <span class="s0">s0 = peg$parselastChild();</span>
                          <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
                            <span class="s0">s0 = peg$parsenthChild();</span>
                            <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
                              <span class="s0">s0 = peg$parsenthLastChild();</span>
                              <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
                                <span class="s0">s0 = peg$parseclass();</span>
                              <span class="s0">}</span>
                            <span class="s0">}</span>
                          <span class="s0">}</span>
                        <span class="s0">}</span>
                      <span class="s0">}</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsewildcard() {</span>
          <span class="s1">var </span><span class="s0">s0, s1;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">8</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">42</span><span class="s0">) {</span>
            <span class="s0">s1 = peg$c24;</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c25);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s1 = peg$c26(s1);</span>
          <span class="s0">}</span>
          <span class="s0">s0 = s1;</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseidentifier() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">9</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">35</span><span class="s0">) {</span>
            <span class="s0">s1 = peg$c27;</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c28);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 === peg$FAILED) {</span>
            <span class="s0">s1 = </span><span class="s1">null</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = peg$parseidentifierName();</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s1 = peg$c29(s2);</span>
              <span class="s0">s0 = s1;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseattr() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">10</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">91</span><span class="s0">) {</span>
            <span class="s0">s1 = peg$c30;</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c31);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = peg$parse_();</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s3 = peg$parseattrValue();</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s4 = peg$parse_();</span>
                <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">93</span><span class="s0">) {</span>
                    <span class="s0">s5 = peg$c32;</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s5 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c33);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                  <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                    <span class="s0">s1 = peg$c34(s3);</span>
                    <span class="s0">s0 = s1;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s0;</span>
                    <span class="s0">s0 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseattrOps() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">11</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(peg$c35.test(input.charAt(peg$currPos))) {</span>
            <span class="s0">s1 = input.charAt(peg$currPos);</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c36);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 === peg$FAILED) {</span>
            <span class="s0">s1 = </span><span class="s1">null</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">61</span><span class="s0">) {</span>
              <span class="s0">s2 = peg$c37;</span>
              <span class="s0">peg$currPos++;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s2 = peg$FAILED;</span>
              <span class="s0">{</span>
                <span class="s0">peg$fail(peg$c38);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s1 = peg$c39(s1);</span>
              <span class="s0">s0 = s1;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
            <span class="s1">if </span><span class="s0">(peg$c40.test(input.charAt(peg$currPos))) {</span>
              <span class="s0">s0 = input.charAt(peg$currPos);</span>
              <span class="s0">peg$currPos++;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">{</span>
                <span class="s0">peg$fail(peg$c41);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseattrEqOps() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">12</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">33</span><span class="s0">) {</span>
            <span class="s0">s1 = peg$c21;</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c22);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 === peg$FAILED) {</span>
            <span class="s0">s1 = </span><span class="s1">null</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">61</span><span class="s0">) {</span>
              <span class="s0">s2 = peg$c37;</span>
              <span class="s0">peg$currPos++;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s2 = peg$FAILED;</span>
              <span class="s0">{</span>
                <span class="s0">peg$fail(peg$c38);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s1 = peg$c39(s1);</span>
              <span class="s0">s0 = s1;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseattrName() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">13</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s0">s1 = peg$parseidentifierName();</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = [];</span>
            <span class="s0">s3 = peg$currPos;</span>
            <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">46</span><span class="s0">) {</span>
              <span class="s0">s4 = peg$c42;</span>
              <span class="s0">peg$currPos++;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s4 = peg$FAILED;</span>
              <span class="s0">{</span>
                <span class="s0">peg$fail(peg$c43);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
              <span class="s0">s5 = peg$parseidentifierName();</span>
              <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                <span class="s0">s4 = [s4, s5];</span>
                <span class="s0">s3 = s4;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s3;</span>
                <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s3;</span>
              <span class="s0">s3 = peg$FAILED;</span>
            <span class="s0">}</span>
            <span class="s1">while </span><span class="s0">(s3 !== peg$FAILED) {</span>
              <span class="s0">s2.push(s3);</span>
              <span class="s0">s3 = peg$currPos;</span>
              <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">46</span><span class="s0">) {</span>
                <span class="s0">s4 = peg$c42;</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s4 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c43);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                <span class="s0">s5 = peg$parseidentifierName();</span>
                <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                  <span class="s0">s4 = [s4, s5];</span>
                  <span class="s0">s3 = s4;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s3;</span>
                  <span class="s0">s3 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s3;</span>
                <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s1 = peg$c44(s1, s2);</span>
              <span class="s0">s0 = s1;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseattrValue() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">14</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s0">s1 = peg$parseattrName();</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = peg$parse_();</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s3 = peg$parseattrEqOps();</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s4 = peg$parse_();</span>
                <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s0">s5 = peg$parsetype();</span>
                  <span class="s1">if </span><span class="s0">(s5 === peg$FAILED) {</span>
                    <span class="s0">s5 = peg$parseregex();</span>
                  <span class="s0">}</span>
                  <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                    <span class="s0">s1 = peg$c45(s1, s3, s5);</span>
                    <span class="s0">s0 = s1;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s0;</span>
                    <span class="s0">s0 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
            <span class="s0">s0 = peg$currPos;</span>
            <span class="s0">s1 = peg$parseattrName();</span>
            <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
              <span class="s0">s2 = peg$parse_();</span>
              <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
                <span class="s0">s3 = peg$parseattrOps();</span>
                <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                  <span class="s0">s4 = peg$parse_();</span>
                  <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                    <span class="s0">s5 = peg$parsestring();</span>
                    <span class="s1">if </span><span class="s0">(s5 === peg$FAILED) {</span>
                      <span class="s0">s5 = peg$parsenumber();</span>
                      <span class="s1">if </span><span class="s0">(s5 === peg$FAILED) {</span>
                        <span class="s0">s5 = peg$parsepath();</span>
                      <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                      <span class="s0">s1 = peg$c45(s1, s3, s5);</span>
                      <span class="s0">s0 = s1;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                      <span class="s0">peg$currPos = s0;</span>
                      <span class="s0">s0 = peg$FAILED;</span>
                    <span class="s0">}</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s0;</span>
                    <span class="s0">s0 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
              <span class="s0">s0 = peg$currPos;</span>
              <span class="s0">s1 = peg$parseattrName();</span>
              <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
                <span class="s0">s1 = peg$c46(s1);</span>
              <span class="s0">}</span>
              <span class="s0">s0 = s1;</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsestring() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">15</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">34</span><span class="s0">) {</span>
            <span class="s0">s1 = peg$c47;</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c48);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = [];</span>
            <span class="s1">if </span><span class="s0">(peg$c49.test(input.charAt(peg$currPos))) {</span>
              <span class="s0">s3 = input.charAt(peg$currPos);</span>
              <span class="s0">peg$currPos++;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">{</span>
                <span class="s0">peg$fail(peg$c50);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s3 === peg$FAILED) {</span>
              <span class="s0">s3 = peg$currPos;</span>
              <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">92</span><span class="s0">) {</span>
                <span class="s0">s4 = peg$c51;</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s4 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c52);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                <span class="s1">if </span><span class="s0">(input.length &gt; peg$currPos) {</span>
                  <span class="s0">s5 = input.charAt(peg$currPos);</span>
                  <span class="s0">peg$currPos++;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">s5 = peg$FAILED;</span>
                  <span class="s0">{</span>
                    <span class="s0">peg$fail(peg$c53);</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                  <span class="s0">s4 = peg$c54(s4, s5);</span>
                  <span class="s0">s3 = s4;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s3;</span>
                  <span class="s0">s3 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s3;</span>
                <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">while </span><span class="s0">(s3 !== peg$FAILED) {</span>
              <span class="s0">s2.push(s3);</span>
              <span class="s1">if </span><span class="s0">(peg$c49.test(input.charAt(peg$currPos))) {</span>
                <span class="s0">s3 = input.charAt(peg$currPos);</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s3 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c50);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s3 === peg$FAILED) {</span>
                <span class="s0">s3 = peg$currPos;</span>
                <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">92</span><span class="s0">) {</span>
                  <span class="s0">s4 = peg$c51;</span>
                  <span class="s0">peg$currPos++;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">s4 = peg$FAILED;</span>
                  <span class="s0">{</span>
                    <span class="s0">peg$fail(peg$c52);</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s1">if </span><span class="s0">(input.length &gt; peg$currPos) {</span>
                    <span class="s0">s5 = input.charAt(peg$currPos);</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s5 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c53);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                  <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                    <span class="s0">s4 = peg$c54(s4, s5);</span>
                    <span class="s0">s3 = s4;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s3;</span>
                    <span class="s0">s3 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s3;</span>
                  <span class="s0">s3 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">34</span><span class="s0">) {</span>
                <span class="s0">s3 = peg$c47;</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s3 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c48);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s1 = peg$c55(s2);</span>
                <span class="s0">s0 = s1;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s0 === peg$FAILED) {</span>
            <span class="s0">s0 = peg$currPos;</span>
            <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">39</span><span class="s0">) {</span>
              <span class="s0">s1 = peg$c56;</span>
              <span class="s0">peg$currPos++;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s1 = peg$FAILED;</span>
              <span class="s0">{</span>
                <span class="s0">peg$fail(peg$c57);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
              <span class="s0">s2 = [];</span>
              <span class="s1">if </span><span class="s0">(peg$c58.test(input.charAt(peg$currPos))) {</span>
                <span class="s0">s3 = input.charAt(peg$currPos);</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s3 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c59);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s3 === peg$FAILED) {</span>
                <span class="s0">s3 = peg$currPos;</span>
                <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">92</span><span class="s0">) {</span>
                  <span class="s0">s4 = peg$c51;</span>
                  <span class="s0">peg$currPos++;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">s4 = peg$FAILED;</span>
                  <span class="s0">{</span>
                    <span class="s0">peg$fail(peg$c52);</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s1">if </span><span class="s0">(input.length &gt; peg$currPos) {</span>
                    <span class="s0">s5 = input.charAt(peg$currPos);</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s5 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c53);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                  <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                    <span class="s0">s4 = peg$c54(s4, s5);</span>
                    <span class="s0">s3 = s4;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s3;</span>
                    <span class="s0">s3 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s3;</span>
                  <span class="s0">s3 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">while </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s2.push(s3);</span>
                <span class="s1">if </span><span class="s0">(peg$c58.test(input.charAt(peg$currPos))) {</span>
                  <span class="s0">s3 = input.charAt(peg$currPos);</span>
                  <span class="s0">peg$currPos++;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">s3 = peg$FAILED;</span>
                  <span class="s0">{</span>
                    <span class="s0">peg$fail(peg$c59);</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(s3 === peg$FAILED) {</span>
                  <span class="s0">s3 = peg$currPos;</span>
                  <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">92</span><span class="s0">) {</span>
                    <span class="s0">s4 = peg$c51;</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s4 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c52);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                  <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                    <span class="s1">if </span><span class="s0">(input.length &gt; peg$currPos) {</span>
                      <span class="s0">s5 = input.charAt(peg$currPos);</span>
                      <span class="s0">peg$currPos++;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                      <span class="s0">s5 = peg$FAILED;</span>
                      <span class="s0">{</span>
                        <span class="s0">peg$fail(peg$c53);</span>
                      <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                      <span class="s0">s4 = peg$c54(s4, s5);</span>
                      <span class="s0">s3 = s4;</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                      <span class="s0">peg$currPos = s3;</span>
                      <span class="s0">s3 = peg$FAILED;</span>
                    <span class="s0">}</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s3;</span>
                    <span class="s0">s3 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
                <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">39</span><span class="s0">) {</span>
                  <span class="s0">s3 = peg$c56;</span>
                  <span class="s0">peg$currPos++;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">s3 = peg$FAILED;</span>
                  <span class="s0">{</span>
                    <span class="s0">peg$fail(peg$c57);</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                  <span class="s0">s1 = peg$c55(s2);</span>
                  <span class="s0">s0 = s1;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsenumber() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">16</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s0">s1 = peg$currPos;</span>
          <span class="s0">s2 = [];</span>
          <span class="s1">if </span><span class="s0">(peg$c60.test(input.charAt(peg$currPos))) {</span>
            <span class="s0">s3 = input.charAt(peg$currPos);</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s3 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c61);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">while </span><span class="s0">(s3 !== peg$FAILED) {</span>
            <span class="s0">s2.push(s3);</span>
            <span class="s1">if </span><span class="s0">(peg$c60.test(input.charAt(peg$currPos))) {</span>
              <span class="s0">s3 = input.charAt(peg$currPos);</span>
              <span class="s0">peg$currPos++;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">{</span>
                <span class="s0">peg$fail(peg$c61);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
            <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">46</span><span class="s0">) {</span>
              <span class="s0">s3 = peg$c42;</span>
              <span class="s0">peg$currPos++;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">{</span>
                <span class="s0">peg$fail(peg$c43);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
              <span class="s0">s2 = [s2, s3];</span>
              <span class="s0">s1 = s2;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s1;</span>
              <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s1;</span>
            <span class="s0">s1 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 === peg$FAILED) {</span>
            <span class="s0">s1 = </span><span class="s1">null</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = [];</span>
            <span class="s1">if </span><span class="s0">(peg$c60.test(input.charAt(peg$currPos))) {</span>
              <span class="s0">s3 = input.charAt(peg$currPos);</span>
              <span class="s0">peg$currPos++;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">{</span>
                <span class="s0">peg$fail(peg$c61);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
              <span class="s1">while </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s2.push(s3);</span>
                <span class="s1">if </span><span class="s0">(peg$c60.test(input.charAt(peg$currPos))) {</span>
                  <span class="s0">s3 = input.charAt(peg$currPos);</span>
                  <span class="s0">peg$currPos++;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">s3 = peg$FAILED;</span>
                  <span class="s0">{</span>
                    <span class="s0">peg$fail(peg$c61);</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s2 = peg$FAILED;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s1 = peg$c62(s1, s2);</span>
              <span class="s0">s0 = s1;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsepath() {</span>
          <span class="s1">var </span><span class="s0">s0, s1;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">17</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s0">s1 = peg$parseidentifierName();</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s1 = peg$c63(s1);</span>
          <span class="s0">}</span>
          <span class="s0">s0 = s1;</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsetype() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">18</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.substr(peg$currPos, </span><span class="s3">5</span><span class="s0">) === peg$c64) {</span>
            <span class="s0">s1 = peg$c64;</span>
            <span class="s0">peg$currPos += </span><span class="s3">5</span><span class="s0">;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c65);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = peg$parse_();</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s3 = [];</span>
              <span class="s1">if </span><span class="s0">(peg$c66.test(input.charAt(peg$currPos))) {</span>
                <span class="s0">s4 = input.charAt(peg$currPos);</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s4 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c67);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                <span class="s1">while </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s0">s3.push(s4);</span>
                  <span class="s1">if </span><span class="s0">(peg$c66.test(input.charAt(peg$currPos))) {</span>
                    <span class="s0">s4 = input.charAt(peg$currPos);</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s4 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c67);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s4 = peg$parse_();</span>
                <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">41</span><span class="s0">) {</span>
                    <span class="s0">s5 = peg$c68;</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s5 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c69);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                  <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                    <span class="s0">s1 = peg$c70(s3);</span>
                    <span class="s0">s0 = s1;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s0;</span>
                    <span class="s0">s0 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseflags() {</span>
          <span class="s1">var </span><span class="s0">s0, s1;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">19</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = [];</span>
          <span class="s1">if </span><span class="s0">(peg$c71.test(input.charAt(peg$currPos))) {</span>
            <span class="s0">s1 = input.charAt(peg$currPos);</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c72);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s1">while </span><span class="s0">(s1 !== peg$FAILED) {</span>
              <span class="s0">s0.push(s1);</span>
              <span class="s1">if </span><span class="s0">(peg$c71.test(input.charAt(peg$currPos))) {</span>
                <span class="s0">s1 = input.charAt(peg$currPos);</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s1 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c72);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseregex() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">20</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">47</span><span class="s0">) {</span>
            <span class="s0">s1 = peg$c73;</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c74);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = [];</span>
            <span class="s1">if </span><span class="s0">(peg$c75.test(input.charAt(peg$currPos))) {</span>
              <span class="s0">s3 = input.charAt(peg$currPos);</span>
              <span class="s0">peg$currPos++;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">{</span>
                <span class="s0">peg$fail(peg$c76);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
              <span class="s1">while </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s2.push(s3);</span>
                <span class="s1">if </span><span class="s0">(peg$c75.test(input.charAt(peg$currPos))) {</span>
                  <span class="s0">s3 = input.charAt(peg$currPos);</span>
                  <span class="s0">peg$currPos++;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">s3 = peg$FAILED;</span>
                  <span class="s0">{</span>
                    <span class="s0">peg$fail(peg$c76);</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">s2 = peg$FAILED;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">47</span><span class="s0">) {</span>
                <span class="s0">s3 = peg$c73;</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s3 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c74);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s4 = peg$parseflags();</span>
                <span class="s1">if </span><span class="s0">(s4 === peg$FAILED) {</span>
                  <span class="s0">s4 = </span><span class="s1">null</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s0">s1 = peg$c77(s2, s4);</span>
                  <span class="s0">s0 = s1;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsefield() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5, s6;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">21</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">46</span><span class="s0">) {</span>
            <span class="s0">s1 = peg$c42;</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c43);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = peg$parseidentifierName();</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s3 = [];</span>
              <span class="s0">s4 = peg$currPos;</span>
              <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">46</span><span class="s0">) {</span>
                <span class="s0">s5 = peg$c42;</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s5 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c43);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                <span class="s0">s6 = peg$parseidentifierName();</span>
                <span class="s1">if </span><span class="s0">(s6 !== peg$FAILED) {</span>
                  <span class="s0">s5 = [s5, s6];</span>
                  <span class="s0">s4 = s5;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s4;</span>
                  <span class="s0">s4 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s4;</span>
                <span class="s0">s4 = peg$FAILED;</span>
              <span class="s0">}</span>
              <span class="s1">while </span><span class="s0">(s4 !== peg$FAILED) {</span>
                <span class="s0">s3.push(s4);</span>
                <span class="s0">s4 = peg$currPos;</span>
                <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">46</span><span class="s0">) {</span>
                  <span class="s0">s5 = peg$c42;</span>
                  <span class="s0">peg$currPos++;</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">s5 = peg$FAILED;</span>
                  <span class="s0">{</span>
                    <span class="s0">peg$fail(peg$c43);</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                  <span class="s0">s6 = peg$parseidentifierName();</span>
                  <span class="s1">if </span><span class="s0">(s6 !== peg$FAILED) {</span>
                    <span class="s0">s5 = [s5, s6];</span>
                    <span class="s0">s4 = s5;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s4;</span>
                    <span class="s0">s4 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s4;</span>
                  <span class="s0">s4 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s1 = peg$c78(s2, s3);</span>
                <span class="s0">s0 = s1;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsenegation() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">22</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.substr(peg$currPos, </span><span class="s3">5</span><span class="s0">) === peg$c79) {</span>
            <span class="s0">s1 = peg$c79;</span>
            <span class="s0">peg$currPos += </span><span class="s3">5</span><span class="s0">;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c80);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = peg$parse_();</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s3 = peg$parseselectors();</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s4 = peg$parse_();</span>
                <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">41</span><span class="s0">) {</span>
                    <span class="s0">s5 = peg$c68;</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s5 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c69);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                  <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                    <span class="s0">s1 = peg$c81(s3);</span>
                    <span class="s0">s0 = s1;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s0;</span>
                    <span class="s0">s0 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsematches() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">23</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.substr(peg$currPos, </span><span class="s3">9</span><span class="s0">) === peg$c82) {</span>
            <span class="s0">s1 = peg$c82;</span>
            <span class="s0">peg$currPos += </span><span class="s3">9</span><span class="s0">;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c83);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = peg$parse_();</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s3 = peg$parseselectors();</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s4 = peg$parse_();</span>
                <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">41</span><span class="s0">) {</span>
                    <span class="s0">s5 = peg$c68;</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s5 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c69);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                  <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                    <span class="s0">s1 = peg$c84(s3);</span>
                    <span class="s0">s0 = s1;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s0;</span>
                    <span class="s0">s0 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsehas() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">24</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.substr(peg$currPos, </span><span class="s3">5</span><span class="s0">) === peg$c85) {</span>
            <span class="s0">s1 = peg$c85;</span>
            <span class="s0">peg$currPos += </span><span class="s3">5</span><span class="s0">;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c86);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = peg$parse_();</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s3 = peg$parseselectors();</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s4 = peg$parse_();</span>
                <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">41</span><span class="s0">) {</span>
                    <span class="s0">s5 = peg$c68;</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s5 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c69);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                  <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                    <span class="s0">s1 = peg$c87(s3);</span>
                    <span class="s0">s0 = s1;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s0;</span>
                    <span class="s0">s0 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsefirstChild() {</span>
          <span class="s1">var </span><span class="s0">s0, s1;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">25</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.substr(peg$currPos, </span><span class="s3">12</span><span class="s0">) === peg$c88) {</span>
            <span class="s0">s1 = peg$c88;</span>
            <span class="s0">peg$currPos += </span><span class="s3">12</span><span class="s0">;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c89);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s1 = peg$c90();</span>
          <span class="s0">}</span>
          <span class="s0">s0 = s1;</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parselastChild() {</span>
          <span class="s1">var </span><span class="s0">s0, s1;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">26</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.substr(peg$currPos, </span><span class="s3">11</span><span class="s0">) === peg$c91) {</span>
            <span class="s0">s1 = peg$c91;</span>
            <span class="s0">peg$currPos += </span><span class="s3">11</span><span class="s0">;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c92);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s1 = peg$c93();</span>
          <span class="s0">}</span>
          <span class="s0">s0 = s1;</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsenthChild() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">27</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.substr(peg$currPos, </span><span class="s3">11</span><span class="s0">) === peg$c94) {</span>
            <span class="s0">s1 = peg$c94;</span>
            <span class="s0">peg$currPos += </span><span class="s3">11</span><span class="s0">;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c95);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = peg$parse_();</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s3 = [];</span>
              <span class="s1">if </span><span class="s0">(peg$c60.test(input.charAt(peg$currPos))) {</span>
                <span class="s0">s4 = input.charAt(peg$currPos);</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s4 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c61);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                <span class="s1">while </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s0">s3.push(s4);</span>
                  <span class="s1">if </span><span class="s0">(peg$c60.test(input.charAt(peg$currPos))) {</span>
                    <span class="s0">s4 = input.charAt(peg$currPos);</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s4 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c61);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s4 = peg$parse_();</span>
                <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">41</span><span class="s0">) {</span>
                    <span class="s0">s5 = peg$c68;</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s5 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c69);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                  <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                    <span class="s0">s1 = peg$c96(s3);</span>
                    <span class="s0">s0 = s1;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s0;</span>
                    <span class="s0">s0 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parsenthLastChild() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2, s3, s4, s5;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">28</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.substr(peg$currPos, </span><span class="s3">16</span><span class="s0">) === peg$c97) {</span>
            <span class="s0">s1 = peg$c97;</span>
            <span class="s0">peg$currPos += </span><span class="s3">16</span><span class="s0">;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c98);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = peg$parse_();</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s3 = [];</span>
              <span class="s1">if </span><span class="s0">(peg$c60.test(input.charAt(peg$currPos))) {</span>
                <span class="s0">s4 = input.charAt(peg$currPos);</span>
                <span class="s0">peg$currPos++;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s4 = peg$FAILED;</span>
                <span class="s0">{</span>
                  <span class="s0">peg$fail(peg$c61);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                <span class="s1">while </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s0">s3.push(s4);</span>
                  <span class="s1">if </span><span class="s0">(peg$c60.test(input.charAt(peg$currPos))) {</span>
                    <span class="s0">s4 = input.charAt(peg$currPos);</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s4 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c61);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">s3 = peg$FAILED;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(s3 !== peg$FAILED) {</span>
                <span class="s0">s4 = peg$parse_();</span>
                <span class="s1">if </span><span class="s0">(s4 !== peg$FAILED) {</span>
                  <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">41</span><span class="s0">) {</span>
                    <span class="s0">s5 = peg$c68;</span>
                    <span class="s0">peg$currPos++;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">s5 = peg$FAILED;</span>
                    <span class="s0">{</span>
                      <span class="s0">peg$fail(peg$c69);</span>
                    <span class="s0">}</span>
                  <span class="s0">}</span>
                  <span class="s1">if </span><span class="s0">(s5 !== peg$FAILED) {</span>
                    <span class="s0">s1 = peg$c99(s3);</span>
                    <span class="s0">s0 = s1;</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s0">peg$currPos = s0;</span>
                    <span class="s0">s0 = peg$FAILED;</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s0">peg$currPos = s0;</span>
                  <span class="s0">s0 = peg$FAILED;</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s0">peg$currPos = s0;</span>
                <span class="s0">s0 = peg$FAILED;</span>
              <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">peg$parseclass() {</span>
          <span class="s1">var </span><span class="s0">s0, s1, s2;</span>
          <span class="s1">var </span><span class="s0">key = peg$currPos * </span><span class="s3">30 </span><span class="s0">+ </span><span class="s3">29</span><span class="s0">,</span>
            <span class="s0">cached = peg$resultsCache[key];</span>
          <span class="s1">if </span><span class="s0">(cached) {</span>
            <span class="s0">peg$currPos = cached.nextPos;</span>
            <span class="s1">return </span><span class="s0">cached.result;</span>
          <span class="s0">}</span>
          <span class="s0">s0 = peg$currPos;</span>
          <span class="s1">if </span><span class="s0">(input.charCodeAt(peg$currPos) === </span><span class="s3">58</span><span class="s0">) {</span>
            <span class="s0">s1 = peg$c100;</span>
            <span class="s0">peg$currPos++;</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">s1 = peg$FAILED;</span>
            <span class="s0">{</span>
              <span class="s0">peg$fail(peg$c101);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(s1 !== peg$FAILED) {</span>
            <span class="s0">s2 = peg$parseidentifierName();</span>
            <span class="s1">if </span><span class="s0">(s2 !== peg$FAILED) {</span>
              <span class="s0">s1 = peg$c102(s2);</span>
              <span class="s0">s0 = s1;</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
              <span class="s0">peg$currPos = s0;</span>
              <span class="s0">s0 = peg$FAILED;</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">peg$currPos = s0;</span>
            <span class="s0">s0 = peg$FAILED;</span>
          <span class="s0">}</span>
          <span class="s0">peg$resultsCache[key] = {</span>
            <span class="s0">nextPos: peg$currPos,</span>
            <span class="s0">result: s0</span>
          <span class="s0">};</span>
          <span class="s1">return </span><span class="s0">s0;</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">nth(n) {</span>
          <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s2">'nth-child'</span><span class="s0">,</span>
            <span class="s0">index: {</span>
              <span class="s0">type: </span><span class="s2">'literal'</span><span class="s0">,</span>
              <span class="s0">value: n</span>
            <span class="s0">}</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">nthLast(n) {</span>
          <span class="s1">return </span><span class="s0">{</span>
            <span class="s0">type: </span><span class="s2">'nth-last-child'</span><span class="s0">,</span>
            <span class="s0">index: {</span>
              <span class="s0">type: </span><span class="s2">'literal'</span><span class="s0">,</span>
              <span class="s0">value: n</span>
            <span class="s0">}</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
        <span class="s1">function </span><span class="s0">strUnescape(s) {</span>
          <span class="s1">return </span><span class="s0">s.replace(/\\(.)/g, </span><span class="s1">function </span><span class="s0">(match, ch) {</span>
            <span class="s1">switch </span><span class="s0">(ch) {</span>
              <span class="s1">case </span><span class="s2">'b'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s2">'</span><span class="s4">\b</span><span class="s2">'</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s2">'f'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s2">'</span><span class="s4">\f</span><span class="s2">'</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s2">'n'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s2">'</span><span class="s4">\n</span><span class="s2">'</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s2">'r'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s2">'</span><span class="s4">\r</span><span class="s2">'</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s2">'t'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s2">'</span><span class="s4">\t</span><span class="s2">'</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s2">'v'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s2">'</span><span class="s6">\v</span><span class="s2">'</span><span class="s0">;</span>
              <span class="s1">default</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">ch;</span>
            <span class="s0">}</span>
          <span class="s0">});</span>
        <span class="s0">}</span>
        <span class="s0">peg$result = peg$startRuleFunction();</span>
        <span class="s1">if </span><span class="s0">(peg$result !== peg$FAILED &amp;&amp; peg$currPos === input.length) {</span>
          <span class="s1">return </span><span class="s0">peg$result;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
          <span class="s1">if </span><span class="s0">(peg$result !== peg$FAILED &amp;&amp; peg$currPos &lt; input.length) {</span>
            <span class="s0">peg$fail(peg$endExpectation());</span>
          <span class="s0">}</span>
          <span class="s1">throw </span><span class="s0">peg$buildStructuredError(peg$maxFailExpected, peg$maxFailPos &lt; input.length ? input.charAt(peg$maxFailPos) : </span><span class="s1">null</span><span class="s0">, peg$maxFailPos &lt; input.length ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + </span><span class="s3">1</span><span class="s0">) : peg$computeLocation(peg$maxFailPos, peg$maxFailPos));</span>
        <span class="s0">}</span>
      <span class="s0">}</span>
      <span class="s1">return </span><span class="s0">{</span>
        <span class="s0">SyntaxError: peg$SyntaxError,</span>
        <span class="s0">parse: peg$parse</span>
      <span class="s0">};</span>
    <span class="s0">});</span>
  <span class="s0">});</span>

  <span class="s5">/** 
  * @typedef {&quot;LEFT_SIDE&quot;|&quot;RIGHT_SIDE&quot;} Side 
  */</span>

  <span class="s1">var </span><span class="s0">LEFT_SIDE = </span><span class="s2">'LEFT_SIDE'</span><span class="s0">;</span>
  <span class="s1">var </span><span class="s0">RIGHT_SIDE = </span><span class="s2">'RIGHT_SIDE'</span><span class="s0">;</span>

  <span class="s5">/** 
   * @external AST 
   * @see https://esprima.readthedocs.io/en/latest/syntax-tree-format.html 
   */</span>

  <span class="s5">/** 
   * One of the rules of `grammar.pegjs` 
   * @typedef {PlainObject} SelectorAST 
   * @see grammar.pegjs 
  */</span>

  <span class="s5">/** 
   * The `sequence` production of `grammar.pegjs` 
   * @typedef {PlainObject} SelectorSequenceAST 
  */</span>

  <span class="s5">/** 
   * Get the value of a property which may be multiple levels down 
   * in the object. 
   * @param {?PlainObject} obj 
   * @param {string[]} keys 
   * @returns {undefined|boolean|string|number|external:AST} 
   */</span>
  <span class="s1">function </span><span class="s0">getPath(obj, keys) {</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s3">0</span><span class="s0">; i &lt; keys.length; ++i) {</span>
      <span class="s1">if </span><span class="s0">(obj == </span><span class="s1">null</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">obj;</span>
      <span class="s0">}</span>
      <span class="s0">obj = obj[keys[i]];</span>
    <span class="s0">}</span>
    <span class="s1">return </span><span class="s0">obj;</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * Determine whether `node` can be reached by following `path`, 
   * starting at `ancestor`. 
   * @param {?external:AST} node 
   * @param {?external:AST} ancestor 
   * @param {string[]} path 
   * @param {Integer} fromPathIndex 
   * @returns {boolean} 
   */</span>
  <span class="s1">function </span><span class="s0">inPath(node, ancestor, path, fromPathIndex) {</span>
    <span class="s1">var </span><span class="s0">current = ancestor;</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = fromPathIndex; i &lt; path.length; ++i) {</span>
      <span class="s1">if </span><span class="s0">(current == </span><span class="s1">null</span><span class="s0">) {</span>
        <span class="s1">return false</span><span class="s0">;</span>
      <span class="s0">}</span>
      <span class="s1">var </span><span class="s0">field = current[path[i]];</span>
      <span class="s1">if </span><span class="s0">(Array.isArray(field)) {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">k = </span><span class="s3">0</span><span class="s0">; k &lt; field.length; ++k) {</span>
          <span class="s1">if </span><span class="s0">(inPath(node, field[k], path, i + </span><span class="s3">1</span><span class="s0">)) {</span>
            <span class="s1">return true</span><span class="s0">;</span>
          <span class="s0">}</span>
        <span class="s0">}</span>
        <span class="s1">return false</span><span class="s0">;</span>
      <span class="s0">}</span>
      <span class="s0">current = field;</span>
    <span class="s0">}</span>
    <span class="s1">return </span><span class="s0">node === current;</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * A generated matcher function for a selector. 
   * @typedef {function} SelectorMatcher 
  */</span>

  <span class="s5">/** 
   * A WeakMap for holding cached matcher functions for selectors. 
   * @type {WeakMap&lt;SelectorAST, SelectorMatcher&gt;} 
  */</span>
  <span class="s1">var </span><span class="s0">MATCHER_CACHE = </span><span class="s1">typeof </span><span class="s0">WeakMap === </span><span class="s2">'function' </span><span class="s0">? </span><span class="s1">new </span><span class="s0">WeakMap() : </span><span class="s1">null</span><span class="s0">;</span>

  <span class="s5">/** 
   * Look up a matcher function for `selector` in the cache. 
   * If it does not exist, generate it with `generateMatcher` and add it to the cache. 
   * In engines without WeakMap, the caching is skipped and matchers are generated with every call. 
   * @param {?SelectorAST} selector 
   * @returns {SelectorMatcher} 
   */</span>
  <span class="s1">function </span><span class="s0">getMatcher(selector) {</span>
    <span class="s1">if </span><span class="s0">(selector == </span><span class="s1">null</span><span class="s0">) {</span>
      <span class="s1">return function </span><span class="s0">() {</span>
        <span class="s1">return true</span><span class="s0">;</span>
      <span class="s0">};</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(MATCHER_CACHE != </span><span class="s1">null</span><span class="s0">) {</span>
      <span class="s1">var </span><span class="s0">matcher = MATCHER_CACHE.get(selector);</span>
      <span class="s1">if </span><span class="s0">(matcher != </span><span class="s1">null</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">matcher;</span>
      <span class="s0">}</span>
      <span class="s0">matcher = generateMatcher(selector);</span>
      <span class="s0">MATCHER_CACHE.set(selector, matcher);</span>
      <span class="s1">return </span><span class="s0">matcher;</span>
    <span class="s0">}</span>
    <span class="s1">return </span><span class="s0">generateMatcher(selector);</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * Create a matcher function for `selector`, 
   * @param {?SelectorAST} selector 
   * @returns {SelectorMatcher} 
   */</span>
  <span class="s1">function </span><span class="s0">generateMatcher(selector) {</span>
    <span class="s1">switch </span><span class="s0">(selector.type) {</span>
      <span class="s1">case </span><span class="s2">'wildcard'</span><span class="s0">:</span>
        <span class="s1">return function </span><span class="s0">() {</span>
          <span class="s1">return true</span><span class="s0">;</span>
        <span class="s0">};</span>
      <span class="s1">case </span><span class="s2">'identifier'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">value = selector.value.toLowerCase();</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry, options) {</span>
            <span class="s1">var </span><span class="s0">nodeTypeKey = options &amp;&amp; options.nodeTypeKey || </span><span class="s2">'type'</span><span class="s0">;</span>
            <span class="s1">return </span><span class="s0">value === node[nodeTypeKey].toLowerCase();</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'field'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">path = selector.name.split(</span><span class="s2">'.'</span><span class="s0">);</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry) {</span>
            <span class="s1">var </span><span class="s0">ancestor = ancestry[path.length - </span><span class="s3">1</span><span class="s0">];</span>
            <span class="s1">return </span><span class="s0">inPath(node, ancestor, path, </span><span class="s3">0</span><span class="s0">);</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'matches'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">matchers = selector.selectors.map(getMatcher);</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry, options) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s3">0</span><span class="s0">; i &lt; matchers.length; ++i) {</span>
              <span class="s1">if </span><span class="s0">(matchers[i](node, ancestry, options)) {</span>
                <span class="s1">return true</span><span class="s0">;</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">return false</span><span class="s0">;</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'compound'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">_matchers = selector.selectors.map(getMatcher);</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry, options) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s3">0</span><span class="s0">; i &lt; _matchers.length; ++i) {</span>
              <span class="s1">if </span><span class="s0">(!_matchers[i](node, ancestry, options)) {</span>
                <span class="s1">return false</span><span class="s0">;</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">return true</span><span class="s0">;</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'not'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">_matchers2 = selector.selectors.map(getMatcher);</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry, options) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s3">0</span><span class="s0">; i &lt; _matchers2.length; ++i) {</span>
              <span class="s1">if </span><span class="s0">(_matchers2[i](node, ancestry, options)) {</span>
                <span class="s1">return false</span><span class="s0">;</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">return true</span><span class="s0">;</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'has'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">_matchers3 = selector.selectors.map(getMatcher);</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry, options) {</span>
            <span class="s1">var </span><span class="s0">result = </span><span class="s1">false</span><span class="s0">;</span>
            <span class="s1">var </span><span class="s0">a = [];</span>
            <span class="s0">estraverse.traverse(node, {</span>
              <span class="s0">enter: </span><span class="s1">function </span><span class="s0">enter(node, parent) {</span>
                <span class="s1">if </span><span class="s0">(parent != </span><span class="s1">null</span><span class="s0">) {</span>
                  <span class="s0">a.unshift(parent);</span>
                <span class="s0">}</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s3">0</span><span class="s0">; i &lt; _matchers3.length; ++i) {</span>
                  <span class="s1">if </span><span class="s0">(_matchers3[i](node, a, options)) {</span>
                    <span class="s0">result = </span><span class="s1">true</span><span class="s0">;</span>
                    <span class="s1">this</span><span class="s0">[</span><span class="s2">&quot;break&quot;</span><span class="s0">]();</span>
                    <span class="s1">return</span><span class="s0">;</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
              <span class="s0">},</span>
              <span class="s0">leave: </span><span class="s1">function </span><span class="s0">leave() {</span>
                <span class="s0">a.shift();</span>
              <span class="s0">},</span>
              <span class="s0">keys: options &amp;&amp; options.visitorKeys,</span>
              <span class="s0">fallback: options &amp;&amp; options.fallback || </span><span class="s2">'iteration'</span>
            <span class="s0">});</span>
            <span class="s1">return </span><span class="s0">result;</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'child'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">left = getMatcher(selector.left);</span>
          <span class="s1">var </span><span class="s0">right = getMatcher(selector.right);</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry, options) {</span>
            <span class="s1">if </span><span class="s0">(ancestry.length &gt; </span><span class="s3">0 </span><span class="s0">&amp;&amp; right(node, ancestry, options)) {</span>
              <span class="s1">return </span><span class="s0">left(ancestry[</span><span class="s3">0</span><span class="s0">], ancestry.slice(</span><span class="s3">1</span><span class="s0">), options);</span>
            <span class="s0">}</span>
            <span class="s1">return false</span><span class="s0">;</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'descendant'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">_left = getMatcher(selector.left);</span>
          <span class="s1">var </span><span class="s0">_right = getMatcher(selector.right);</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry, options) {</span>
            <span class="s1">if </span><span class="s0">(_right(node, ancestry, options)) {</span>
              <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s3">0</span><span class="s0">, l = ancestry.length; i &lt; l; ++i) {</span>
                <span class="s1">if </span><span class="s0">(_left(ancestry[i], ancestry.slice(i + </span><span class="s3">1</span><span class="s0">), options)) {</span>
                  <span class="s1">return true</span><span class="s0">;</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">return false</span><span class="s0">;</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'attribute'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">_path = selector.name.split(</span><span class="s2">'.'</span><span class="s0">);</span>
          <span class="s1">switch </span><span class="s0">(selector.operator) {</span>
            <span class="s1">case void </span><span class="s3">0</span><span class="s0">:</span>
              <span class="s1">return function </span><span class="s0">(node) {</span>
                <span class="s1">return </span><span class="s0">getPath(node, _path) != </span><span class="s1">null</span><span class="s0">;</span>
              <span class="s0">};</span>
            <span class="s1">case </span><span class="s2">'='</span><span class="s0">:</span>
              <span class="s1">switch </span><span class="s0">(selector.value.type) {</span>
                <span class="s1">case </span><span class="s2">'regexp'</span><span class="s0">:</span>
                  <span class="s1">return function </span><span class="s0">(node) {</span>
                    <span class="s1">var </span><span class="s0">p = getPath(node, _path);</span>
                    <span class="s1">return typeof </span><span class="s0">p === </span><span class="s2">'string' </span><span class="s0">&amp;&amp; selector.value.value.test(p);</span>
                  <span class="s0">};</span>
                <span class="s1">case </span><span class="s2">'literal'</span><span class="s0">:</span>
                  <span class="s0">{</span>
                    <span class="s1">var </span><span class="s0">literal = </span><span class="s2">&quot;&quot;</span><span class="s0">.concat(selector.value.value);</span>
                    <span class="s1">return function </span><span class="s0">(node) {</span>
                      <span class="s1">return </span><span class="s0">literal === </span><span class="s2">&quot;&quot;</span><span class="s0">.concat(getPath(node, _path));</span>
                    <span class="s0">};</span>
                  <span class="s0">}</span>
                <span class="s1">case </span><span class="s2">'type'</span><span class="s0">:</span>
                  <span class="s1">return function </span><span class="s0">(node) {</span>
                    <span class="s1">return </span><span class="s0">selector.value.value === _typeof(getPath(node, _path));</span>
                  <span class="s0">};</span>
              <span class="s0">}</span>
              <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">&quot;Unknown selector value type: &quot;</span><span class="s0">.concat(selector.value.type));</span>
            <span class="s1">case </span><span class="s2">'!='</span><span class="s0">:</span>
              <span class="s1">switch </span><span class="s0">(selector.value.type) {</span>
                <span class="s1">case </span><span class="s2">'regexp'</span><span class="s0">:</span>
                  <span class="s1">return function </span><span class="s0">(node) {</span>
                    <span class="s1">return </span><span class="s0">!selector.value.value.test(getPath(node, _path));</span>
                  <span class="s0">};</span>
                <span class="s1">case </span><span class="s2">'literal'</span><span class="s0">:</span>
                  <span class="s0">{</span>
                    <span class="s1">var </span><span class="s0">_literal = </span><span class="s2">&quot;&quot;</span><span class="s0">.concat(selector.value.value);</span>
                    <span class="s1">return function </span><span class="s0">(node) {</span>
                      <span class="s1">return </span><span class="s0">_literal !== </span><span class="s2">&quot;&quot;</span><span class="s0">.concat(getPath(node, _path));</span>
                    <span class="s0">};</span>
                  <span class="s0">}</span>
                <span class="s1">case </span><span class="s2">'type'</span><span class="s0">:</span>
                  <span class="s1">return function </span><span class="s0">(node) {</span>
                    <span class="s1">return </span><span class="s0">selector.value.value !== _typeof(getPath(node, _path));</span>
                  <span class="s0">};</span>
              <span class="s0">}</span>
              <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">&quot;Unknown selector value type: &quot;</span><span class="s0">.concat(selector.value.type));</span>
            <span class="s1">case </span><span class="s2">'&lt;='</span><span class="s0">:</span>
              <span class="s1">return function </span><span class="s0">(node) {</span>
                <span class="s1">return </span><span class="s0">getPath(node, _path) &lt;= selector.value.value;</span>
              <span class="s0">};</span>
            <span class="s1">case </span><span class="s2">'&lt;'</span><span class="s0">:</span>
              <span class="s1">return function </span><span class="s0">(node) {</span>
                <span class="s1">return </span><span class="s0">getPath(node, _path) &lt; selector.value.value;</span>
              <span class="s0">};</span>
            <span class="s1">case </span><span class="s2">'&gt;'</span><span class="s0">:</span>
              <span class="s1">return function </span><span class="s0">(node) {</span>
                <span class="s1">return </span><span class="s0">getPath(node, _path) &gt; selector.value.value;</span>
              <span class="s0">};</span>
            <span class="s1">case </span><span class="s2">'&gt;='</span><span class="s0">:</span>
              <span class="s1">return function </span><span class="s0">(node) {</span>
                <span class="s1">return </span><span class="s0">getPath(node, _path) &gt;= selector.value.value;</span>
              <span class="s0">};</span>
          <span class="s0">}</span>
          <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">&quot;Unknown operator: &quot;</span><span class="s0">.concat(selector.operator));</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'sibling'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">_left2 = getMatcher(selector.left);</span>
          <span class="s1">var </span><span class="s0">_right2 = getMatcher(selector.right);</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry, options) {</span>
            <span class="s1">return </span><span class="s0">_right2(node, ancestry, options) &amp;&amp; sibling(node, _left2, ancestry, LEFT_SIDE, options) || selector.left.subject &amp;&amp; _left2(node, ancestry, options) &amp;&amp; sibling(node, _right2, ancestry, RIGHT_SIDE, options);</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'adjacent'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">_left3 = getMatcher(selector.left);</span>
          <span class="s1">var </span><span class="s0">_right3 = getMatcher(selector.right);</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry, options) {</span>
            <span class="s1">return </span><span class="s0">_right3(node, ancestry, options) &amp;&amp; adjacent(node, _left3, ancestry, LEFT_SIDE, options) || selector.right.subject &amp;&amp; _left3(node, ancestry, options) &amp;&amp; adjacent(node, _right3, ancestry, RIGHT_SIDE, options);</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'nth-child'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">nth = selector.index.value;</span>
          <span class="s1">var </span><span class="s0">_right4 = getMatcher(selector.right);</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry, options) {</span>
            <span class="s1">return </span><span class="s0">_right4(node, ancestry, options) &amp;&amp; nthChild(node, ancestry, nth, options);</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'nth-last-child'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">var </span><span class="s0">_nth = -selector.index.value;</span>
          <span class="s1">var </span><span class="s0">_right5 = getMatcher(selector.right);</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry, options) {</span>
            <span class="s1">return </span><span class="s0">_right5(node, ancestry, options) &amp;&amp; nthChild(node, ancestry, _nth, options);</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s1">case </span><span class="s2">'class'</span><span class="s0">:</span>
        <span class="s0">{</span>
          <span class="s1">return function </span><span class="s0">(node, ancestry, options) {</span>
            <span class="s1">if </span><span class="s0">(options &amp;&amp; options.matchClass) {</span>
              <span class="s1">return </span><span class="s0">options.matchClass(selector.name, node, ancestry);</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(options &amp;&amp; options.nodeTypeKey) </span><span class="s1">return false</span><span class="s0">;</span>
            <span class="s1">var </span><span class="s0">name = selector.name.toLowerCase();</span>
            <span class="s1">switch </span><span class="s0">(name) {</span>
              <span class="s1">case </span><span class="s2">'statement'</span><span class="s0">:</span>
                <span class="s1">if </span><span class="s0">(node.type.slice(-</span><span class="s3">9</span><span class="s0">) === </span><span class="s2">'Statement'</span><span class="s0">) </span><span class="s1">return true</span><span class="s0">;</span>
              <span class="s5">// fallthrough: interface Declaration &lt;: Statement { }</span>
              <span class="s1">case </span><span class="s2">'declaration'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">node.type.slice(-</span><span class="s3">11</span><span class="s0">) === </span><span class="s2">'Declaration'</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s2">'pattern'</span><span class="s0">:</span>
                <span class="s1">if </span><span class="s0">(node.type.slice(-</span><span class="s3">7</span><span class="s0">) === </span><span class="s2">'Pattern'</span><span class="s0">) </span><span class="s1">return true</span><span class="s0">;</span>
              <span class="s5">// fallthrough: interface Expression &lt;: Node, Pattern { }</span>
              <span class="s1">case </span><span class="s2">'expression'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">node.type.slice(-</span><span class="s3">10</span><span class="s0">) === </span><span class="s2">'Expression' </span><span class="s0">|| node.type.slice(-</span><span class="s3">7</span><span class="s0">) === </span><span class="s2">'Literal' </span><span class="s0">|| node.type === </span><span class="s2">'Identifier' </span><span class="s0">&amp;&amp; (ancestry.length === </span><span class="s3">0 </span><span class="s0">|| ancestry[</span><span class="s3">0</span><span class="s0">].type !== </span><span class="s2">'MetaProperty'</span><span class="s0">) || node.type === </span><span class="s2">'MetaProperty'</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s2">'function'</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s0">node.type === </span><span class="s2">'FunctionDeclaration' </span><span class="s0">|| node.type === </span><span class="s2">'FunctionExpression' </span><span class="s0">|| node.type === </span><span class="s2">'ArrowFunctionExpression'</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">&quot;Unknown class name: &quot;</span><span class="s0">.concat(selector.name));</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">throw new </span><span class="s0">Error(</span><span class="s2">&quot;Unknown selector type: &quot;</span><span class="s0">.concat(selector.type));</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * @callback TraverseOptionFallback 
   * @param {external:AST} node The given node. 
   * @returns {string[]} An array of visitor keys for the given node. 
   */</span>

  <span class="s5">/** 
   * @callback ClassMatcher 
   * @param {string} className The name of the class to match. 
   * @param {external:AST} node The node to match against. 
   * @param {Array&lt;external:AST&gt;} ancestry The ancestry of the node. 
   * @returns {boolean} True if the node matches the class, false if not. 
   */</span>

  <span class="s5">/** 
   * @typedef {object} ESQueryOptions 
   * @property {string} [nodeTypeKey=&quot;type&quot;] By passing `nodeTypeKey`, we can allow other ASTs to use ESQuery. 
   * @property { { [nodeType: string]: string[] } } [visitorKeys] By passing `visitorKeys` mapping, we can extend the properties of the nodes that traverse the node. 
   * @property {TraverseOptionFallback} [fallback] By passing `fallback` option, we can control the properties of traversing nodes when encountering unknown nodes. 
   * @property {ClassMatcher} [matchClass] By passing `matchClass` option, we can customize the interpretation of classes. 
   */</span>

  <span class="s5">/** 
   * Given a `node` and its ancestors, determine if `node` is matched 
   * by `selector`. 
   * @param {?external:AST} node 
   * @param {?SelectorAST} selector 
   * @param {external:AST[]} [ancestry=[]] 
   * @param {ESQueryOptions} [options] 
   * @throws {Error} Unknowns (operator, class name, selector type, or 
   * selector value type) 
   * @returns {boolean} 
   */</span>
  <span class="s1">function </span><span class="s0">matches(node, selector, ancestry, options) {</span>
    <span class="s1">if </span><span class="s0">(!selector) {</span>
      <span class="s1">return true</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(!node) {</span>
      <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(!ancestry) {</span>
      <span class="s0">ancestry = [];</span>
    <span class="s0">}</span>
    <span class="s1">return </span><span class="s0">getMatcher(selector)(node, ancestry, options);</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * Get visitor keys of a given node. 
   * @param {external:AST} node The AST node to get keys. 
   * @param {ESQueryOptions|undefined} options 
   * @returns {string[]} Visitor keys of the node. 
   */</span>
  <span class="s1">function </span><span class="s0">getVisitorKeys(node, options) {</span>
    <span class="s1">var </span><span class="s0">nodeTypeKey = options &amp;&amp; options.nodeTypeKey || </span><span class="s2">'type'</span><span class="s0">;</span>
    <span class="s1">var </span><span class="s0">nodeType = node[nodeTypeKey];</span>
    <span class="s1">if </span><span class="s0">(options &amp;&amp; options.visitorKeys &amp;&amp; options.visitorKeys[nodeType]) {</span>
      <span class="s1">return </span><span class="s0">options.visitorKeys[nodeType];</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(estraverse.VisitorKeys[nodeType]) {</span>
      <span class="s1">return </span><span class="s0">estraverse.VisitorKeys[nodeType];</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(options &amp;&amp; </span><span class="s1">typeof </span><span class="s0">options.fallback === </span><span class="s2">'function'</span><span class="s0">) {</span>
      <span class="s1">return </span><span class="s0">options.fallback(node);</span>
    <span class="s0">}</span>
    <span class="s5">// 'iteration' fallback</span>
    <span class="s1">return </span><span class="s0">Object.keys(node).filter(</span><span class="s1">function </span><span class="s0">(key) {</span>
      <span class="s1">return </span><span class="s0">key !== nodeTypeKey;</span>
    <span class="s0">});</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * Check whether the given value is an ASTNode or not. 
   * @param {any} node The value to check. 
   * @param {ESQueryOptions|undefined} options The options to use. 
   * @returns {boolean} `true` if the value is an ASTNode. 
   */</span>
  <span class="s1">function </span><span class="s0">isNode(node, options) {</span>
    <span class="s1">var </span><span class="s0">nodeTypeKey = options &amp;&amp; options.nodeTypeKey || </span><span class="s2">'type'</span><span class="s0">;</span>
    <span class="s1">return </span><span class="s0">node !== </span><span class="s1">null </span><span class="s0">&amp;&amp; _typeof(node) === </span><span class="s2">'object' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s0">node[nodeTypeKey] === </span><span class="s2">'string'</span><span class="s0">;</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * Determines if the given node has a sibling that matches the 
   * given selector matcher. 
   * @param {external:AST} node 
   * @param {SelectorMatcher} matcher 
   * @param {external:AST[]} ancestry 
   * @param {Side} side 
   * @param {ESQueryOptions|undefined} options 
   * @returns {boolean} 
   */</span>
  <span class="s1">function </span><span class="s0">sibling(node, matcher, ancestry, side, options) {</span>
    <span class="s1">var </span><span class="s0">_ancestry = _slicedToArray(ancestry, </span><span class="s3">1</span><span class="s0">),</span>
      <span class="s0">parent = _ancestry[</span><span class="s3">0</span><span class="s0">];</span>
    <span class="s1">if </span><span class="s0">(!parent) {</span>
      <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s0">keys = getVisitorKeys(parent, options);</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s3">0</span><span class="s0">; i &lt; keys.length; ++i) {</span>
      <span class="s1">var </span><span class="s0">listProp = parent[keys[i]];</span>
      <span class="s1">if </span><span class="s0">(Array.isArray(listProp)) {</span>
        <span class="s1">var </span><span class="s0">startIndex = listProp.indexOf(node);</span>
        <span class="s1">if </span><span class="s0">(startIndex &lt; </span><span class="s3">0</span><span class="s0">) {</span>
          <span class="s1">continue</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">var </span><span class="s0">lowerBound = </span><span class="s1">void </span><span class="s3">0</span><span class="s0">,</span>
          <span class="s0">upperBound = </span><span class="s1">void </span><span class="s3">0</span><span class="s0">;</span>
        <span class="s1">if </span><span class="s0">(side === LEFT_SIDE) {</span>
          <span class="s0">lowerBound = </span><span class="s3">0</span><span class="s0">;</span>
          <span class="s0">upperBound = startIndex;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
          <span class="s0">lowerBound = startIndex + </span><span class="s3">1</span><span class="s0">;</span>
          <span class="s0">upperBound = listProp.length;</span>
        <span class="s0">}</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">k = lowerBound; k &lt; upperBound; ++k) {</span>
          <span class="s1">if </span><span class="s0">(isNode(listProp[k], options) &amp;&amp; matcher(listProp[k], ancestry, options)) {</span>
            <span class="s1">return true</span><span class="s0">;</span>
          <span class="s0">}</span>
        <span class="s0">}</span>
      <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">return false</span><span class="s0">;</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * Determines if the given node has an adjacent sibling that matches 
   * the given selector matcher. 
   * @param {external:AST} node 
   * @param {SelectorMatcher} matcher 
   * @param {external:AST[]} ancestry 
   * @param {Side} side 
   * @param {ESQueryOptions|undefined} options 
   * @returns {boolean} 
   */</span>
  <span class="s1">function </span><span class="s0">adjacent(node, matcher, ancestry, side, options) {</span>
    <span class="s1">var </span><span class="s0">_ancestry2 = _slicedToArray(ancestry, </span><span class="s3">1</span><span class="s0">),</span>
      <span class="s0">parent = _ancestry2[</span><span class="s3">0</span><span class="s0">];</span>
    <span class="s1">if </span><span class="s0">(!parent) {</span>
      <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s0">keys = getVisitorKeys(parent, options);</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s3">0</span><span class="s0">; i &lt; keys.length; ++i) {</span>
      <span class="s1">var </span><span class="s0">listProp = parent[keys[i]];</span>
      <span class="s1">if </span><span class="s0">(Array.isArray(listProp)) {</span>
        <span class="s1">var </span><span class="s0">idx = listProp.indexOf(node);</span>
        <span class="s1">if </span><span class="s0">(idx &lt; </span><span class="s3">0</span><span class="s0">) {</span>
          <span class="s1">continue</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(side === LEFT_SIDE &amp;&amp; idx &gt; </span><span class="s3">0 </span><span class="s0">&amp;&amp; isNode(listProp[idx - </span><span class="s3">1</span><span class="s0">], options) &amp;&amp; matcher(listProp[idx - </span><span class="s3">1</span><span class="s0">], ancestry, options)) {</span>
          <span class="s1">return true</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(side === RIGHT_SIDE &amp;&amp; idx &lt; listProp.length - </span><span class="s3">1 </span><span class="s0">&amp;&amp; isNode(listProp[idx + </span><span class="s3">1</span><span class="s0">], options) &amp;&amp; matcher(listProp[idx + </span><span class="s3">1</span><span class="s0">], ancestry, options)) {</span>
          <span class="s1">return true</span><span class="s0">;</span>
        <span class="s0">}</span>
      <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">return false</span><span class="s0">;</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * Determines if the given node is the `nth` child. 
   * If `nth` is negative then the position is counted 
   * from the end of the list of children. 
   * @param {external:AST} node 
   * @param {external:AST[]} ancestry 
   * @param {Integer} nth 
   * @param {ESQueryOptions|undefined} options 
   * @returns {boolean} 
   */</span>
  <span class="s1">function </span><span class="s0">nthChild(node, ancestry, nth, options) {</span>
    <span class="s1">if </span><span class="s0">(nth === </span><span class="s3">0</span><span class="s0">) {</span>
      <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s0">_ancestry3 = _slicedToArray(ancestry, </span><span class="s3">1</span><span class="s0">),</span>
      <span class="s0">parent = _ancestry3[</span><span class="s3">0</span><span class="s0">];</span>
    <span class="s1">if </span><span class="s0">(!parent) {</span>
      <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s0">keys = getVisitorKeys(parent, options);</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s3">0</span><span class="s0">; i &lt; keys.length; ++i) {</span>
      <span class="s1">var </span><span class="s0">listProp = parent[keys[i]];</span>
      <span class="s1">if </span><span class="s0">(Array.isArray(listProp)) {</span>
        <span class="s1">var </span><span class="s0">idx = nth &lt; </span><span class="s3">0 </span><span class="s0">? listProp.length + nth : nth - </span><span class="s3">1</span><span class="s0">;</span>
        <span class="s1">if </span><span class="s0">(idx &gt;= </span><span class="s3">0 </span><span class="s0">&amp;&amp; idx &lt; listProp.length &amp;&amp; listProp[idx] === node) {</span>
          <span class="s1">return true</span><span class="s0">;</span>
        <span class="s0">}</span>
      <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">return false</span><span class="s0">;</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * For each selector node marked as a subject, find the portion of the 
   * selector that the subject must match. 
   * @param {SelectorAST} selector 
   * @param {SelectorAST} [ancestor] Defaults to `selector` 
   * @returns {SelectorAST[]} 
   */</span>
  <span class="s1">function </span><span class="s0">subjects(selector, ancestor) {</span>
    <span class="s1">if </span><span class="s0">(selector == </span><span class="s1">null </span><span class="s0">|| _typeof(selector) != </span><span class="s2">'object'</span><span class="s0">) {</span>
      <span class="s1">return </span><span class="s0">[];</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(ancestor == </span><span class="s1">null</span><span class="s0">) {</span>
      <span class="s0">ancestor = selector;</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s0">results = selector.subject ? [ancestor] : [];</span>
    <span class="s1">var </span><span class="s0">keys = Object.keys(selector);</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s3">0</span><span class="s0">; i &lt; keys.length; ++i) {</span>
      <span class="s1">var </span><span class="s0">p = keys[i];</span>
      <span class="s1">var </span><span class="s0">sel = selector[p];</span>
      <span class="s0">results.push.apply(results, _toConsumableArray(subjects(sel, p === </span><span class="s2">'left' </span><span class="s0">? sel : ancestor)));</span>
    <span class="s0">}</span>
    <span class="s1">return </span><span class="s0">results;</span>
  <span class="s0">}</span>

  <span class="s5">/** 
  * @callback TraverseVisitor 
  * @param {?external:AST} node 
  * @param {?external:AST} parent 
  * @param {external:AST[]} ancestry 
  */</span>

  <span class="s5">/** 
   * From a JS AST and a selector AST, collect all JS AST nodes that 
   * match the selector. 
   * @param {external:AST} ast 
   * @param {?SelectorAST} selector 
   * @param {TraverseVisitor} visitor 
   * @param {ESQueryOptions} [options] 
   * @returns {external:AST[]} 
   */</span>
  <span class="s1">function </span><span class="s0">traverse(ast, selector, visitor, options) {</span>
    <span class="s1">if </span><span class="s0">(!selector) {</span>
      <span class="s1">return</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s0">ancestry = [];</span>
    <span class="s1">var </span><span class="s0">matcher = getMatcher(selector);</span>
    <span class="s1">var </span><span class="s0">altSubjects = subjects(selector).map(getMatcher);</span>
    <span class="s0">estraverse.traverse(ast, {</span>
      <span class="s0">enter: </span><span class="s1">function </span><span class="s0">enter(node, parent) {</span>
        <span class="s1">if </span><span class="s0">(parent != </span><span class="s1">null</span><span class="s0">) {</span>
          <span class="s0">ancestry.unshift(parent);</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(matcher(node, ancestry, options)) {</span>
          <span class="s1">if </span><span class="s0">(altSubjects.length) {</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">i = </span><span class="s3">0</span><span class="s0">, l = altSubjects.length; i &lt; l; ++i) {</span>
              <span class="s1">if </span><span class="s0">(altSubjects[i](node, ancestry, options)) {</span>
                <span class="s0">visitor(node, parent, ancestry);</span>
              <span class="s0">}</span>
              <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s0">k = </span><span class="s3">0</span><span class="s0">, m = ancestry.length; k &lt; m; ++k) {</span>
                <span class="s1">var </span><span class="s0">succeedingAncestry = ancestry.slice(k + </span><span class="s3">1</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(altSubjects[i](ancestry[k], succeedingAncestry, options)) {</span>
                  <span class="s0">visitor(ancestry[k], parent, succeedingAncestry);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s0">visitor(node, parent, ancestry);</span>
          <span class="s0">}</span>
        <span class="s0">}</span>
      <span class="s0">},</span>
      <span class="s0">leave: </span><span class="s1">function </span><span class="s0">leave() {</span>
        <span class="s0">ancestry.shift();</span>
      <span class="s0">},</span>
      <span class="s0">keys: options &amp;&amp; options.visitorKeys,</span>
      <span class="s0">fallback: options &amp;&amp; options.fallback || </span><span class="s2">'iteration'</span>
    <span class="s0">});</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * From a JS AST and a selector AST, collect all JS AST nodes that 
   * match the selector. 
   * @param {external:AST} ast 
   * @param {?SelectorAST} selector 
   * @param {ESQueryOptions} [options] 
   * @returns {external:AST[]} 
   */</span>
  <span class="s1">function </span><span class="s0">match(ast, selector, options) {</span>
    <span class="s1">var </span><span class="s0">results = [];</span>
    <span class="s0">traverse(ast, selector, </span><span class="s1">function </span><span class="s0">(node) {</span>
      <span class="s0">results.push(node);</span>
    <span class="s0">}, options);</span>
    <span class="s1">return </span><span class="s0">results;</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * Parse a selector string and return its AST. 
   * @param {string} selector 
   * @returns {SelectorAST} 
   */</span>
  <span class="s1">function </span><span class="s0">parse(selector) {</span>
    <span class="s1">return </span><span class="s0">parser.parse(selector);</span>
  <span class="s0">}</span>

  <span class="s5">/** 
   * Query the code AST using the selector string. 
   * @param {external:AST} ast 
   * @param {string} selector 
   * @param {ESQueryOptions} [options] 
   * @returns {external:AST[]} 
   */</span>
  <span class="s1">function </span><span class="s0">query(ast, selector, options) {</span>
    <span class="s1">return </span><span class="s0">match(ast, parse(selector), options);</span>
  <span class="s0">}</span>
  <span class="s0">query.parse = parse;</span>
  <span class="s0">query.match = match;</span>
  <span class="s0">query.traverse = traverse;</span>
  <span class="s0">query.matches = matches;</span>
  <span class="s0">query.query = query;</span>

  <span class="s1">return </span><span class="s0">query;</span>

<span class="s0">})));</span>
</pre>
</body>
</html>