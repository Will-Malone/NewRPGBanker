<html>
<head>
<title>ViewProps.cpp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #bbb529;}
.s3 { color: #6a8759;}
.s4 { color: #cc7832;}
.s5 { color: #6897bb;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
ViewProps.cpp</font>
</center></td></tr></table>
<pre><span class="s0">/* 
 * Copyright (c) Meta Platforms, Inc. and affiliates. 
 * 
 * This source code is licensed under the MIT license found in the 
 * LICENSE file in the root directory of this source tree. 
 */</span>

<span class="s2">#include </span><span class="s3">&quot;ViewProps.h&quot;</span>

<span class="s2">#include </span><span class="s3">&lt;algorithm&gt;</span>

<span class="s2">#include </span><span class="s3">&lt;react/renderer/components/view/conversions.h&gt;</span>
<span class="s2">#include </span><span class="s3">&lt;react/renderer/components/view/propsConversions.h&gt;</span>
<span class="s2">#include </span><span class="s3">&lt;react/renderer/core/CoreFeatures.h&gt;</span>
<span class="s2">#include </span><span class="s3">&lt;react/renderer/core/graphicsConversions.h&gt;</span>
<span class="s2">#include </span><span class="s3">&lt;react/renderer/core/propsConversions.h&gt;</span>
<span class="s2">#include </span><span class="s3">&lt;react/renderer/debug/debugStringConvertibleUtils.h&gt;</span>

<span class="s4">namespace </span><span class="s1">facebook::react {</span>

<span class="s1">ViewProps::ViewProps(</span>
    <span class="s4">const </span><span class="s1">PropsParserContext &amp;context</span><span class="s4">,</span>
    <span class="s1">ViewProps </span><span class="s4">const </span><span class="s1">&amp;sourceProps</span><span class="s4">,</span>
    <span class="s1">RawProps </span><span class="s4">const </span><span class="s1">&amp;rawProps</span><span class="s4">,</span>
    <span class="s4">bool </span><span class="s1">shouldSetRawProps)</span>
    <span class="s1">: YogaStylableProps(context</span><span class="s4">, </span><span class="s1">sourceProps</span><span class="s4">, </span><span class="s1">rawProps</span><span class="s4">, </span><span class="s1">shouldSetRawProps)</span><span class="s4">,</span>
      <span class="s1">AccessibilityProps(context</span><span class="s4">, </span><span class="s1">sourceProps</span><span class="s4">, </span><span class="s1">rawProps)</span><span class="s4">,</span>
      <span class="s1">opacity(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.opacity</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;opacity&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.opacity</span><span class="s4">,</span>
                                                       <span class="s1">(Float)</span><span class="s5">1.0</span><span class="s1">))</span><span class="s4">,</span>
      <span class="s1">foregroundColor(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.foregroundColor</span>
              <span class="s1">: convertRawProp(</span>
                    <span class="s1">context</span><span class="s4">,</span>
                    <span class="s1">rawProps</span><span class="s4">,</span>
                    <span class="s3">&quot;foregroundColor&quot;</span><span class="s4">,</span>
                    <span class="s1">sourceProps.foregroundColor</span><span class="s4">,</span>
                    <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">backgroundColor(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.backgroundColor</span>
              <span class="s1">: convertRawProp(</span>
                    <span class="s1">context</span><span class="s4">,</span>
                    <span class="s1">rawProps</span><span class="s4">,</span>
                    <span class="s3">&quot;backgroundColor&quot;</span><span class="s4">,</span>
                    <span class="s1">sourceProps.backgroundColor</span><span class="s4">,</span>
                    <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">borderRadii(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.borderRadii</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;border&quot;</span><span class="s4">,</span>
                                                       <span class="s3">&quot;Radius&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.borderRadii</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">borderColors(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.borderColors</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;border&quot;</span><span class="s4">,</span>
                                                       <span class="s3">&quot;Color&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.borderColors</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">borderCurves(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.borderCurves</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;border&quot;</span><span class="s4">,</span>
                                                       <span class="s3">&quot;Curve&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.borderCurves</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">borderStyles(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.borderStyles</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;border&quot;</span><span class="s4">,</span>
                                                       <span class="s3">&quot;Style&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.borderStyles</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">shadowColor(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.shadowColor</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;shadowColor&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.shadowColor</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">shadowOffset(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.shadowOffset</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;shadowOffset&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.shadowOffset</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">shadowOpacity(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.shadowOpacity</span>
              <span class="s1">: convertRawProp(</span>
                    <span class="s1">context</span><span class="s4">,</span>
                    <span class="s1">rawProps</span><span class="s4">,</span>
                    <span class="s3">&quot;shadowOpacity&quot;</span><span class="s4">,</span>
                    <span class="s1">sourceProps.shadowOpacity</span><span class="s4">,</span>
                    <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">shadowRadius(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.shadowRadius</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;shadowRadius&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.shadowRadius</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">transform(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.transform</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;transform&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.transform</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">backfaceVisibility(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.backfaceVisibility</span>
              <span class="s1">: convertRawProp(</span>
                    <span class="s1">context</span><span class="s4">,</span>
                    <span class="s1">rawProps</span><span class="s4">,</span>
                    <span class="s3">&quot;backfaceVisibility&quot;</span><span class="s4">,</span>
                    <span class="s1">sourceProps.backfaceVisibility</span><span class="s4">,</span>
                    <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">shouldRasterize(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.shouldRasterize</span>
              <span class="s1">: convertRawProp(</span>
                    <span class="s1">context</span><span class="s4">,</span>
                    <span class="s1">rawProps</span><span class="s4">,</span>
                    <span class="s3">&quot;shouldRasterize&quot;</span><span class="s4">,</span>
                    <span class="s1">sourceProps.shouldRasterize</span><span class="s4">,</span>
                    <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">zIndex(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.zIndex</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;zIndex&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.zIndex</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">pointerEvents(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.pointerEvents</span>
              <span class="s1">: convertRawProp(</span>
                    <span class="s1">context</span><span class="s4">,</span>
                    <span class="s1">rawProps</span><span class="s4">,</span>
                    <span class="s3">&quot;pointerEvents&quot;</span><span class="s4">,</span>
                    <span class="s1">sourceProps.pointerEvents</span><span class="s4">,</span>
                    <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">hitSlop(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.hitSlop</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;hitSlop&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.hitSlop</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">onLayout(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.onLayout</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;onLayout&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.onLayout</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">events(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.events</span>
              <span class="s1">: convertRawProp(context</span><span class="s4">, </span><span class="s1">rawProps</span><span class="s4">, </span><span class="s1">sourceProps.events</span><span class="s4">, </span><span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">collapsable(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.collapsable</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;collapsable&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.collapsable</span><span class="s4">,</span>
                                                       <span class="s4">true</span><span class="s1">))</span><span class="s4">,</span>
      <span class="s1">removeClippedSubviews(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.removeClippedSubviews</span>
              <span class="s1">: convertRawProp(</span>
                    <span class="s1">context</span><span class="s4">,</span>
                    <span class="s1">rawProps</span><span class="s4">,</span>
                    <span class="s3">&quot;removeClippedSubviews&quot;</span><span class="s4">,</span>
                    <span class="s1">sourceProps.removeClippedSubviews</span><span class="s4">,</span>
                    <span class="s4">false</span><span class="s1">))</span>
<span class="s2">#ifdef </span><span class="s1">ANDROID</span>
      <span class="s4">,</span>
      <span class="s1">elevation(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.elevation</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;elevation&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.elevation</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">nativeBackground(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.nativeBackground</span>
              <span class="s1">: convertRawProp(</span>
                    <span class="s1">context</span><span class="s4">,</span>
                    <span class="s1">rawProps</span><span class="s4">,</span>
                    <span class="s3">&quot;nativeBackgroundAndroid&quot;</span><span class="s4">,</span>
                    <span class="s1">sourceProps.nativeBackground</span><span class="s4">,</span>
                    <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">nativeForeground(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.nativeForeground</span>
              <span class="s1">: convertRawProp(</span>
                    <span class="s1">context</span><span class="s4">,</span>
                    <span class="s1">rawProps</span><span class="s4">,</span>
                    <span class="s3">&quot;nativeForegroundAndroid&quot;</span><span class="s4">,</span>
                    <span class="s1">sourceProps.nativeForeground</span><span class="s4">,</span>
                    <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">focusable(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter ? sourceProps.focusable</span>
                                                 <span class="s1">: convertRawProp(</span>
                                                       <span class="s1">context</span><span class="s4">,</span>
                                                       <span class="s1">rawProps</span><span class="s4">,</span>
                                                       <span class="s3">&quot;focusable&quot;</span><span class="s4">,</span>
                                                       <span class="s1">sourceProps.focusable</span><span class="s4">,</span>
                                                       <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">hasTVPreferredFocus(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.hasTVPreferredFocus</span>
              <span class="s1">: convertRawProp(</span>
                    <span class="s1">context</span><span class="s4">,</span>
                    <span class="s1">rawProps</span><span class="s4">,</span>
                    <span class="s3">&quot;hasTVPreferredFocus&quot;</span><span class="s4">,</span>
                    <span class="s1">sourceProps.hasTVPreferredFocus</span><span class="s4">,</span>
                    <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">needsOffscreenAlphaCompositing(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.needsOffscreenAlphaCompositing</span>
              <span class="s1">: convertRawProp(</span>
                    <span class="s1">context</span><span class="s4">,</span>
                    <span class="s1">rawProps</span><span class="s4">,</span>
                    <span class="s3">&quot;needsOffscreenAlphaCompositing&quot;</span><span class="s4">,</span>
                    <span class="s1">sourceProps.needsOffscreenAlphaCompositing</span><span class="s4">,</span>
                    <span class="s1">{}))</span><span class="s4">,</span>
      <span class="s1">renderToHardwareTextureAndroid(</span>
          <span class="s1">CoreFeatures::enablePropIteratorSetter</span>
              <span class="s1">? sourceProps.renderToHardwareTextureAndroid</span>
              <span class="s1">: convertRawProp(</span>
                    <span class="s1">context</span><span class="s4">,</span>
                    <span class="s1">rawProps</span><span class="s4">,</span>
                    <span class="s3">&quot;renderToHardwareTextureAndroid&quot;</span><span class="s4">,</span>
                    <span class="s1">sourceProps.renderToHardwareTextureAndroid</span><span class="s4">,</span>
                    <span class="s1">{}))</span>

<span class="s2">#endif</span>
<span class="s1">{</span>
<span class="s1">}</span>

<span class="s2">#define </span><span class="s1">VIEW_EVENT_CASE(eventType)                      \ 
  </span><span class="s4">case </span><span class="s1">CONSTEXPR_RAW_PROPS_KEY_HASH(</span><span class="s3">&quot;on&quot; </span><span class="s1">#eventType): { \ 
    </span><span class="s4">const auto </span><span class="s1">offset = ViewEvents::Offset::eventType</span><span class="s4">;  </span><span class="s1">\ 
    ViewEvents defaultViewEvents{}</span><span class="s4">;                     </span><span class="s1">\ 
    </span><span class="s4">bool </span><span class="s1">res = defaultViewEvents[offset]</span><span class="s4">;               </span><span class="s1">\ 
    </span><span class="s4">if </span><span class="s1">(value.hasValue()) {                             \ 
      fromRawValue(context</span><span class="s4">, </span><span class="s1">value</span><span class="s4">, </span><span class="s1">res)</span><span class="s4">;                </span><span class="s1">\ 
    }                                                   \ 
    events[offset] = res</span><span class="s4">;                               </span><span class="s1">\ 
    </span><span class="s4">return;                                             </span><span class="s1">\ 
  }</span>

<span class="s4">void </span><span class="s1">ViewProps::setProp(</span>
    <span class="s4">const </span><span class="s1">PropsParserContext &amp;context</span><span class="s4">,</span>
    <span class="s1">RawPropsPropNameHash hash</span><span class="s4">,</span>
    <span class="s4">const char </span><span class="s1">*propName</span><span class="s4">,</span>
    <span class="s1">RawValue </span><span class="s4">const </span><span class="s1">&amp;value) {</span>
  <span class="s0">// All Props structs setProp methods must always, unconditionally,</span>
  <span class="s0">// call all super::setProp methods, since multiple structs may</span>
  <span class="s0">// reuse the same values.</span>
  <span class="s1">YogaStylableProps::setProp(context</span><span class="s4">, </span><span class="s1">hash</span><span class="s4">, </span><span class="s1">propName</span><span class="s4">, </span><span class="s1">value)</span><span class="s4">;</span>
  <span class="s1">AccessibilityProps::setProp(context</span><span class="s4">, </span><span class="s1">hash</span><span class="s4">, </span><span class="s1">propName</span><span class="s4">, </span><span class="s1">value)</span><span class="s4">;</span>

  <span class="s4">static auto </span><span class="s1">defaults = ViewProps{}</span><span class="s4">;</span>

  <span class="s4">switch </span><span class="s1">(hash) {</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(opacity)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(foregroundColor)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(backgroundColor)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(shadowColor)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(shadowOffset)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(shadowOpacity)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(shadowRadius)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(transform)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(backfaceVisibility)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(shouldRasterize)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(zIndex)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(pointerEvents)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(hitSlop)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(onLayout)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(collapsable)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(removeClippedSubviews)</span><span class="s4">;</span>
    <span class="s0">// events field</span>
    <span class="s1">VIEW_EVENT_CASE(PointerEnter)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(PointerEnterCapture)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(PointerMove)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(PointerMoveCapture)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(PointerLeave)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(PointerLeaveCapture)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(PointerOver)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(PointerOut)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(MoveShouldSetResponder)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(MoveShouldSetResponderCapture)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(StartShouldSetResponder)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(StartShouldSetResponderCapture)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(ResponderGrant)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(ResponderReject)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(ResponderStart)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(ResponderEnd)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(ResponderRelease)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(ResponderMove)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(ResponderTerminate)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(ResponderTerminationRequest)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(ShouldBlockNativeResponder)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(TouchStart)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(TouchMove)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(TouchEnd)</span><span class="s4">;</span>
    <span class="s1">VIEW_EVENT_CASE(TouchCancel)</span><span class="s4">;</span>
<span class="s2">#ifdef </span><span class="s1">ANDROID</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(elevation)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE(nativeBackground</span><span class="s4">, </span><span class="s3">&quot;nativeBackgroundAndroid&quot;</span><span class="s1">)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE(nativeForeground</span><span class="s4">, </span><span class="s3">&quot;nativeForegroundAndroid&quot;</span><span class="s1">)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(focusable)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(hasTVPreferredFocus)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(needsOffscreenAlphaCompositing)</span><span class="s4">;</span>
    <span class="s1">RAW_SET_PROP_SWITCH_CASE_BASIC(renderToHardwareTextureAndroid)</span><span class="s4">;</span>
<span class="s2">#endif</span>
    <span class="s0">// BorderRadii</span>
    <span class="s1">SET_CASCADED_RECTANGLE_CORNERS(borderRadii</span><span class="s4">, </span><span class="s3">&quot;border&quot;</span><span class="s4">, </span><span class="s3">&quot;Radius&quot;</span><span class="s4">, </span><span class="s1">value)</span><span class="s4">;</span>
    <span class="s1">SET_CASCADED_RECTANGLE_EDGES(borderColors</span><span class="s4">, </span><span class="s3">&quot;border&quot;</span><span class="s4">, </span><span class="s3">&quot;Color&quot;</span><span class="s4">, </span><span class="s1">value)</span><span class="s4">;</span>
    <span class="s1">SET_CASCADED_RECTANGLE_EDGES(borderStyles</span><span class="s4">, </span><span class="s3">&quot;border&quot;</span><span class="s4">, </span><span class="s3">&quot;Style&quot;</span><span class="s4">, </span><span class="s1">value)</span><span class="s4">;</span>
  <span class="s1">}</span>
<span class="s1">}</span>

<span class="s2">#pragma </span><span class="s1">mark - Convenience Methods</span>

<span class="s4">static </span><span class="s1">BorderRadii ensureNoOverlap(BorderRadii </span><span class="s4">const </span><span class="s1">&amp;radii</span><span class="s4">, </span><span class="s1">Size </span><span class="s4">const </span><span class="s1">&amp;size) {</span>
  <span class="s0">// &quot;Corner curves must not overlap: When the sum of any two adjacent border</span>
  <span class="s0">// radii exceeds the size of the border box, UAs must proportionally reduce</span>
  <span class="s0">// the used values of all border radii until none of them overlap.&quot;</span>
  <span class="s0">// Source: https://www.w3.org/TR/css-backgrounds-3/#corner-overlap</span>

  <span class="s4">auto </span><span class="s1">insets = EdgeInsets{</span>
      <span class="s0">/* .left = */ </span><span class="s1">radii.topLeft + radii.bottomLeft</span><span class="s4">,</span>
      <span class="s0">/* .top = */ </span><span class="s1">radii.topLeft + radii.topRight</span><span class="s4">,</span>
      <span class="s0">/* .right = */ </span><span class="s1">radii.topRight + radii.bottomRight</span><span class="s4">,</span>
      <span class="s0">/* .bottom = */ </span><span class="s1">radii.bottomLeft + radii.bottomRight</span><span class="s4">,</span>
  <span class="s1">}</span><span class="s4">;</span>

  <span class="s4">auto </span><span class="s1">insetsScale = EdgeInsets{</span>
      <span class="s0">/* .left = */</span>
      <span class="s1">insets.left &gt; </span><span class="s5">0 </span><span class="s1">? std::min((Float)</span><span class="s5">1.0</span><span class="s4">, </span><span class="s1">size.height / insets.left) : </span><span class="s5">0</span><span class="s4">,</span>
      <span class="s0">/* .top = */</span>
      <span class="s1">insets.top &gt; </span><span class="s5">0 </span><span class="s1">? std::min((Float)</span><span class="s5">1.0</span><span class="s4">, </span><span class="s1">size.width / insets.top) : </span><span class="s5">0</span><span class="s4">,</span>
      <span class="s0">/* .right = */</span>
      <span class="s1">insets.right &gt; </span><span class="s5">0 </span><span class="s1">? std::min((Float)</span><span class="s5">1.0</span><span class="s4">, </span><span class="s1">size.height / insets.right) : </span><span class="s5">0</span><span class="s4">,</span>
      <span class="s0">/* .bottom = */</span>
      <span class="s1">insets.bottom &gt; </span><span class="s5">0 </span><span class="s1">? std::min((Float)</span><span class="s5">1.0</span><span class="s4">, </span><span class="s1">size.width / insets.bottom) : </span><span class="s5">0</span><span class="s4">,</span>
  <span class="s1">}</span><span class="s4">;</span>

  <span class="s4">return </span><span class="s1">BorderRadii{</span>
      <span class="s0">/* topLeft = */</span>
      <span class="s1">radii.topLeft * std::min(insetsScale.top</span><span class="s4">, </span><span class="s1">insetsScale.left)</span><span class="s4">,</span>
      <span class="s0">/* topRight = */</span>
      <span class="s1">radii.topRight * std::min(insetsScale.top</span><span class="s4">, </span><span class="s1">insetsScale.right)</span><span class="s4">,</span>
      <span class="s0">/* bottomLeft = */</span>
      <span class="s1">radii.bottomLeft * std::min(insetsScale.bottom</span><span class="s4">, </span><span class="s1">insetsScale.left)</span><span class="s4">,</span>
      <span class="s0">/* bottomRight = */</span>
      <span class="s1">radii.bottomRight * std::min(insetsScale.bottom</span><span class="s4">, </span><span class="s1">insetsScale.right)</span><span class="s4">,</span>
  <span class="s1">}</span><span class="s4">;</span>
<span class="s1">}</span>

<span class="s1">BorderMetrics ViewProps::resolveBorderMetrics(</span>
    <span class="s1">LayoutMetrics </span><span class="s4">const </span><span class="s1">&amp;layoutMetrics) </span><span class="s4">const </span><span class="s1">{</span>
  <span class="s4">auto </span><span class="s1">isRTL =</span>
      <span class="s4">bool</span><span class="s1">{layoutMetrics.layoutDirection == LayoutDirection::RightToLeft}</span><span class="s4">;</span>

  <span class="s4">auto </span><span class="s1">borderWidths = CascadedBorderWidths{</span>
      <span class="s0">/* .left = */ </span><span class="s1">optionalFloatFromYogaValue(yogaStyle.border()[YGEdgeLeft])</span><span class="s4">,</span>
      <span class="s0">/* .top = */ </span><span class="s1">optionalFloatFromYogaValue(yogaStyle.border()[YGEdgeTop])</span><span class="s4">,</span>
      <span class="s0">/* .right = */</span>
      <span class="s1">optionalFloatFromYogaValue(yogaStyle.border()[YGEdgeRight])</span><span class="s4">,</span>
      <span class="s0">/* .bottom = */</span>
      <span class="s1">optionalFloatFromYogaValue(yogaStyle.border()[YGEdgeBottom])</span><span class="s4">,</span>
      <span class="s0">/* .start = */</span>
      <span class="s1">optionalFloatFromYogaValue(yogaStyle.border()[YGEdgeStart])</span><span class="s4">,</span>
      <span class="s0">/* .end = */ </span><span class="s1">optionalFloatFromYogaValue(yogaStyle.border()[YGEdgeEnd])</span><span class="s4">,</span>
      <span class="s0">/* .horizontal = */</span>
      <span class="s1">optionalFloatFromYogaValue(yogaStyle.border()[YGEdgeHorizontal])</span><span class="s4">,</span>
      <span class="s0">/* .vertical = */</span>
      <span class="s1">optionalFloatFromYogaValue(yogaStyle.border()[YGEdgeVertical])</span><span class="s4">,</span>
      <span class="s0">/* .all = */ </span><span class="s1">optionalFloatFromYogaValue(yogaStyle.border()[YGEdgeAll])</span><span class="s4">,</span>
  <span class="s1">}</span><span class="s4">;</span>

  <span class="s4">return </span><span class="s1">{</span>
      <span class="s0">/* .borderColors = */ </span><span class="s1">borderColors.resolve(isRTL</span><span class="s4">, </span><span class="s1">{})</span><span class="s4">,</span>
      <span class="s0">/* .borderWidths = */ </span><span class="s1">borderWidths.resolve(isRTL</span><span class="s4">, </span><span class="s5">0</span><span class="s1">)</span><span class="s4">,</span>
      <span class="s0">/* .borderRadii = */</span>
      <span class="s1">ensureNoOverlap(borderRadii.resolve(isRTL</span><span class="s4">, </span><span class="s5">0</span><span class="s1">)</span><span class="s4">, </span><span class="s1">layoutMetrics.frame.size)</span><span class="s4">,</span>
      <span class="s0">/* .borderCurves = */ </span><span class="s1">borderCurves.resolve(isRTL</span><span class="s4">, </span><span class="s1">BorderCurve::Circular)</span><span class="s4">,</span>
      <span class="s0">/* .borderStyles = */ </span><span class="s1">borderStyles.resolve(isRTL</span><span class="s4">, </span><span class="s1">BorderStyle::Solid)</span><span class="s4">,</span>
  <span class="s1">}</span><span class="s4">;</span>
<span class="s1">}</span>

<span class="s4">bool </span><span class="s1">ViewProps::getClipsContentToBounds() </span><span class="s4">const </span><span class="s1">{</span>
  <span class="s4">return </span><span class="s1">yogaStyle.overflow() != YGOverflowVisible</span><span class="s4">;</span>
<span class="s1">}</span>

<span class="s2">#ifdef </span><span class="s1">ANDROID</span>
<span class="s4">bool </span><span class="s1">ViewProps::getProbablyMoreHorizontalThanVertical_DEPRECATED() </span><span class="s4">const </span><span class="s1">{</span>
  <span class="s4">return </span><span class="s1">yogaStyle.flexDirection() == YGFlexDirectionRow</span><span class="s4">;</span>
<span class="s1">}</span>
<span class="s2">#endif</span>

<span class="s2">#pragma </span><span class="s1">mark - DebugStringConvertible</span>

<span class="s2">#if </span><span class="s1">RN_DEBUG_STRING_CONVERTIBLE</span>
<span class="s1">SharedDebugStringConvertibleList ViewProps::getDebugProps() </span><span class="s4">const </span><span class="s1">{</span>
  <span class="s4">const auto </span><span class="s1">&amp;defaultViewProps = ViewProps()</span><span class="s4">;</span>

  <span class="s4">return </span><span class="s1">AccessibilityProps::getDebugProps() +</span>
      <span class="s1">YogaStylableProps::getDebugProps() +</span>
      <span class="s1">SharedDebugStringConvertibleList{</span>
          <span class="s1">debugStringConvertibleItem(</span>
              <span class="s3">&quot;opacity&quot;</span><span class="s4">, </span><span class="s1">opacity</span><span class="s4">, </span><span class="s1">defaultViewProps.opacity)</span><span class="s4">,</span>
          <span class="s1">debugStringConvertibleItem(</span>
              <span class="s3">&quot;foregroundColor&quot;</span><span class="s4">,</span>
              <span class="s1">foregroundColor</span><span class="s4">,</span>
              <span class="s1">defaultViewProps.foregroundColor)</span><span class="s4">,</span>
          <span class="s1">debugStringConvertibleItem(</span>
              <span class="s3">&quot;backgroundColor&quot;</span><span class="s4">,</span>
              <span class="s1">backgroundColor</span><span class="s4">,</span>
              <span class="s1">defaultViewProps.backgroundColor)</span><span class="s4">,</span>
          <span class="s1">debugStringConvertibleItem(</span>
              <span class="s3">&quot;zIndex&quot;</span><span class="s4">, </span><span class="s1">zIndex</span><span class="s4">, </span><span class="s1">defaultViewProps.zIndex.value_or(</span><span class="s5">0</span><span class="s1">))</span><span class="s4">,</span>
      <span class="s1">}</span><span class="s4">;</span>
<span class="s1">}</span>
<span class="s2">#endif</span>

<span class="s1">} </span><span class="s0">// namespace facebook::react</span>
</pre>
</body>
</html>