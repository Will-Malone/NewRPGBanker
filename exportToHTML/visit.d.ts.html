<html>
<head>
<title>visit.d.ts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #a9b7c6;}
.s3 { color: #6a8759;}
.s4 { color: #808080;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
visit.d.ts</font>
</center></td></tr></table>
<pre><span class="s0">import type </span><span class="s1">{ </span><span class="s2">Document </span><span class="s1">} </span><span class="s0">from </span><span class="s3">'./doc/Document.js'</span><span class="s1">;</span>
<span class="s0">import type </span><span class="s1">{ </span><span class="s2">Alias </span><span class="s1">} </span><span class="s0">from </span><span class="s3">'./nodes/Alias.js'</span><span class="s1">;</span>
<span class="s0">import </span><span class="s1">{ </span><span class="s2">Node </span><span class="s1">} </span><span class="s0">from </span><span class="s3">'./nodes/Node.js'</span><span class="s1">;</span>
<span class="s0">import type </span><span class="s1">{ </span><span class="s2">Pair </span><span class="s1">} </span><span class="s0">from </span><span class="s3">'./nodes/Pair.js'</span><span class="s1">;</span>
<span class="s0">import type </span><span class="s1">{ </span><span class="s2">Scalar </span><span class="s1">} </span><span class="s0">from </span><span class="s3">'./nodes/Scalar.js'</span><span class="s1">;</span>
<span class="s0">import type </span><span class="s1">{ </span><span class="s2">YAMLMap </span><span class="s1">} </span><span class="s0">from </span><span class="s3">'./nodes/YAMLMap.js'</span><span class="s1">;</span>
<span class="s0">import type </span><span class="s1">{ </span><span class="s2">YAMLSeq </span><span class="s1">} </span><span class="s0">from </span><span class="s3">'./nodes/YAMLSeq.js'</span><span class="s1">;</span>
<span class="s0">export type </span><span class="s2">visitorFn</span><span class="s1">&lt;</span><span class="s2">T</span><span class="s1">&gt; </span><span class="s0">= </span><span class="s1">(</span><span class="s2">key</span><span class="s0">: </span><span class="s2">number </span><span class="s0">| </span><span class="s3">'key' </span><span class="s0">| </span><span class="s3">'value' </span><span class="s0">| </span><span class="s2">null</span><span class="s1">, </span><span class="s2">node</span><span class="s0">: </span><span class="s2">T</span><span class="s1">, </span><span class="s2">path</span><span class="s0">: readonly </span><span class="s1">(</span><span class="s2">Document </span><span class="s0">| </span><span class="s2">Node </span><span class="s0">| </span><span class="s2">Pair</span><span class="s1">)[]) </span><span class="s0">=&gt; </span><span class="s2">void </span><span class="s0">| </span><span class="s2">symbol </span><span class="s0">| </span><span class="s2">number </span><span class="s0">| </span><span class="s2">Node </span><span class="s0">| </span><span class="s2">Pair</span><span class="s1">;</span>
<span class="s0">export type </span><span class="s2">visitor </span><span class="s0">= </span><span class="s2">visitorFn</span><span class="s1">&lt;</span><span class="s2">unknown</span><span class="s1">&gt; </span><span class="s0">| </span><span class="s1">{</span>
    <span class="s1">Alias</span><span class="s0">?: </span><span class="s2">visitorFn</span><span class="s1">&lt;</span><span class="s2">Alias</span><span class="s1">&gt;;</span>
    <span class="s1">Collection</span><span class="s0">?: </span><span class="s2">visitorFn</span><span class="s1">&lt;</span><span class="s2">YAMLMap </span><span class="s0">| </span><span class="s2">YAMLSeq</span><span class="s1">&gt;;</span>
    <span class="s1">Map</span><span class="s0">?: </span><span class="s2">visitorFn</span><span class="s1">&lt;</span><span class="s2">YAMLMap</span><span class="s1">&gt;;</span>
    <span class="s1">Node</span><span class="s0">?: </span><span class="s2">visitorFn</span><span class="s1">&lt;</span><span class="s2">Alias </span><span class="s0">| </span><span class="s2">Scalar </span><span class="s0">| </span><span class="s2">YAMLMap </span><span class="s0">| </span><span class="s2">YAMLSeq</span><span class="s1">&gt;;</span>
    <span class="s1">Pair</span><span class="s0">?: </span><span class="s2">visitorFn</span><span class="s1">&lt;</span><span class="s2">Pair</span><span class="s1">&gt;;</span>
    <span class="s1">Scalar</span><span class="s0">?: </span><span class="s2">visitorFn</span><span class="s1">&lt;</span><span class="s2">Scalar</span><span class="s1">&gt;;</span>
    <span class="s1">Seq</span><span class="s0">?: </span><span class="s2">visitorFn</span><span class="s1">&lt;</span><span class="s2">YAMLSeq</span><span class="s1">&gt;;</span>
    <span class="s1">Value</span><span class="s0">?: </span><span class="s2">visitorFn</span><span class="s1">&lt;</span><span class="s2">Scalar </span><span class="s0">| </span><span class="s2">YAMLMap </span><span class="s0">| </span><span class="s2">YAMLSeq</span><span class="s1">&gt;;</span>
<span class="s1">};</span>
<span class="s0">export type </span><span class="s2">asyncVisitorFn</span><span class="s1">&lt;</span><span class="s2">T</span><span class="s1">&gt; </span><span class="s0">= </span><span class="s1">(</span><span class="s2">key</span><span class="s0">: </span><span class="s2">number </span><span class="s0">| </span><span class="s3">'key' </span><span class="s0">| </span><span class="s3">'value' </span><span class="s0">| </span><span class="s2">null</span><span class="s1">, </span><span class="s2">node</span><span class="s0">: </span><span class="s2">T</span><span class="s1">, </span><span class="s2">path</span><span class="s0">: readonly </span><span class="s1">(</span><span class="s2">Document </span><span class="s0">| </span><span class="s2">Node </span><span class="s0">| </span><span class="s2">Pair</span><span class="s1">)[]) </span><span class="s0">=&gt; </span><span class="s2">void </span><span class="s0">| </span><span class="s2">symbol </span><span class="s0">| </span><span class="s2">number </span><span class="s0">| </span><span class="s2">Node </span><span class="s0">| </span><span class="s2">Pair </span><span class="s0">| </span><span class="s2">Promise</span><span class="s1">&lt;</span><span class="s2">void </span><span class="s0">| </span><span class="s2">symbol </span><span class="s0">| </span><span class="s2">number </span><span class="s0">| </span><span class="s2">Node </span><span class="s0">| </span><span class="s2">Pair</span><span class="s1">&gt;;</span>
<span class="s0">export type </span><span class="s2">asyncVisitor </span><span class="s0">= </span><span class="s2">asyncVisitorFn</span><span class="s1">&lt;</span><span class="s2">unknown</span><span class="s1">&gt; </span><span class="s0">| </span><span class="s1">{</span>
    <span class="s1">Alias</span><span class="s0">?: </span><span class="s2">asyncVisitorFn</span><span class="s1">&lt;</span><span class="s2">Alias</span><span class="s1">&gt;;</span>
    <span class="s1">Collection</span><span class="s0">?: </span><span class="s2">asyncVisitorFn</span><span class="s1">&lt;</span><span class="s2">YAMLMap </span><span class="s0">| </span><span class="s2">YAMLSeq</span><span class="s1">&gt;;</span>
    <span class="s1">Map</span><span class="s0">?: </span><span class="s2">asyncVisitorFn</span><span class="s1">&lt;</span><span class="s2">YAMLMap</span><span class="s1">&gt;;</span>
    <span class="s1">Node</span><span class="s0">?: </span><span class="s2">asyncVisitorFn</span><span class="s1">&lt;</span><span class="s2">Alias </span><span class="s0">| </span><span class="s2">Scalar </span><span class="s0">| </span><span class="s2">YAMLMap </span><span class="s0">| </span><span class="s2">YAMLSeq</span><span class="s1">&gt;;</span>
    <span class="s1">Pair</span><span class="s0">?: </span><span class="s2">asyncVisitorFn</span><span class="s1">&lt;</span><span class="s2">Pair</span><span class="s1">&gt;;</span>
    <span class="s1">Scalar</span><span class="s0">?: </span><span class="s2">asyncVisitorFn</span><span class="s1">&lt;</span><span class="s2">Scalar</span><span class="s1">&gt;;</span>
    <span class="s1">Seq</span><span class="s0">?: </span><span class="s2">asyncVisitorFn</span><span class="s1">&lt;</span><span class="s2">YAMLSeq</span><span class="s1">&gt;;</span>
    <span class="s1">Value</span><span class="s0">?: </span><span class="s2">asyncVisitorFn</span><span class="s1">&lt;</span><span class="s2">Scalar </span><span class="s0">| </span><span class="s2">YAMLMap </span><span class="s0">| </span><span class="s2">YAMLSeq</span><span class="s1">&gt;;</span>
<span class="s1">};</span>
<span class="s4">/**</span>
 <span class="s4">* Apply a visitor to an AST node or document. 
 * 
 * Walks through the tree (depth-first) starting from `node`, calling a 
 * `visitor` function with three arguments: 
 *   - `key`: For sequence values and map `Pair`, the node's index in the 
 *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly. 
 *     `null` for the root node. 
 *   - `node`: The current node. 
 *   - `path`: The ancestry of the current node. 
 * 
 * The return value of the visitor may be used to control the traversal: 
 *   - `undefined` (default): Do nothing and continue 
 *   - `visit.SKIP`: Do not visit the children of this node, continue with next 
 *     sibling 
 *   - `visit.BREAK`: Terminate traversal completely 
 *   - `visit.REMOVE`: Remove the current node, then continue with the next one 
 *   - `Node`: Replace the current node, then continue by visiting it 
 *   - `number`: While iterating the items of a sequence or map, set the index 
 *     of the next step. This is useful especially if the index of the current 
 *     node has changed. 
 * 
 * If `visitor` is a single function, it will be called with all values 
 * encountered in the tree, including e.g. `null` values. Alternatively, 
 * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`, 
 * `Alias` and `Scalar` node. To define the same visitor function for more than 
 * one node type, use the `Collection` (map and seq), `Value` (map, seq &amp; scalar) 
 * and `Node` (alias, map, seq &amp; scalar) targets. Of all these, only the most 
 * specific defined one will be used for each node. 
 */</span>
<span class="s0">export declare function </span><span class="s1">visit(</span><span class="s2">node</span><span class="s0">: </span><span class="s2">Node </span><span class="s0">| </span><span class="s2">Document </span><span class="s0">| </span><span class="s2">null</span><span class="s1">, </span><span class="s2">visitor</span><span class="s0">: </span><span class="s2">visitor</span><span class="s1">)</span><span class="s0">: </span><span class="s2">void</span><span class="s1">;</span>
<span class="s0">export declare namespace </span><span class="s2">visit </span><span class="s1">{</span>
    <span class="s0">var </span><span class="s1">BREAK</span><span class="s0">: </span><span class="s2">symbol</span><span class="s1">;</span>
    <span class="s0">var </span><span class="s1">SKIP</span><span class="s0">: </span><span class="s2">symbol</span><span class="s1">;</span>
    <span class="s0">var </span><span class="s1">REMOVE</span><span class="s0">: </span><span class="s2">symbol</span><span class="s1">;</span>
<span class="s1">}</span>
<span class="s4">/**</span>
 <span class="s4">* Apply an async visitor to an AST node or document. 
 * 
 * Walks through the tree (depth-first) starting from `node`, calling a 
 * `visitor` function with three arguments: 
 *   - `key`: For sequence values and map `Pair`, the node's index in the 
 *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly. 
 *     `null` for the root node. 
 *   - `node`: The current node. 
 *   - `path`: The ancestry of the current node. 
 * 
 * The return value of the visitor may be used to control the traversal: 
 *   - `Promise`: Must resolve to one of the following values 
 *   - `undefined` (default): Do nothing and continue 
 *   - `visit.SKIP`: Do not visit the children of this node, continue with next 
 *     sibling 
 *   - `visit.BREAK`: Terminate traversal completely 
 *   - `visit.REMOVE`: Remove the current node, then continue with the next one 
 *   - `Node`: Replace the current node, then continue by visiting it 
 *   - `number`: While iterating the items of a sequence or map, set the index 
 *     of the next step. This is useful especially if the index of the current 
 *     node has changed. 
 * 
 * If `visitor` is a single function, it will be called with all values 
 * encountered in the tree, including e.g. `null` values. Alternatively, 
 * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`, 
 * `Alias` and `Scalar` node. To define the same visitor function for more than 
 * one node type, use the `Collection` (map and seq), `Value` (map, seq &amp; scalar) 
 * and `Node` (alias, map, seq &amp; scalar) targets. Of all these, only the most 
 * specific defined one will be used for each node. 
 */</span>
<span class="s0">export declare function </span><span class="s1">visitAsync(</span><span class="s2">node</span><span class="s0">: </span><span class="s2">Node </span><span class="s0">| </span><span class="s2">Document </span><span class="s0">| </span><span class="s2">null</span><span class="s1">, </span><span class="s2">visitor</span><span class="s0">: </span><span class="s2">asyncVisitor</span><span class="s1">)</span><span class="s0">: </span><span class="s2">Promise</span><span class="s1">&lt;</span><span class="s2">void</span><span class="s1">&gt;;</span>
<span class="s0">export declare namespace </span><span class="s2">visitAsync </span><span class="s1">{</span>
    <span class="s0">var </span><span class="s1">BREAK</span><span class="s0">: </span><span class="s2">symbol</span><span class="s1">;</span>
    <span class="s0">var </span><span class="s1">SKIP</span><span class="s0">: </span><span class="s2">symbol</span><span class="s1">;</span>
    <span class="s0">var </span><span class="s1">REMOVE</span><span class="s0">: </span><span class="s2">symbol</span><span class="s1">;</span>
<span class="s1">}</span>
</pre>
</body>
</html>