<html>
<head>
<title>api.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #6897bb; font-style: italic;}
.s3 { color: #cc7832; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
api.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../src/api.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;makeTagsFilter&quot;</span><span class="s0">,</span><span class="s1">&quot;tags&quot;</span><span class="s0">,</span><span class="s1">&quot;platform&quot;</span><span class="s0">,</span><span class="s1">&quot;minPriority&quot;</span><span class="s0">,</span><span class="s1">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">&quot;AndroidFilter&quot;</span><span class="s0">,</span><span class="s1">&quot;IosFilter&quot;</span><span class="s0">,</span><span class="s1">&quot;setFilterByTag&quot;</span><span class="s0">,</span><span class="s1">&quot;makeAppFilter&quot;</span><span class="s0">,</span><span class="s1">&quot;appIdentifier&quot;</span><span class="s0">,</span><span class="s1">&quot;adbPath&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;setFilterByApp&quot;</span><span class="s0">,</span><span class="s1">&quot;makeMatchFilter&quot;</span><span class="s0">,</span><span class="s1">&quot;regexes&quot;</span><span class="s0">,</span><span class="s1">&quot;setFilterByMatch&quot;</span><span class="s0">,</span><span class="s1">&quot;makeCustomFilter&quot;</span><span class="s0">,</span><span class="s1">&quot;patterns&quot;</span><span class="s0">,</span><span class="s1">&quot;setCustomFilter&quot;</span><span class="s0">,</span><span class="s1">&quot;logkitty&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;priority&quot;</span><span class="s0">,</span><span class="s1">&quot;createFilter&quot;</span><span class="s0">,</span><span class="s1">&quot;emitter&quot;</span><span class="s0">,</span><span class="s1">&quot;EventEmitter&quot;</span><span class="s0">,</span><span class="s1">&quot;some&quot;</span><span class="s0">,</span><span class="s1">&quot;availablePlatform&quot;</span><span class="s0">,</span><span class="s1">&quot;parser&quot;</span><span class="s0">,</span><span class="s1">&quot;AndroidParser&quot;</span><span class="s0">,</span><span class="s1">&quot;IosParser&quot;</span><span class="s0">,</span><span class="s1">&quot;loggingProcess&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;on&quot;</span><span class="s0">,</span><span class="s1">&quot;kill&quot;</span><span class="s0">,</span><span class="s1">&quot;emit&quot;</span><span class="s0">,</span><span class="s1">&quot;stderr&quot;</span><span class="s0">,</span><span class="s1">&quot;errorData&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;CodeError&quot;</span><span class="s0">,</span><span class="s1">&quot;ERR_IOS_NO_SIMULATORS_BOOTED&quot;</span><span class="s0">,</span><span class="s1">&quot;stdout&quot;</span><span class="s0">,</span><span class="s1">&quot;raw&quot;</span><span class="s0">,</span><span class="s1">&quot;entryToLog&quot;</span><span class="s0">,</span><span class="s1">&quot;messages&quot;</span><span class="s0">,</span><span class="s1">&quot;splitMessages&quot;</span><span class="s0">,</span><span class="s1">&quot;entries&quot;</span><span class="s0">,</span><span class="s1">&quot;parseMessages&quot;</span><span class="s0">,</span><span class="s1">&quot;forEach&quot;</span><span class="s0">,</span><span class="s1">&quot;entry&quot;</span><span class="s0">,</span><span class="s1">&quot;shouldInclude&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/* Common */</span><span class="s3">\n</span><span class="s1">import { EventEmitter } from 'events';</span><span class="s3">\n</span><span class="s1">import { IFilter, Entry, Platform } from './types';</span><span class="s3">\n\n</span><span class="s1">/* Android */</span><span class="s3">\n</span><span class="s1">import AndroidFilter from './android/AndroidFilter';</span><span class="s3">\n</span><span class="s1">import AndroidParser from './android/AndroidParser';</span><span class="s3">\n</span><span class="s1">import { runAndroidLoggingProcess } from './android/adb';</span><span class="s3">\n</span><span class="s1">export { Priority as AndroidPriority } from './android/constants';</span><span class="s3">\n\n</span><span class="s1">/* iOS */</span><span class="s3">\n</span><span class="s1">import IosParser from './ios/IosParser';</span><span class="s3">\n</span><span class="s1">import IosFilter from './ios/IosFilter';</span><span class="s3">\n</span><span class="s1">import { runSimulatorLoggingProcess } from './ios/simulator';</span><span class="s3">\n</span><span class="s1">import { CodeError, ERR_IOS_NO_SIMULATORS_BOOTED } from './errors';</span><span class="s3">\n</span><span class="s1">export { Priority as IosPriority } from './ios/constants';</span><span class="s3">\n\n</span><span class="s1">/* Exports */</span><span class="s3">\n</span><span class="s1">export { formatEntry, formatError } from './formatters';</span><span class="s3">\n</span><span class="s1">export { Entry } from './types';</span><span class="s3">\n\n</span><span class="s1">export type LogkittyOptions = {</span><span class="s3">\n  </span><span class="s1">platform: Platform;</span><span class="s3">\n  </span><span class="s1">adbPath?: string;</span><span class="s3">\n  </span><span class="s1">priority?: number;</span><span class="s3">\n  </span><span class="s1">filter?: FilterCreator;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export type FilterCreator = (</span><span class="s3">\n  </span><span class="s1">platform: Platform,</span><span class="s3">\n  </span><span class="s1">minPriority?: number,</span><span class="s3">\n  </span><span class="s1">adbPath?: string</span><span class="s3">\n</span><span class="s1">) =&gt; IFilter;</span><span class="s3">\n\n</span><span class="s1">export function makeTagsFilter(...tags: string[]): FilterCreator {</span><span class="s3">\n  </span><span class="s1">return (platform: Platform, minPriority?: number) =&gt; {</span><span class="s3">\n    </span><span class="s1">const filter =</span><span class="s3">\n      </span><span class="s1">platform === 'android'</span><span class="s3">\n        </span><span class="s1">? new AndroidFilter(minPriority)</span><span class="s3">\n        </span><span class="s1">: new IosFilter(minPriority);</span><span class="s3">\n    </span><span class="s1">filter.setFilterByTag(tags);</span><span class="s3">\n    </span><span class="s1">return filter;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function makeAppFilter(appIdentifier: string): FilterCreator {</span><span class="s3">\n  </span><span class="s1">return (platform: Platform, minPriority?: number, adbPath?: string) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (platform !== 'android') {</span><span class="s3">\n      </span><span class="s1">throw new Error('App filter is only available for Android');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const filter = new AndroidFilter(minPriority);</span><span class="s3">\n    </span><span class="s1">filter.setFilterByApp(appIdentifier, adbPath);</span><span class="s3">\n    </span><span class="s1">return filter;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function makeMatchFilter(...regexes: RegExp[]): FilterCreator {</span><span class="s3">\n  </span><span class="s1">return (platform: Platform, minPriority?: number) =&gt; {</span><span class="s3">\n    </span><span class="s1">const filter =</span><span class="s3">\n      </span><span class="s1">platform === 'android'</span><span class="s3">\n        </span><span class="s1">? new AndroidFilter(minPriority)</span><span class="s3">\n        </span><span class="s1">: new IosFilter(minPriority);</span><span class="s3">\n    </span><span class="s1">filter.setFilterByMatch(regexes);</span><span class="s3">\n    </span><span class="s1">return filter;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function makeCustomFilter(...patterns: string[]): FilterCreator {</span><span class="s3">\n  </span><span class="s1">return (platform: Platform, minPriority?: number) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (platform !== 'android') {</span><span class="s3">\n      </span><span class="s1">throw new Error('Custom filter is only available for Android');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const filter = new AndroidFilter(minPriority);</span><span class="s3">\n    </span><span class="s1">filter.setCustomFilter(patterns);</span><span class="s3">\n    </span><span class="s1">return filter;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function logkitty(options: LogkittyOptions): EventEmitter {</span><span class="s3">\n  </span><span class="s1">const { platform, adbPath, priority, filter: createFilter } = options;</span><span class="s3">\n  </span><span class="s1">const emitter = new EventEmitter();</span><span class="s3">\n\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">!['ios', 'android'].some(</span><span class="s3">\n      </span><span class="s1">availablePlatform =&gt; availablePlatform === platform</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">throw new Error(`Platform ${platform} is not supported`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const parser = platform === 'android' ? new AndroidParser() : new IosParser();</span><span class="s3">\n  </span><span class="s1">let filter: IFilter;</span><span class="s3">\n  </span><span class="s1">if (createFilter) {</span><span class="s3">\n    </span><span class="s1">filter = createFilter(platform, priority, adbPath);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">filter =</span><span class="s3">\n      </span><span class="s1">platform === 'android'</span><span class="s3">\n        </span><span class="s1">? new AndroidFilter(priority)</span><span class="s3">\n        </span><span class="s1">: new IosFilter(priority);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const loggingProcess =</span><span class="s3">\n    </span><span class="s1">platform === 'android'</span><span class="s3">\n      </span><span class="s1">? runAndroidLoggingProcess(adbPath)</span><span class="s3">\n      </span><span class="s1">: runSimulatorLoggingProcess();</span><span class="s3">\n\n  </span><span class="s1">process.on('exit', () =&gt; {</span><span class="s3">\n    </span><span class="s1">loggingProcess.kill();</span><span class="s3">\n    </span><span class="s1">emitter.emit('exit');</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n\n  </span><span class="s1">loggingProcess.stderr.on('data', (errorData: string | Buffer) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">platform === 'ios' &amp;&amp;</span><span class="s3">\n      </span><span class="s1">errorData.toString().includes('No devices are booted.')</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">emitter.emit(</span><span class="s3">\n        </span><span class="s1">'error',</span><span class="s3">\n        </span><span class="s1">new CodeError(ERR_IOS_NO_SIMULATORS_BOOTED, 'No simulators are booted.')</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">emitter.emit('error', new Error(errorData.toString()));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n\n  </span><span class="s1">loggingProcess.stdout.on('data', (raw: string | Buffer) =&gt; {</span><span class="s3">\n    </span><span class="s1">let entryToLog: Entry | undefined;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">const messages = parser.splitMessages(raw.toString());</span><span class="s3">\n      </span><span class="s1">const entries = parser.parseMessages(messages);</span><span class="s3">\n      </span><span class="s1">entries.forEach((entry: Entry) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (filter.shouldInclude(entry)) {</span><span class="s3">\n          </span><span class="s1">entryToLog = entry;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">} catch (error) {</span><span class="s3">\n      </span><span class="s1">emitter.emit('error', error);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (entryToLog) {</span><span class="s3">\n      </span><span class="s1">emitter.emit('entry', entryToLog);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n\n  </span><span class="s1">loggingProcess.stdout.on('error', (error: Error) =&gt; {</span><span class="s3">\n    </span><span class="s1">emitter.emit('error', error);</span><span class="s3">\n    </span><span class="s1">emitter.emit('exit');</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n\n  </span><span class="s1">return emitter;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;api.js&quot;</span><span class="s0">}</span></pre>
</body>
</html>