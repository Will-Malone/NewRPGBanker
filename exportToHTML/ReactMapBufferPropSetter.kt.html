<html>
<head>
<title>ReactMapBufferPropSetter.kt</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #cc7832;}
.s3 { color: #6897bb;}
.s4 { color: #6a8759;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
ReactMapBufferPropSetter.kt</font>
</center></td></tr></table>
<pre><span class="s0">/* 
 * Copyright (c) Meta Platforms, Inc. and affiliates. 
 * 
 * This source code is licensed under the MIT license found in the 
 * LICENSE file in the root directory of this source tree. 
 */</span>

<span class="s2">package </span><span class="s1">com.facebook.react.views.view</span>

<span class="s1">import android.graphics.Color</span>
<span class="s1">import android.graphics.Rect</span>
<span class="s1">import androidx.core.view.ViewCompat</span>
<span class="s1">import com.facebook.react.bridge.DynamicFromObject</span>
<span class="s1">import com.facebook.react.bridge.JavaOnlyArray</span>
<span class="s1">import com.facebook.react.bridge.JavaOnlyMap</span>
<span class="s1">import com.facebook.react.bridge.ReadableMap</span>
<span class="s1">import com.facebook.react.common.mapbuffer.MapBuffer</span>
<span class="s1">import com.facebook.react.uimanager.PixelUtil</span>
<span class="s1">import com.facebook.react.uimanager.PointerEvents</span>

<span class="s2">object </span><span class="s1">ReactMapBufferPropSetter {</span>
  <span class="s0">// ViewProps values</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_ACCESSIBILITY_ACTIONS = </span><span class="s3">0</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_ACCESSIBILITY_HINT = </span><span class="s3">1</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_ACCESSIBILITY_LABEL = </span><span class="s3">2</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_ACCESSIBILITY_LABELLED_BY = </span><span class="s3">3</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_ACCESSIBILITY_LIVE_REGION = </span><span class="s3">4</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_ACCESSIBILITY_ROLE = </span><span class="s3">5</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_ACCESSIBILITY_STATE = </span><span class="s3">6</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_ACCESSIBILITY_VALUE = </span><span class="s3">7</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_ACCESSIBLE = </span><span class="s3">8</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_BACKFACE_VISIBILITY = </span><span class="s3">9</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_BG_COLOR = </span><span class="s3">10</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_BORDER_COLOR = </span><span class="s3">11</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_BORDER_RADII = </span><span class="s3">12</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_BORDER_STYLE = </span><span class="s3">13</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_COLLAPSABLE = </span><span class="s3">14</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_ELEVATION = </span><span class="s3">15</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_FOCUSABLE = </span><span class="s3">16</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_HAS_TV_FOCUS = </span><span class="s3">17</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_HIT_SLOP = </span><span class="s3">18</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_IMPORTANT_FOR_ACCESSIBILITY = </span><span class="s3">19</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_NATIVE_BACKGROUND = </span><span class="s3">20</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_NATIVE_FOREGROUND = </span><span class="s3">21</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_NATIVE_ID = </span><span class="s3">22</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_OFFSCREEN_ALPHA_COMPOSITING = </span><span class="s3">23</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_OPACITY = </span><span class="s3">24</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_POINTER_EVENTS = </span><span class="s3">25</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_POINTER_ENTER = </span><span class="s3">26</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_POINTER_LEAVE = </span><span class="s3">27</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_POINTER_MOVE = </span><span class="s3">28</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_REMOVE_CLIPPED_SUBVIEW = </span><span class="s3">29</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_RENDER_TO_HARDWARE_TEXTURE = </span><span class="s3">30</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_SHADOW_COLOR = </span><span class="s3">31</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_TEST_ID = </span><span class="s3">32</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_TRANSFORM = </span><span class="s3">33</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_ZINDEX = </span><span class="s3">34</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_POINTER_ENTER_CAPTURE = </span><span class="s3">38</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_POINTER_LEAVE_CAPTURE = </span><span class="s3">39</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_POINTER_MOVE_CAPTURE = </span><span class="s3">40</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_POINTER_OUT = </span><span class="s3">41</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_POINTER_OUT_CAPTURE = </span><span class="s3">42</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_POINTER_OVER = </span><span class="s3">43</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_POINTER_OVER_CAPTURE = </span><span class="s3">44</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_BORDER_CURVES = </span><span class="s3">45 </span><span class="s0">// iOS only</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">VP_FG_COLOR = </span><span class="s3">46 </span><span class="s0">// iOS only?</span>

  <span class="s0">// Yoga values</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">YG_BORDER_WIDTH = </span><span class="s3">100</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">YG_OVERFLOW = </span><span class="s3">101</span>

  <span class="s0">// AccessibilityAction values</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">ACCESSIBILITY_ACTION_NAME = </span><span class="s3">0</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">ACCESSIBILITY_ACTION_LABEL = </span><span class="s3">1</span>

  <span class="s0">// AccessibilityState values</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">ACCESSIBILITY_STATE_BUSY = </span><span class="s3">0</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">ACCESSIBILITY_STATE_DISABLED = </span><span class="s3">1</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">ACCESSIBILITY_STATE_EXPANDED = </span><span class="s3">2</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">ACCESSIBILITY_STATE_SELECTED = </span><span class="s3">3</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">ACCESSIBILITY_STATE_CHECKED = </span><span class="s3">4</span>

  <span class="s1">private const </span><span class="s2">val </span><span class="s1">EDGE_TOP = </span><span class="s3">0</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">EDGE_LEFT = </span><span class="s3">1</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">EDGE_RIGHT = </span><span class="s3">2</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">EDGE_BOTTOM = </span><span class="s3">3</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">EDGE_START = </span><span class="s3">4</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">EDGE_END = </span><span class="s3">5</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">EDGE_ALL = </span><span class="s3">6</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">EDGE_BLOCK = </span><span class="s3">7</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">EDGE_BLOCK_END = </span><span class="s3">8</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">EDGE_BLOCK_START = </span><span class="s3">9</span>

  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_TOP_LEFT = </span><span class="s3">0</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_TOP_RIGHT = </span><span class="s3">1</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_BOTTOM_RIGHT = </span><span class="s3">2</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_BOTTOM_LEFT = </span><span class="s3">3</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_TOP_START = </span><span class="s3">4</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_TOP_END = </span><span class="s3">5</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_BOTTOM_END = </span><span class="s3">6</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_BOTTOM_START = </span><span class="s3">7</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_ALL = </span><span class="s3">8</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_END_END = </span><span class="s3">9</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_END_START = </span><span class="s3">10</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_START_END = </span><span class="s3">11</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">CORNER_START_START = </span><span class="s3">12</span>

  <span class="s1">private const </span><span class="s2">val </span><span class="s1">NATIVE_DRAWABLE_KIND = </span><span class="s3">0</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">NATIVE_DRAWABLE_ATTRIBUTE = </span><span class="s3">1</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">NATIVE_DRAWABLE_COLOR = </span><span class="s3">2</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">NATIVE_DRAWABLE_BORDERLESS = </span><span class="s3">3</span>
  <span class="s1">private const </span><span class="s2">val </span><span class="s1">NATIVE_DRAWABLE_RIPPLE_RADIUS = </span><span class="s3">4</span>

  <span class="s1">private const </span><span class="s2">val </span><span class="s1">UNDEF_COLOR = Int.MAX_VALUE</span>

  <span class="s2">fun </span><span class="s1">setProps(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">viewManager: ReactViewManager</span><span class="s2">, </span><span class="s1">props: MapBuffer) {</span>
    <span class="s2">for </span><span class="s1">(entry </span><span class="s2">in </span><span class="s1">props) {</span>
      <span class="s2">when </span><span class="s1">(entry.key) {</span>
        <span class="s1">VP_ACCESSIBILITY_ACTIONS -&gt; {</span>
          <span class="s1">viewManager.accessibilityActions(view</span><span class="s2">, </span><span class="s1">entry.mapBufferValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_ACCESSIBILITY_HINT -&gt; {</span>
          <span class="s1">viewManager.setAccessibilityHint(view</span><span class="s2">, </span><span class="s1">entry.stringValue.takeIf { it.isNotEmpty() })</span>
        <span class="s1">}</span>
        <span class="s1">VP_ACCESSIBILITY_LABEL -&gt; {</span>
          <span class="s1">viewManager.setAccessibilityLabel(view</span><span class="s2">, </span><span class="s1">entry.stringValue.takeIf { it.isNotEmpty() })</span>
        <span class="s1">}</span>
        <span class="s1">VP_ACCESSIBILITY_LABELLED_BY -&gt; {</span>
          <span class="s1">viewManager.accessibilityLabelledBy(view</span><span class="s2">, </span><span class="s1">entry.mapBufferValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_ACCESSIBILITY_LIVE_REGION -&gt; {</span>
          <span class="s1">view.accessibilityLiveRegion(entry.intValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_ACCESSIBILITY_ROLE -&gt; {</span>
          <span class="s1">viewManager.setAccessibilityRole(view</span><span class="s2">, </span><span class="s1">entry.stringValue.takeIf { it.isNotEmpty() })</span>
        <span class="s1">}</span>
        <span class="s1">VP_ACCESSIBILITY_STATE -&gt; {</span>
          <span class="s1">viewManager.accessibilityState(view</span><span class="s2">, </span><span class="s1">entry.mapBufferValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_ACCESSIBILITY_VALUE -&gt; {</span>
          <span class="s1">viewManager.accessibilityValue(view</span><span class="s2">, </span><span class="s1">entry.stringValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_ACCESSIBLE -&gt; {</span>
          <span class="s1">viewManager.setAccessible(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_BACKFACE_VISIBILITY -&gt; {</span>
          <span class="s1">viewManager.backfaceVisibility(view</span><span class="s2">, </span><span class="s1">entry.intValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_BG_COLOR -&gt; {</span>
          <span class="s0">// TODO: color for some reason can be object in Java but not in C++</span>
          <span class="s1">viewManager.backgroundColor(view</span><span class="s2">, </span><span class="s1">entry.intValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_FG_COLOR -&gt; {</span>
          <span class="s0">// Prop not used on Android?</span>
        <span class="s1">}</span>
        <span class="s1">VP_BORDER_COLOR -&gt; {</span>
          <span class="s1">viewManager.borderColor(view</span><span class="s2">, </span><span class="s1">entry.mapBufferValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_BORDER_RADII -&gt; {</span>
          <span class="s1">viewManager.borderRadius(view</span><span class="s2">, </span><span class="s1">entry.mapBufferValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_BORDER_STYLE -&gt; {</span>
          <span class="s2">val </span><span class="s1">styleBuffer = entry.mapBufferValue</span>
          <span class="s2">if </span><span class="s1">(styleBuffer.contains(CORNER_ALL)) {</span>
            <span class="s1">viewManager.borderStyle(view</span><span class="s2">, </span><span class="s1">(styleBuffer.getDouble(CORNER_ALL)).toInt())</span>
          <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s1">VP_ELEVATION -&gt; {</span>
          <span class="s1">viewManager.setElevation(view</span><span class="s2">, </span><span class="s1">entry.doubleValue.toFloat())</span>
        <span class="s1">}</span>
        <span class="s1">VP_FOCUSABLE -&gt; {</span>
          <span class="s1">viewManager.setFocusable(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_HAS_TV_FOCUS -&gt; {</span>
          <span class="s1">viewManager.setTVPreferredFocus(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_HIT_SLOP -&gt; {</span>
          <span class="s1">view.hitSlop(entry.mapBufferValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_IMPORTANT_FOR_ACCESSIBILITY -&gt; {</span>
          <span class="s1">view.importantForAccessibility(entry.intValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_NATIVE_BACKGROUND -&gt; {</span>
          <span class="s1">viewManager.nativeBackground(view</span><span class="s2">, </span><span class="s1">entry.mapBufferValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_NATIVE_FOREGROUND -&gt; {</span>
          <span class="s1">viewManager.nativeForeground(view</span><span class="s2">, </span><span class="s1">entry.mapBufferValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_NATIVE_ID -&gt; {</span>
          <span class="s1">viewManager.setNativeId(view</span><span class="s2">, </span><span class="s1">entry.stringValue.takeIf { it.isNotEmpty() })</span>
        <span class="s1">}</span>
        <span class="s1">VP_OFFSCREEN_ALPHA_COMPOSITING -&gt; {</span>
          <span class="s1">viewManager.setNeedsOffscreenAlphaCompositing(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_OPACITY -&gt; {</span>
          <span class="s1">viewManager.setOpacity(view</span><span class="s2">, </span><span class="s1">entry.doubleValue.toFloat())</span>
        <span class="s1">}</span>
        <span class="s1">VP_POINTER_EVENTS -&gt; {</span>
          <span class="s1">view.pointerEvents(entry.intValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_POINTER_ENTER -&gt; {</span>
          <span class="s1">viewManager.setPointerEnter(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_POINTER_LEAVE -&gt; {</span>
          <span class="s1">viewManager.setPointerLeave(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_POINTER_MOVE -&gt; {</span>
          <span class="s1">viewManager.setPointerMove(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_POINTER_ENTER_CAPTURE -&gt; {</span>
          <span class="s1">viewManager.setPointerEnterCapture(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_POINTER_LEAVE_CAPTURE -&gt; {</span>
          <span class="s1">viewManager.setPointerLeaveCapture(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_POINTER_MOVE_CAPTURE -&gt; {</span>
          <span class="s1">viewManager.setPointerMoveCapture(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_POINTER_OUT -&gt; {</span>
          <span class="s1">viewManager.setPointerOut(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_POINTER_OUT_CAPTURE -&gt; {</span>
          <span class="s1">viewManager.setPointerOutCapture(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_POINTER_OVER -&gt; {</span>
          <span class="s1">viewManager.setPointerOver(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_POINTER_OVER_CAPTURE -&gt; {</span>
          <span class="s1">viewManager.setPointerOverCapture(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_REMOVE_CLIPPED_SUBVIEW -&gt; {</span>
          <span class="s1">viewManager.setRemoveClippedSubviews(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_RENDER_TO_HARDWARE_TEXTURE -&gt; {</span>
          <span class="s1">viewManager.setRenderToHardwareTexture(view</span><span class="s2">, </span><span class="s1">entry.booleanValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_SHADOW_COLOR -&gt; {</span>
          <span class="s0">// TODO: color for some reason can be object in Java but not in C++</span>
          <span class="s1">viewManager.shadowColor(view</span><span class="s2">, </span><span class="s1">entry.intValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_TEST_ID -&gt; {</span>
          <span class="s1">viewManager.setTestId(view</span><span class="s2">, </span><span class="s1">entry.stringValue.takeIf { it.isNotEmpty() })</span>
        <span class="s1">}</span>
        <span class="s1">VP_TRANSFORM -&gt; {</span>
          <span class="s1">viewManager.transform(view</span><span class="s2">, </span><span class="s1">entry.mapBufferValue)</span>
        <span class="s1">}</span>
        <span class="s1">VP_ZINDEX -&gt; {</span>
          <span class="s1">viewManager.setZIndex(view</span><span class="s2">, </span><span class="s1">entry.intValue.toFloat())</span>
        <span class="s1">}</span>
        <span class="s1">YG_BORDER_WIDTH -&gt; {</span>
          <span class="s1">viewManager.borderWidth(view</span><span class="s2">, </span><span class="s1">entry.mapBufferValue)</span>
        <span class="s1">}</span>
        <span class="s1">YG_OVERFLOW -&gt; {</span>
          <span class="s1">viewManager.overflow(view</span><span class="s2">, </span><span class="s1">entry.intValue)</span>
        <span class="s1">}</span>
      <span class="s1">}</span>
    <span class="s1">}</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.accessibilityActions(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">mapBuffer: MapBuffer) {</span>
    <span class="s2">val </span><span class="s1">actions = mutableListOf&lt;ReadableMap&gt;()</span>
    <span class="s2">for </span><span class="s1">(entry </span><span class="s2">in </span><span class="s1">mapBuffer) {</span>
      <span class="s2">val </span><span class="s1">map = JavaOnlyMap()</span>
      <span class="s2">val </span><span class="s1">action = entry.mapBufferValue</span>
      <span class="s1">map.putString(</span><span class="s4">&quot;name&quot;</span><span class="s2">, </span><span class="s1">action.getString(ACCESSIBILITY_ACTION_NAME))</span>
      <span class="s2">if </span><span class="s1">(action.contains(ACCESSIBILITY_ACTION_LABEL)) {</span>
        <span class="s1">map.putString(</span><span class="s4">&quot;label&quot;</span><span class="s2">, </span><span class="s1">action.getString(ACCESSIBILITY_ACTION_LABEL))</span>
      <span class="s1">}</span>
      <span class="s1">actions.add(map)</span>
    <span class="s1">}</span>

    <span class="s1">setAccessibilityActions(view</span><span class="s2">, </span><span class="s1">JavaOnlyArray.from(actions))</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewGroup.accessibilityLiveRegion(value: Int) {</span>
    <span class="s2">val </span><span class="s1">mode =</span>
        <span class="s2">when </span><span class="s1">(value) {</span>
          <span class="s3">0 </span><span class="s1">-&gt; ViewCompat.ACCESSIBILITY_LIVE_REGION_NONE</span>
          <span class="s3">1 </span><span class="s1">-&gt; ViewCompat.ACCESSIBILITY_LIVE_REGION_POLITE</span>
          <span class="s3">2 </span><span class="s1">-&gt; ViewCompat.ACCESSIBILITY_LIVE_REGION_ASSERTIVE</span>
          <span class="s2">else </span><span class="s1">-&gt; ViewCompat.ACCESSIBILITY_LIVE_REGION_NONE</span>
        <span class="s1">}</span>
    <span class="s1">ViewCompat.setAccessibilityLiveRegion(</span><span class="s2">this, </span><span class="s1">mode)</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.accessibilityState(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: MapBuffer) {</span>
    <span class="s2">val </span><span class="s1">accessibilityState = JavaOnlyMap()</span>
    <span class="s1">accessibilityState.putBoolean(</span><span class="s4">&quot;selected&quot;</span><span class="s2">, </span><span class="s1">value.getBoolean(ACCESSIBILITY_STATE_SELECTED))</span>
    <span class="s1">accessibilityState.putBoolean(</span><span class="s4">&quot;busy&quot;</span><span class="s2">, </span><span class="s1">value.getBoolean(ACCESSIBILITY_STATE_BUSY))</span>
    <span class="s1">accessibilityState.putBoolean(</span><span class="s4">&quot;expanded&quot;</span><span class="s2">, </span><span class="s1">value.getBoolean(ACCESSIBILITY_STATE_EXPANDED))</span>
    <span class="s1">accessibilityState.putBoolean(</span><span class="s4">&quot;disabled&quot;</span><span class="s2">, </span><span class="s1">value.getBoolean(ACCESSIBILITY_STATE_DISABLED))</span>

    <span class="s2">when </span><span class="s1">(value.getInt(ACCESSIBILITY_STATE_CHECKED)) {</span>
      <span class="s0">// Unchecked</span>
      <span class="s3">0 </span><span class="s1">-&gt; accessibilityState.putBoolean(</span><span class="s4">&quot;checked&quot;</span><span class="s2">, false</span><span class="s1">)</span>
      <span class="s0">// Checked</span>
      <span class="s3">1 </span><span class="s1">-&gt; accessibilityState.putBoolean(</span><span class="s4">&quot;checked&quot;</span><span class="s2">, true</span><span class="s1">)</span>
      <span class="s0">// Mixed</span>
      <span class="s3">2 </span><span class="s1">-&gt; accessibilityState.putString(</span><span class="s4">&quot;checked&quot;</span><span class="s2">, </span><span class="s4">&quot;mixed&quot;</span><span class="s1">)</span>
    <span class="s0">// 3 -&gt; None</span>
    <span class="s1">}</span>

    <span class="s1">setViewState(view</span><span class="s2">, </span><span class="s1">accessibilityState)</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.accessibilityValue(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: String) {</span>
    <span class="s2">val </span><span class="s1">map = JavaOnlyMap()</span>
    <span class="s2">if </span><span class="s1">(value.isNotEmpty()) {</span>
      <span class="s1">map.putString(</span><span class="s4">&quot;text&quot;</span><span class="s2">, </span><span class="s1">value)</span>
    <span class="s1">}</span>
    <span class="s1">setAccessibilityValue(view</span><span class="s2">, </span><span class="s1">map)</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.accessibilityLabelledBy(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: MapBuffer) {</span>
    <span class="s2">val </span><span class="s1">converted =</span>
        <span class="s2">if </span><span class="s1">(value.count == </span><span class="s3">0</span><span class="s1">) {</span>
          <span class="s1">DynamicFromObject(</span><span class="s2">null</span><span class="s1">)</span>
        <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
          <span class="s2">val </span><span class="s1">array = JavaOnlyArray()</span>
          <span class="s2">for </span><span class="s1">(label </span><span class="s2">in </span><span class="s1">value) {</span>
            <span class="s1">array.pushString(label.stringValue)</span>
          <span class="s1">}</span>
          <span class="s1">DynamicFromObject(array)</span>
        <span class="s1">}</span>

    <span class="s1">setAccessibilityLabelledBy(view</span><span class="s2">, </span><span class="s1">converted)</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.backfaceVisibility(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: Int) {</span>
    <span class="s2">val </span><span class="s1">stringName =</span>
        <span class="s2">when </span><span class="s1">(value) {</span>
          <span class="s3">1 </span><span class="s1">-&gt; </span><span class="s4">&quot;visible&quot;</span>
          <span class="s3">2 </span><span class="s1">-&gt; </span><span class="s4">&quot;hidden&quot;</span>
          <span class="s2">else </span><span class="s1">-&gt; </span><span class="s4">&quot;auto&quot;</span>
        <span class="s1">}</span>
    <span class="s1">setBackfaceVisibility(view</span><span class="s2">, </span><span class="s1">stringName)</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.backgroundColor(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: Int) {</span>
    <span class="s2">val </span><span class="s1">color = value.takeIf { it != UNDEF_COLOR } ?: Color.TRANSPARENT</span>
    <span class="s1">setBackgroundColor(view</span><span class="s2">, </span><span class="s1">color)</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.borderColor(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: MapBuffer) {</span>
    <span class="s2">for </span><span class="s1">(entry </span><span class="s2">in </span><span class="s1">value) {</span>
      <span class="s2">val </span><span class="s1">index =</span>
          <span class="s2">when </span><span class="s1">(</span><span class="s2">val </span><span class="s1">key = entry.key) {</span>
            <span class="s1">EDGE_ALL -&gt; </span><span class="s3">0</span>
            <span class="s1">EDGE_LEFT -&gt; </span><span class="s3">1</span>
            <span class="s1">EDGE_RIGHT -&gt; </span><span class="s3">2</span>
            <span class="s1">EDGE_TOP -&gt; </span><span class="s3">3</span>
            <span class="s1">EDGE_BOTTOM -&gt; </span><span class="s3">4</span>
            <span class="s1">EDGE_START -&gt; </span><span class="s3">5</span>
            <span class="s1">EDGE_END -&gt; </span><span class="s3">6</span>
            <span class="s1">EDGE_BLOCK -&gt; </span><span class="s3">7</span>
            <span class="s1">EDGE_BLOCK_END -&gt; </span><span class="s3">8</span>
            <span class="s1">EDGE_BLOCK_START -&gt; </span><span class="s3">9</span>
            <span class="s2">else </span><span class="s1">-&gt; </span><span class="s2">throw </span><span class="s1">IllegalArgumentException(</span><span class="s4">&quot;Unknown key for border color: </span><span class="s2">$</span><span class="s1">key</span><span class="s4">&quot;</span><span class="s1">)</span>
          <span class="s1">}</span>
      <span class="s2">val </span><span class="s1">colorValue = entry.intValue</span>
      <span class="s1">setBorderColor(view</span><span class="s2">, </span><span class="s1">index</span><span class="s2">, </span><span class="s1">colorValue.takeIf { it != -</span><span class="s3">1 </span><span class="s1">})</span>
    <span class="s1">}</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.borderRadius(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: MapBuffer) {</span>
    <span class="s2">for </span><span class="s1">(entry </span><span class="s2">in </span><span class="s1">value) {</span>
      <span class="s2">val </span><span class="s1">index =</span>
          <span class="s2">when </span><span class="s1">(</span><span class="s2">val </span><span class="s1">key = entry.key) {</span>
            <span class="s1">CORNER_ALL -&gt; </span><span class="s3">0</span>
            <span class="s1">CORNER_TOP_LEFT -&gt; </span><span class="s3">1</span>
            <span class="s1">CORNER_TOP_RIGHT -&gt; </span><span class="s3">2</span>
            <span class="s1">CORNER_BOTTOM_RIGHT -&gt; </span><span class="s3">3</span>
            <span class="s1">CORNER_BOTTOM_LEFT -&gt; </span><span class="s3">4</span>
            <span class="s1">CORNER_TOP_START -&gt; </span><span class="s3">5</span>
            <span class="s1">CORNER_TOP_END -&gt; </span><span class="s3">6</span>
            <span class="s1">CORNER_BOTTOM_START -&gt; </span><span class="s3">7</span>
            <span class="s1">CORNER_BOTTOM_END -&gt; </span><span class="s3">8</span>
            <span class="s1">CORNER_END_END -&gt; </span><span class="s3">9</span>
            <span class="s1">CORNER_END_START -&gt; </span><span class="s3">10</span>
            <span class="s1">CORNER_START_END -&gt; </span><span class="s3">11</span>
            <span class="s1">CORNER_START_START -&gt; </span><span class="s3">12</span>
            <span class="s2">else </span><span class="s1">-&gt; </span><span class="s2">throw </span><span class="s1">IllegalArgumentException(</span><span class="s4">&quot;Unknown key for border style: </span><span class="s2">$</span><span class="s1">key</span><span class="s4">&quot;</span><span class="s1">)</span>
          <span class="s1">}</span>
      <span class="s2">val </span><span class="s1">borderRadius = entry.doubleValue</span>
      <span class="s2">if </span><span class="s1">(!borderRadius.isNaN()) {</span>
        <span class="s1">setBorderRadius(view</span><span class="s2">, </span><span class="s1">index</span><span class="s2">, </span><span class="s1">borderRadius.toFloat())</span>
      <span class="s1">}</span>
    <span class="s1">}</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.borderStyle(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: Int) {</span>
    <span class="s2">val </span><span class="s1">stringValue =</span>
        <span class="s2">when </span><span class="s1">(value) {</span>
          <span class="s3">0 </span><span class="s1">-&gt; </span><span class="s4">&quot;solid&quot;</span>
          <span class="s3">1 </span><span class="s1">-&gt; </span><span class="s4">&quot;dotted&quot;</span>
          <span class="s3">2 </span><span class="s1">-&gt; </span><span class="s4">&quot;dashed&quot;</span>
          <span class="s2">else </span><span class="s1">-&gt; </span><span class="s2">null</span>
        <span class="s1">}</span>
    <span class="s1">setBorderStyle(view</span><span class="s2">, </span><span class="s1">stringValue)</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewGroup.hitSlop(value: MapBuffer) {</span>
    <span class="s2">val </span><span class="s1">rect =</span>
        <span class="s1">Rect(</span>
            <span class="s1">PixelUtil.toPixelFromDIP(value.getDouble(EDGE_LEFT)).toInt()</span><span class="s2">,</span>
            <span class="s1">PixelUtil.toPixelFromDIP(value.getDouble(EDGE_TOP)).toInt()</span><span class="s2">,</span>
            <span class="s1">PixelUtil.toPixelFromDIP(value.getDouble(EDGE_RIGHT)).toInt()</span><span class="s2">,</span>
            <span class="s1">PixelUtil.toPixelFromDIP(value.getDouble(EDGE_BOTTOM)).toInt()</span><span class="s2">,</span>
        <span class="s1">)</span>
    <span class="s1">hitSlopRect = rect</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewGroup.importantForAccessibility(value: Int) {</span>
    <span class="s2">val </span><span class="s1">mode =</span>
        <span class="s2">when </span><span class="s1">(value) {</span>
          <span class="s3">0 </span><span class="s1">-&gt; ViewCompat.IMPORTANT_FOR_ACCESSIBILITY_AUTO</span>
          <span class="s3">1 </span><span class="s1">-&gt; ViewCompat.IMPORTANT_FOR_ACCESSIBILITY_YES</span>
          <span class="s3">2 </span><span class="s1">-&gt; ViewCompat.IMPORTANT_FOR_ACCESSIBILITY_NO</span>
          <span class="s3">3 </span><span class="s1">-&gt; ViewCompat.IMPORTANT_FOR_ACCESSIBILITY_NO_HIDE_DESCENDANTS</span>
          <span class="s2">else </span><span class="s1">-&gt; ViewCompat.IMPORTANT_FOR_ACCESSIBILITY_AUTO</span>
        <span class="s1">}</span>
    <span class="s1">ViewCompat.setImportantForAccessibility(</span><span class="s2">this, </span><span class="s1">mode)</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewGroup.pointerEvents(value: Int) {</span>
    <span class="s2">val </span><span class="s1">pointerEvents =</span>
        <span class="s2">when </span><span class="s1">(value) {</span>
          <span class="s3">0 </span><span class="s1">-&gt; PointerEvents.AUTO</span>
          <span class="s3">1 </span><span class="s1">-&gt; PointerEvents.NONE</span>
          <span class="s3">2 </span><span class="s1">-&gt; PointerEvents.BOX_NONE</span>
          <span class="s3">3 </span><span class="s1">-&gt; PointerEvents.BOX_ONLY</span>
          <span class="s2">else </span><span class="s1">-&gt; </span><span class="s2">throw </span><span class="s1">IllegalArgumentException(</span><span class="s4">&quot;Unknown value for pointer events: </span><span class="s2">$</span><span class="s1">value</span><span class="s4">&quot;</span><span class="s1">)</span>
        <span class="s1">}</span>
    <span class="s1">setPointerEvents(pointerEvents)</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.transform(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: MapBuffer) {</span>
    <span class="s2">val </span><span class="s1">list = JavaOnlyArray()</span>
    <span class="s2">for </span><span class="s1">(entry </span><span class="s2">in </span><span class="s1">value) {</span>
      <span class="s1">list.pushDouble(entry.doubleValue)</span>
    <span class="s1">}</span>
    <span class="s1">setTransform(view</span><span class="s2">, </span><span class="s1">list)</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.borderWidth(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: MapBuffer) {</span>
    <span class="s2">for </span><span class="s1">(entry </span><span class="s2">in </span><span class="s1">value) {</span>
      <span class="s2">val </span><span class="s1">index =</span>
          <span class="s2">when </span><span class="s1">(</span><span class="s2">val </span><span class="s1">key = entry.key) {</span>
            <span class="s1">EDGE_ALL -&gt; </span><span class="s3">0</span>
            <span class="s1">EDGE_LEFT -&gt; </span><span class="s3">1</span>
            <span class="s1">EDGE_RIGHT -&gt; </span><span class="s3">2</span>
            <span class="s1">EDGE_TOP -&gt; </span><span class="s3">3</span>
            <span class="s1">EDGE_BOTTOM -&gt; </span><span class="s3">4</span>
            <span class="s1">EDGE_START -&gt; </span><span class="s3">5</span>
            <span class="s1">EDGE_END -&gt; </span><span class="s3">6</span>
            <span class="s2">else </span><span class="s1">-&gt; </span><span class="s2">throw </span><span class="s1">IllegalArgumentException(</span><span class="s4">&quot;Unknown key for border width: </span><span class="s2">$</span><span class="s1">key</span><span class="s4">&quot;</span><span class="s1">)</span>
          <span class="s1">}</span>
      <span class="s2">val </span><span class="s1">borderWidth = entry.doubleValue</span>
      <span class="s2">if </span><span class="s1">(!borderWidth.isNaN()) {</span>
        <span class="s1">setBorderWidth(view</span><span class="s2">, </span><span class="s1">index</span><span class="s2">, </span><span class="s1">borderWidth.toFloat())</span>
      <span class="s1">}</span>
    <span class="s1">}</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.overflow(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: Int) {</span>
    <span class="s2">val </span><span class="s1">stringValue =</span>
        <span class="s2">when </span><span class="s1">(value) {</span>
          <span class="s3">0 </span><span class="s1">-&gt; </span><span class="s4">&quot;visible&quot;</span>
          <span class="s3">1 </span><span class="s1">-&gt; </span><span class="s4">&quot;hidden&quot;</span>
          <span class="s3">2 </span><span class="s1">-&gt; </span><span class="s4">&quot;scroll&quot;</span>
          <span class="s2">else </span><span class="s1">-&gt; </span><span class="s2">throw </span><span class="s1">IllegalArgumentException(</span><span class="s4">&quot;Unknown overflow value: </span><span class="s2">$</span><span class="s1">value</span><span class="s4">&quot;</span><span class="s1">)</span>
        <span class="s1">}</span>

    <span class="s1">setOverflow(view</span><span class="s2">, </span><span class="s1">stringValue)</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.shadowColor(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: Int) {</span>
    <span class="s2">val </span><span class="s1">color = value.takeIf { it != UNDEF_COLOR } ?: Color.BLACK</span>
    <span class="s1">setShadowColor(view</span><span class="s2">, </span><span class="s1">color)</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.nativeBackground(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: MapBuffer) {</span>
    <span class="s1">setNativeBackground(view</span><span class="s2">, </span><span class="s1">value.toJsDrawableDescription())</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">ReactViewManager.nativeForeground(view: ReactViewGroup</span><span class="s2">, </span><span class="s1">value: MapBuffer) {</span>
    <span class="s1">setNativeForeground(view</span><span class="s2">, </span><span class="s1">value.toJsDrawableDescription())</span>
  <span class="s1">}</span>

  <span class="s1">private </span><span class="s2">fun </span><span class="s1">MapBuffer.toJsDrawableDescription(): ReadableMap? {</span>
    <span class="s2">if </span><span class="s1">(count == </span><span class="s3">0</span><span class="s1">) {</span>
      <span class="s2">return null</span>
    <span class="s1">}</span>

    <span class="s2">val </span><span class="s1">kind = getInt(NATIVE_DRAWABLE_KIND)</span>
    <span class="s2">val </span><span class="s1">result = JavaOnlyMap()</span>
    <span class="s2">when </span><span class="s1">(kind) {</span>
      <span class="s3">0 </span><span class="s1">-&gt; {</span>
        <span class="s1">result.putString(</span><span class="s4">&quot;type&quot;</span><span class="s2">, </span><span class="s4">&quot;ThemeAttrAndroid&quot;</span><span class="s1">)</span>
        <span class="s1">result.putString(</span><span class="s4">&quot;attribute&quot;</span><span class="s2">, </span><span class="s1">getString(NATIVE_DRAWABLE_ATTRIBUTE))</span>
      <span class="s1">}</span>
      <span class="s3">1 </span><span class="s1">-&gt; {</span>
        <span class="s1">result.putString(</span><span class="s4">&quot;type&quot;</span><span class="s2">, </span><span class="s4">&quot;RippleAndroid&quot;</span><span class="s1">)</span>
        <span class="s2">if </span><span class="s1">(contains(NATIVE_DRAWABLE_COLOR)) {</span>
          <span class="s1">result.putInt(</span><span class="s4">&quot;color&quot;</span><span class="s2">, </span><span class="s1">getInt(NATIVE_DRAWABLE_COLOR))</span>
        <span class="s1">}</span>
        <span class="s1">result.putBoolean(</span><span class="s4">&quot;borderless&quot;</span><span class="s2">, </span><span class="s1">getBoolean(NATIVE_DRAWABLE_BORDERLESS))</span>
        <span class="s2">if </span><span class="s1">(contains(NATIVE_DRAWABLE_RIPPLE_RADIUS)) {</span>
          <span class="s1">result.putDouble(</span><span class="s4">&quot;rippleRadius&quot;</span><span class="s2">, </span><span class="s1">getDouble(NATIVE_DRAWABLE_RIPPLE_RADIUS))</span>
        <span class="s1">}</span>
      <span class="s1">}</span>
      <span class="s2">else </span><span class="s1">-&gt; </span><span class="s2">throw </span><span class="s1">IllegalArgumentException(</span><span class="s4">&quot;Unknown native drawable: </span><span class="s2">$</span><span class="s1">kind</span><span class="s4">&quot;</span><span class="s1">)</span>
    <span class="s1">}</span>
    <span class="s2">return </span><span class="s1">result</span>
  <span class="s1">}</span>
<span class="s1">}</span>
</pre>
</body>
</html>