<html>
<head>
<title>worker-client.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #6897bb; font-style: italic;}
.s3 { color: #cc7832; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
worker-client.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;ACTIONS&quot;</span><span class="s0">,</span><span class="s1">&quot;GET_DEFAULT_EXTENSIONS&quot;</span><span class="s0">,</span><span class="s1">&quot;SET_OPTIONS&quot;</span><span class="s0">,</span><span class="s1">&quot;TRANSFORM&quot;</span><span class="s0">,</span><span class="s1">&quot;TRANSFORM_SYNC&quot;</span><span class="s0">,</span><span class="s1">&quot;_send&quot;</span><span class="s0">,</span><span class="s1">&quot;WeakMap&quot;</span><span class="s0">,</span><span class="s1">&quot;_eCache&quot;</span><span class="s0">,</span><span class="s1">&quot;Client&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;send&quot;</span><span class="s0">,</span><span class="s1">&quot;_classPrivateFieldInitSpec&quot;</span><span class="s0">,</span><span class="s1">&quot;writable&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;_classPrivateFieldSet&quot;</span><span class="s0">,</span><span class="s1">&quot;getDefaultExtensions&quot;</span><span class="s0">,</span><span class="s1">&quot;_classPrivateFieldGet2&quot;</span><span class="s0">,</span><span class="s1">&quot;_classPrivateFieldGet&quot;</span><span class="s0">,</span><span class="s1">&quot;call&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;setOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;transform&quot;</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">,</span><span class="s1">&quot;filename&quot;</span><span class="s0">,</span><span class="s1">&quot;exports&quot;</span><span class="s0">,</span><span class="s1">&quot;WorkerClient&quot;</span><span class="s0">,</span><span class="s1">&quot;_worker&quot;</span><span class="s0">,</span><span class="s1">&quot;_signal&quot;</span><span class="s0">,</span><span class="s1">&quot;_class&quot;</span><span class="s0">,</span><span class="s1">&quot;action&quot;</span><span class="s0">,</span><span class="s1">&quot;payload&quot;</span><span class="s0">,</span><span class="s1">&quot;subChannel&quot;</span><span class="s0">,</span><span class="s1">&quot;_classStaticPrivateFieldSpecGet&quot;</span><span class="s0">,</span><span class="s1">&quot;_worker_threads&quot;</span><span class="s0">,</span><span class="s1">&quot;MessageChannel&quot;</span><span class="s0">,</span><span class="s1">&quot;postMessage&quot;</span><span class="s0">,</span><span class="s1">&quot;signal&quot;</span><span class="s0">,</span><span class="s1">&quot;port&quot;</span><span class="s0">,</span><span class="s1">&quot;port1&quot;</span><span class="s0">,</span><span class="s1">&quot;Atomics&quot;</span><span class="s0">,</span><span class="s1">&quot;wait&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;receiveMessageOnPort&quot;</span><span class="s0">,</span><span class="s1">&quot;port2&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;assign&quot;</span><span class="s0">,</span><span class="s1">&quot;errorData&quot;</span><span class="s0">,</span><span class="s1">&quot;result&quot;</span><span class="s0">,</span><span class="s1">&quot;Worker&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;__dirname&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;_markInRegisterWorker&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;Int32Array&quot;</span><span class="s0">,</span><span class="s1">&quot;SharedArrayBuffer&quot;</span><span class="s0">,</span><span class="s1">&quot;unref&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;_get_markInRegisterWorker&quot;</span><span class="s0">,</span><span class="s1">&quot;set&quot;</span><span class="s0">,</span><span class="s1">&quot;_get_worker_threads&quot;</span><span class="s0">,</span><span class="s1">&quot;markInRegisterWorker&quot;</span><span class="s0">,</span><span class="s1">&quot;_class2&quot;</span><span class="s0">,</span><span class="s1">&quot;_handleMessage&quot;</span><span class="s0">,</span><span class="s1">&quot;LocalClient&quot;</span><span class="s0">,</span><span class="s1">&quot;_classStaticPrivateFi&quot;</span><span class="s0">,</span><span class="s1">&quot;_classStaticPrivateFieldSpecSet&quot;</span><span class="s0">,</span><span class="s1">&quot;isLocalClient&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../src/worker-client.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;const path = require(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">const ACTIONS = {</span><span class="s3">\n  </span><span class="s1">GET_DEFAULT_EXTENSIONS: </span><span class="s3">\&quot;</span><span class="s1">GET_DEFAULT_EXTENSIONS</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">SET_OPTIONS: </span><span class="s3">\&quot;</span><span class="s1">SET_OPTIONS</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">TRANSFORM: </span><span class="s3">\&quot;</span><span class="s1">TRANSFORM</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">TRANSFORM_SYNC: </span><span class="s3">\&quot;</span><span class="s1">TRANSFORM_SYNC</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">class Client {</span><span class="s3">\n  </span><span class="s1">#send;</span><span class="s3">\n\n  </span><span class="s1">constructor(send) {</span><span class="s3">\n    </span><span class="s1">this.#send = send;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">#eCache;</span><span class="s3">\n  </span><span class="s1">/** @return {string[]} */</span><span class="s3">\n  </span><span class="s1">getDefaultExtensions() {</span><span class="s3">\n    </span><span class="s1">return (this.#eCache ??= this.#send(</span><span class="s3">\n      </span><span class="s1">ACTIONS.GET_DEFAULT_EXTENSIONS,</span><span class="s3">\n      </span><span class="s1">undefined,</span><span class="s3">\n    </span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @param {object} options</span><span class="s3">\n   </span><span class="s1">* @return {void}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">setOptions(options) {</span><span class="s3">\n    </span><span class="s1">return this.#send(ACTIONS.SET_OPTIONS, options);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @param {string} code</span><span class="s3">\n   </span><span class="s1">* @param {string} filename</span><span class="s3">\n   </span><span class="s1">* @return {{ code: string, map: object } | null}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">transform(code, filename) {</span><span class="s3">\n    </span><span class="s1">return this.#send(ACTIONS.TRANSFORM, { code, filename });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// We need to run Babel in a worker because require hooks must</span><span class="s3">\n</span><span class="s1">// run synchronously, but many steps of Babel's config loading</span><span class="s3">\n</span><span class="s1">// (which is done for each file) can be asynchronous</span><span class="s3">\n</span><span class="s1">exports.WorkerClient = class WorkerClient extends Client {</span><span class="s3">\n  </span><span class="s1">// These two require() calls are in deferred so that they are not imported in</span><span class="s3">\n  </span><span class="s1">// older Node.js versions (which don't support workers).</span><span class="s3">\n  </span><span class="s1">// TODO: Hoist them in Babel 8.</span><span class="s3">\n\n  </span><span class="s1">/** @type {typeof import(</span><span class="s3">\&quot;</span><span class="s1">worker_threads</span><span class="s3">\&quot;</span><span class="s1">)} */</span><span class="s3">\n  </span><span class="s1">static get #worker_threads() {</span><span class="s3">\n    </span><span class="s1">return require(</span><span class="s3">\&quot;</span><span class="s1">worker_threads</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">static get #markInRegisterWorker() {</span><span class="s3">\n    </span><span class="s1">return require(</span><span class="s3">\&quot;</span><span class="s1">./is-in-register-worker</span><span class="s3">\&quot;</span><span class="s1">).markInRegisterWorker;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">#worker = new WorkerClient.#worker_threads.Worker(</span><span class="s3">\n    </span><span class="s1">path.resolve(__dirname, </span><span class="s3">\&quot;</span><span class="s1">./worker/index.js</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">{ env: WorkerClient.#markInRegisterWorker(process.env) },</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n\n  </span><span class="s1">#signal = new Int32Array(new SharedArrayBuffer(4));</span><span class="s3">\n\n  </span><span class="s1">constructor() {</span><span class="s3">\n    </span><span class="s1">super((action, payload) =&gt; {</span><span class="s3">\n      </span><span class="s1">this.#signal[0] = 0;</span><span class="s3">\n      </span><span class="s1">const subChannel = new WorkerClient.#worker_threads.MessageChannel();</span><span class="s3">\n\n      </span><span class="s1">this.#worker.postMessage(</span><span class="s3">\n        </span><span class="s1">{ signal: this.#signal, port: subChannel.port1, action, payload },</span><span class="s3">\n        </span><span class="s1">[subChannel.port1],</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">Atomics.wait(this.#signal, 0, 0);</span><span class="s3">\n      </span><span class="s1">const { message } = WorkerClient.#worker_threads.receiveMessageOnPort(</span><span class="s3">\n        </span><span class="s1">subChannel.port2,</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">if (message.error) throw Object.assign(message.error, message.errorData);</span><span class="s3">\n      </span><span class="s1">else return message.result;</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">// The worker will never exit by itself. Prevent it from keeping</span><span class="s3">\n    </span><span class="s1">// the main process alive.</span><span class="s3">\n    </span><span class="s1">this.#worker.unref();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">if (!process.env.BABEL_8_BREAKING) {</span><span class="s3">\n  </span><span class="s1">exports.LocalClient = class LocalClient extends Client {</span><span class="s3">\n    </span><span class="s1">isLocalClient = true;</span><span class="s3">\n\n    </span><span class="s1">static #handleMessage;</span><span class="s3">\n\n    </span><span class="s1">constructor() {</span><span class="s3">\n      </span><span class="s1">LocalClient.#handleMessage ??= require(</span><span class="s3">\&quot;</span><span class="s1">./worker/handle-message</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">super((action, payload) =&gt; {</span><span class="s3">\n        </span><span class="s1">return LocalClient.#handleMessage(</span><span class="s3">\n          </span><span class="s1">action === ACTIONS.TRANSFORM ? ACTIONS.TRANSFORM_SYNC : action,</span><span class="s3">\n          </span><span class="s1">payload,</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">}</span></pre>
</body>
</html>