<html>
<head>
<title>runServer.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #6897bb; font-style: italic;}
.s3 { color: #cc7832; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
runServer.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;runServer&quot;</span><span class="s0">,</span><span class="s1">&quot;_argv&quot;</span><span class="s0">,</span><span class="s1">&quot;ctx&quot;</span><span class="s0">,</span><span class="s1">&quot;args&quot;</span><span class="s0">,</span><span class="s1">&quot;reportEvent&quot;</span><span class="s0">,</span><span class="s1">&quot;terminal&quot;</span><span class="s0">,</span><span class="s1">&quot;Terminal&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;stdout&quot;</span><span class="s0">,</span><span class="s1">&quot;ReporterImpl&quot;</span><span class="s0">,</span><span class="s1">&quot;getReporterImpl&quot;</span><span class="s0">,</span><span class="s1">&quot;customLogReporterPath&quot;</span><span class="s0">,</span><span class="s1">&quot;terminalReporter&quot;</span><span class="s0">,</span><span class="s1">&quot;reporter&quot;</span><span class="s0">,</span><span class="s1">&quot;update&quot;</span><span class="s0">,</span><span class="s1">&quot;event&quot;</span><span class="s0">,</span><span class="s1">&quot;metroConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;loadMetroConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;config&quot;</span><span class="s0">,</span><span class="s1">&quot;maxWorkers&quot;</span><span class="s0">,</span><span class="s1">&quot;port&quot;</span><span class="s0">,</span><span class="s1">&quot;resetCache&quot;</span><span class="s0">,</span><span class="s1">&quot;watchFolders&quot;</span><span class="s0">,</span><span class="s1">&quot;projectRoot&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceExts&quot;</span><span class="s0">,</span><span class="s1">&quot;assetPlugins&quot;</span><span class="s0">,</span><span class="s1">&quot;transformer&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;plugin&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;middleware&quot;</span><span class="s0">,</span><span class="s1">&quot;websocketEndpoints&quot;</span><span class="s0">,</span><span class="s1">&quot;messageSocketEndpoint&quot;</span><span class="s0">,</span><span class="s1">&quot;eventsSocketEndpoint&quot;</span><span class="s0">,</span><span class="s1">&quot;createDevServerMiddleware&quot;</span><span class="s0">,</span><span class="s1">&quot;host&quot;</span><span class="s0">,</span><span class="s1">&quot;server&quot;</span><span class="s0">,</span><span class="s1">&quot;use&quot;</span><span class="s0">,</span><span class="s1">&quot;indexPageMiddleware&quot;</span><span class="s0">,</span><span class="s1">&quot;customEnhanceMiddleware&quot;</span><span class="s0">,</span><span class="s1">&quot;enhanceMiddleware&quot;</span><span class="s0">,</span><span class="s1">&quot;metroMiddleware&quot;</span><span class="s0">,</span><span class="s1">&quot;serverInstance&quot;</span><span class="s0">,</span><span class="s1">&quot;Metro&quot;</span><span class="s0">,</span><span class="s1">&quot;secure&quot;</span><span class="s0">,</span><span class="s1">&quot;https&quot;</span><span class="s0">,</span><span class="s1">&quot;secureCert&quot;</span><span class="s0">,</span><span class="s1">&quot;cert&quot;</span><span class="s0">,</span><span class="s1">&quot;secureKey&quot;</span><span class="s0">,</span><span class="s1">&quot;key&quot;</span><span class="s0">,</span><span class="s1">&quot;interactive&quot;</span><span class="s0">,</span><span class="s1">&quot;enableWatchMode&quot;</span><span class="s0">,</span><span class="s1">&quot;keepAliveTimeout&quot;</span><span class="s0">,</span><span class="s1">&quot;version&quot;</span><span class="s0">,</span><span class="s1">&quot;logIfUpdateAvailable&quot;</span><span class="s0">,</span><span class="s1">&quot;root&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;e&quot;</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/commands/start/runServer.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Copyright (c) Facebook, Inc. and its affiliates.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* This source code is licensed under the MIT license found in the</span><span class="s3">\n </span><span class="s1">* LICENSE file in the root directory of this source tree.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">// @ts-ignore untyped metro</span><span class="s3">\n</span><span class="s1">import Metro from 'metro';</span><span class="s3">\n</span><span class="s1">import type Server from 'metro/src/Server';</span><span class="s3">\n</span><span class="s1">import type {Middleware} from 'metro-config';</span><span class="s3">\n</span><span class="s1">import {Terminal} from 'metro-core';</span><span class="s3">\n</span><span class="s1">import path from 'path';</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">createDevServerMiddleware,</span><span class="s3">\n  </span><span class="s1">indexPageMiddleware,</span><span class="s3">\n</span><span class="s1">} from '@react-native-community/cli-server-api';</span><span class="s3">\n</span><span class="s1">import {Config} from '@react-native-community/cli-types';</span><span class="s3">\n\n</span><span class="s1">import loadMetroConfig from '../../tools/loadMetroConfig';</span><span class="s3">\n</span><span class="s1">import {version} from '@react-native-community/cli-tools';</span><span class="s3">\n</span><span class="s1">import enableWatchMode from './watchMode';</span><span class="s3">\n\n</span><span class="s1">export type Args = {</span><span class="s3">\n  </span><span class="s1">assetPlugins?: string[];</span><span class="s3">\n  </span><span class="s1">cert?: string;</span><span class="s3">\n  </span><span class="s1">customLogReporterPath?: string;</span><span class="s3">\n  </span><span class="s1">host?: string;</span><span class="s3">\n  </span><span class="s1">https?: boolean;</span><span class="s3">\n  </span><span class="s1">maxWorkers?: number;</span><span class="s3">\n  </span><span class="s1">key?: string;</span><span class="s3">\n  </span><span class="s1">platforms?: string[];</span><span class="s3">\n  </span><span class="s1">port?: number;</span><span class="s3">\n  </span><span class="s1">resetCache?: boolean;</span><span class="s3">\n  </span><span class="s1">sourceExts?: string[];</span><span class="s3">\n  </span><span class="s1">transformer?: string;</span><span class="s3">\n  </span><span class="s1">watchFolders?: string[];</span><span class="s3">\n  </span><span class="s1">config?: string;</span><span class="s3">\n  </span><span class="s1">projectRoot?: string;</span><span class="s3">\n  </span><span class="s1">interactive: boolean;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">async function runServer(_argv: Array&lt;string&gt;, ctx: Config, args: Args) {</span><span class="s3">\n  </span><span class="s1">let reportEvent: ((event: any) =&gt; void) | undefined;</span><span class="s3">\n  </span><span class="s1">const terminal = new Terminal(process.stdout);</span><span class="s3">\n  </span><span class="s1">const ReporterImpl = getReporterImpl(args.customLogReporterPath);</span><span class="s3">\n  </span><span class="s1">const terminalReporter = new ReporterImpl(terminal);</span><span class="s3">\n  </span><span class="s1">const reporter = {</span><span class="s3">\n    </span><span class="s1">update(event: any) {</span><span class="s3">\n      </span><span class="s1">terminalReporter.update(event);</span><span class="s3">\n      </span><span class="s1">if (reportEvent) {</span><span class="s3">\n        </span><span class="s1">reportEvent(event);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">const metroConfig = await loadMetroConfig(ctx, {</span><span class="s3">\n    </span><span class="s1">config: args.config,</span><span class="s3">\n    </span><span class="s1">maxWorkers: args.maxWorkers,</span><span class="s3">\n    </span><span class="s1">port: args.port,</span><span class="s3">\n    </span><span class="s1">resetCache: args.resetCache,</span><span class="s3">\n    </span><span class="s1">watchFolders: args.watchFolders,</span><span class="s3">\n    </span><span class="s1">projectRoot: args.projectRoot,</span><span class="s3">\n    </span><span class="s1">sourceExts: args.sourceExts,</span><span class="s3">\n    </span><span class="s1">reporter,</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n\n  </span><span class="s1">if (args.assetPlugins) {</span><span class="s3">\n    </span><span class="s1">// @ts-ignore - assigning to readonly property</span><span class="s3">\n    </span><span class="s1">metroConfig.transformer.assetPlugins = args.assetPlugins.map((plugin) =&gt;</span><span class="s3">\n      </span><span class="s1">require.resolve(plugin),</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const {</span><span class="s3">\n    </span><span class="s1">middleware,</span><span class="s3">\n    </span><span class="s1">websocketEndpoints,</span><span class="s3">\n    </span><span class="s1">messageSocketEndpoint,</span><span class="s3">\n    </span><span class="s1">eventsSocketEndpoint,</span><span class="s3">\n  </span><span class="s1">} = createDevServerMiddleware({</span><span class="s3">\n    </span><span class="s1">host: args.host,</span><span class="s3">\n    </span><span class="s1">port: metroConfig.server.port,</span><span class="s3">\n    </span><span class="s1">watchFolders: metroConfig.watchFolders,</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">middleware.use(indexPageMiddleware);</span><span class="s3">\n\n  </span><span class="s1">const customEnhanceMiddleware = metroConfig.server.enhanceMiddleware;</span><span class="s3">\n  </span><span class="s1">// @ts-ignore - assigning to readonly property</span><span class="s3">\n  </span><span class="s1">metroConfig.server.enhanceMiddleware = (</span><span class="s3">\n    </span><span class="s1">metroMiddleware: Middleware,</span><span class="s3">\n    </span><span class="s1">server: Server,</span><span class="s3">\n  </span><span class="s1">) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (customEnhanceMiddleware) {</span><span class="s3">\n      </span><span class="s1">metroMiddleware = customEnhanceMiddleware(metroMiddleware, server);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return middleware.use(metroMiddleware);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">const serverInstance = await Metro.runServer(metroConfig, {</span><span class="s3">\n    </span><span class="s1">host: args.host,</span><span class="s3">\n    </span><span class="s1">secure: args.https,</span><span class="s3">\n    </span><span class="s1">secureCert: args.cert,</span><span class="s3">\n    </span><span class="s1">secureKey: args.key,</span><span class="s3">\n    </span><span class="s1">// @ts-ignore - ws.Server types are incompatible</span><span class="s3">\n    </span><span class="s1">websocketEndpoints,</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n\n  </span><span class="s1">reportEvent = eventsSocketEndpoint.reportEvent;</span><span class="s3">\n\n  </span><span class="s1">if (args.interactive) {</span><span class="s3">\n    </span><span class="s1">enableWatchMode(messageSocketEndpoint);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// In Node 8, the default keep-alive for an HTTP connection is 5 seconds. In</span><span class="s3">\n  </span><span class="s1">// early versions of Node 8, this was implemented in a buggy way which caused</span><span class="s3">\n  </span><span class="s1">// some HTTP responses (like those containing large JS bundles) to be</span><span class="s3">\n  </span><span class="s1">// terminated early.</span><span class="s3">\n  </span><span class="s1">//</span><span class="s3">\n  </span><span class="s1">// As a workaround, arbitrarily increase the keep-alive from 5 to 30 seconds,</span><span class="s3">\n  </span><span class="s1">// which should be enough to send even the largest of JS bundles.</span><span class="s3">\n  </span><span class="s1">//</span><span class="s3">\n  </span><span class="s1">// For more info: https://github.com/nodejs/node/issues/13391</span><span class="s3">\n  </span><span class="s1">//</span><span class="s3">\n  </span><span class="s1">serverInstance.keepAliveTimeout = 30000;</span><span class="s3">\n\n  </span><span class="s1">await version.logIfUpdateAvailable(ctx.root);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function getReporterImpl(customLogReporterPath: string | undefined) {</span><span class="s3">\n  </span><span class="s1">if (customLogReporterPath === undefined) {</span><span class="s3">\n    </span><span class="s1">return require('metro/src/lib/TerminalReporter');</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">// First we let require resolve it, so we can require packages in node_modules</span><span class="s3">\n    </span><span class="s1">// as expected. eg: require('my-package/reporter');</span><span class="s3">\n    </span><span class="s1">return require(customLogReporterPath);</span><span class="s3">\n  </span><span class="s1">} catch (e) {</span><span class="s3">\n    </span><span class="s1">if ((&lt;any&gt;e).code !== 'MODULE_NOT_FOUND') {</span><span class="s3">\n      </span><span class="s1">throw e;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// If that doesn't work, then we next try relative to the cwd, eg:</span><span class="s3">\n    </span><span class="s1">// require('./reporter');</span><span class="s3">\n    </span><span class="s1">return require(path.resolve(customLogReporterPath));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default runServer;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">}</span></pre>
</body>
</html>