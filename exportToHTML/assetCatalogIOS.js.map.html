<html>
<head>
<title>assetCatalogIOS.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #6897bb; font-style: italic;}
.s3 { color: #cc7832; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
assetCatalogIOS.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;cleanAssetCatalog&quot;</span><span class="s0">,</span><span class="s1">&quot;catalogDir&quot;</span><span class="s0">,</span><span class="s1">&quot;files&quot;</span><span class="s0">,</span><span class="s1">&quot;fs&quot;</span><span class="s0">,</span><span class="s1">&quot;readdirSync&quot;</span><span class="s0">,</span><span class="s1">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">,</span><span class="s1">&quot;endsWith&quot;</span><span class="s0">,</span><span class="s1">&quot;removeSync&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;getImageSet&quot;</span><span class="s0">,</span><span class="s1">&quot;asset&quot;</span><span class="s0">,</span><span class="s1">&quot;scales&quot;</span><span class="s0">,</span><span class="s1">&quot;fileName&quot;</span><span class="s0">,</span><span class="s1">&quot;assetPathUtils&quot;</span><span class="s0">,</span><span class="s1">&quot;getResourceIdentifier&quot;</span><span class="s0">,</span><span class="s1">&quot;basePath&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;scale&quot;</span><span class="s0">,</span><span class="s1">&quot;idx&quot;</span><span class="s0">,</span><span class="s1">&quot;suffix&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;src&quot;</span><span class="s0">,</span><span class="s1">&quot;isCatalogAsset&quot;</span><span class="s0">,</span><span class="s1">&quot;writeImageSet&quot;</span><span class="s0">,</span><span class="s1">&quot;imageSet&quot;</span><span class="s0">,</span><span class="s1">&quot;mkdirsSync&quot;</span><span class="s0">,</span><span class="s1">&quot;dest&quot;</span><span class="s0">,</span><span class="s1">&quot;copyFileSync&quot;</span><span class="s0">,</span><span class="s1">&quot;writeJSONSync&quot;</span><span class="s0">,</span><span class="s1">&quot;images&quot;</span><span class="s0">,</span><span class="s1">&quot;filename&quot;</span><span class="s0">,</span><span class="s1">&quot;idiom&quot;</span><span class="s0">,</span><span class="s1">&quot;info&quot;</span><span class="s0">,</span><span class="s1">&quot;author&quot;</span><span class="s0">,</span><span class="s1">&quot;version&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../../src/commands/bundle/assetCatalogIOS.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Copyright (c) Facebook, Inc. and its affiliates.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* This source code is licensed under the MIT license found in the</span><span class="s3">\n </span><span class="s1">* LICENSE file in the root directory of this source tree.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">import path from 'path';</span><span class="s3">\n</span><span class="s1">import fs from 'fs-extra';</span><span class="s3">\n</span><span class="s1">import type {AssetData} from 'metro';</span><span class="s3">\n</span><span class="s1">import assetPathUtils from './assetPathUtils';</span><span class="s3">\n\n</span><span class="s1">export function cleanAssetCatalog(catalogDir: string): void {</span><span class="s3">\n  </span><span class="s1">const files = fs</span><span class="s3">\n    </span><span class="s1">.readdirSync(catalogDir)</span><span class="s3">\n    </span><span class="s1">.filter((file) =&gt; file.endsWith('.imageset'));</span><span class="s3">\n  </span><span class="s1">for (const file of files) {</span><span class="s3">\n    </span><span class="s1">fs.removeSync(path.join(catalogDir, file));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">type ImageSet = {</span><span class="s3">\n  </span><span class="s1">basePath: string;</span><span class="s3">\n  </span><span class="s1">files: {name: string; src: string; scale: number}[];</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export function getImageSet(</span><span class="s3">\n  </span><span class="s1">catalogDir: string,</span><span class="s3">\n  </span><span class="s1">asset: AssetData,</span><span class="s3">\n  </span><span class="s1">scales: readonly number[],</span><span class="s3">\n</span><span class="s1">): ImageSet {</span><span class="s3">\n  </span><span class="s1">const fileName = assetPathUtils.getResourceIdentifier(asset);</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">basePath: path.join(catalogDir, `${fileName}.imageset`),</span><span class="s3">\n    </span><span class="s1">files: scales.map((scale, idx) =&gt; {</span><span class="s3">\n      </span><span class="s1">const suffix = scale === 1 ? '' : `@${scale}x`;</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">name: `${fileName + suffix}.${asset.type}`,</span><span class="s3">\n        </span><span class="s1">scale,</span><span class="s3">\n        </span><span class="s1">src: asset.files[idx],</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function isCatalogAsset(asset: AssetData): boolean {</span><span class="s3">\n  </span><span class="s1">return asset.type === 'png' || asset.type === 'jpg' || asset.type === 'jpeg';</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function writeImageSet(imageSet: ImageSet): void {</span><span class="s3">\n  </span><span class="s1">fs.mkdirsSync(imageSet.basePath);</span><span class="s3">\n\n  </span><span class="s1">for (const file of imageSet.files) {</span><span class="s3">\n    </span><span class="s1">const dest = path.join(imageSet.basePath, file.name);</span><span class="s3">\n    </span><span class="s1">fs.copyFileSync(file.src, dest);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">fs.writeJSONSync(path.join(imageSet.basePath, 'Contents.json'), {</span><span class="s3">\n    </span><span class="s1">images: imageSet.files.map((file) =&gt; ({</span><span class="s3">\n      </span><span class="s1">filename: file.name,</span><span class="s3">\n      </span><span class="s1">idiom: 'universal',</span><span class="s3">\n      </span><span class="s1">scale: `${file.scale}x`,</span><span class="s3">\n    </span><span class="s1">})),</span><span class="s3">\n    </span><span class="s1">info: {</span><span class="s3">\n      </span><span class="s1">author: 'xcode',</span><span class="s3">\n      </span><span class="s1">version: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;AAQA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;AAA8C;AAX9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAOO,SAASA,iBAAiB,CAACC,UAAkB,EAAQ;EAC1D,MAAMC,KAAK,GAAGC,kBAAE,CACbC,WAAW,CAACH,UAAU,CAAC,CACvBI,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,QAAQ,CAAC,WAAW,CAAC,CAAC;EAC/C,KAAK,MAAMD,IAAI,IAAIJ,KAAK,EAAE;IACxBC,kBAAE,CAACK,UAAU,CAACC,eAAI,CAACC,IAAI,CAACT,UAAU,EAAEK,IAAI,CAAC,CAAC;EAC5C;AACF;AAOO,SAASK,WAAW,CACzBV,UAAkB,EAClBW,KAAgB,EAChBC,MAAyB,EACf;EACV,MAAMC,QAAQ,GAAGC,uBAAc,CAACC,qBAAqB,CAACJ,KAAK,CAAC;EAC5D,OAAO;IACLK,QAAQ,EAAER,eAAI,CAACC,IAAI,CAACT,UAAU,EAAG,GAAEa,QAAS,WAAU,CAAC;IACvDZ,KAAK,EAAEW,MAAM,CAACK,GAAG,CAAC,CAACC,KAAK,EAAEC,GAAG,KAAK;MAChC,MAAMC,MAAM,GAAGF,KAAK,KAAK,CAAC,GAAG,EAAE,GAAI,IAAGA,KAAM,GAAE;MAC9C,OAAO;QACLG,IAAI,EAAG,GAAER,QAAQ,GAAGO,MAAO,IAAGT,KAAK,CAACW,IAAK,EAAC;QAC1CJ,KAAK;QACLK,GAAG,EAAEZ,KAAK,CAACV,KAAK,CAACkB,GAAG;MACtB,CAAC;IACH,CAAC;EACH,CAAC;AACH;AAEO,SAASK,cAAc,CAACb,KAAgB,EAAW;EACxD,OAAOA,KAAK,CAACW,IAAI,KAAK,KAAK,IAAIX,KAAK,CAACW,IAAI,KAAK,KAAK,IAAIX,KAAK,CAACW,IAAI,KAAK,MAAM;AAC9E;AAEO,SAASG,aAAa,CAACC,QAAkB,EAAQ;EACtDxB,kBAAE,CAACyB,UAAU,CAACD,QAAQ,CAACV,QAAQ,CAAC;EAEhC,KAAK,MAAMX,IAAI,IAAIqB,QAAQ,CAACzB,KAAK,EAAE;IACjC,MAAM2B,IAAI,GAAGpB,eAAI,CAACC,IAAI,CAACiB,QAAQ,CAACV,QAAQ,EAAEX,IAAI,CAACgB,IAAI,CAAC;IACpDnB,kBAAE,CAAC2B,YAAY,CAACxB,IAAI,CAACkB,GAAG,EAAEK,IAAI,CAAC;EACjC;EAEA1B,kBAAE,CAAC4B,aAAa,CAACtB,eAAI,CAACC,IAAI,CAACiB,QAAQ,CAACV,QAAQ,EAAE,eAAe,CAAC,EAAE;IAC9De,MAAM,EAAEL,QAAQ,CAACzB,KAAK,CAACgB,GAAG,CAAEZ,IAAI,KAAM;MACpC2B,QAAQ,EAAE3B,IAAI,CAACgB,IAAI;MACnBY,KAAK,EAAE,WAAW;MAClBf,KAAK,EAAG,GAAEb,IAAI,CAACa,KAAM;IACvB,CAAC,CAAC,CAAC;IACHgB,IAAI,EAAE;MACJC,MAAM,EAAE,OAAO;MACfC,OAAO,EAAE;IACX;EACF,CAAC,CAAC;AACJ&quot;</span><span class="s0">}</span></pre>
</body>
</html>