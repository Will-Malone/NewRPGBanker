<html>
<head>
<title>createHandler.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #6897bb; font-style: italic;}
.s3 { color: #cc7832; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
createHandler.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;createHandler.tsx&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;UIManagerAny&quot;</span><span class="s0">,</span><span class="s1">&quot;UIManager&quot;</span><span class="s0">,</span><span class="s1">&quot;customGHEventsConfigFabricAndroid&quot;</span><span class="s0">,</span><span class="s1">&quot;topOnGestureHandlerEvent&quot;</span><span class="s0">,</span><span class="s1">&quot;registrationName&quot;</span><span class="s0">,</span><span class="s1">&quot;topOnGestureHandlerStateChange&quot;</span><span class="s0">,</span><span class="s1">&quot;customGHEventsConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;onGestureHandlerEvent&quot;</span><span class="s0">,</span><span class="s1">&quot;onGestureHandlerStateChange&quot;</span><span class="s0">,</span><span class="s1">&quot;Platform&quot;</span><span class="s0">,</span><span class="s1">&quot;OS&quot;</span><span class="s0">,</span><span class="s1">&quot;genericDirectEventTypes&quot;</span><span class="s0">,</span><span class="s1">&quot;UIManagerConstants&quot;</span><span class="s0">,</span><span class="s1">&quot;getViewManagerConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;getConstants&quot;</span><span class="s0">,</span><span class="s1">&quot;setJSResponder&quot;</span><span class="s0">,</span><span class="s1">&quot;oldSetJSResponder&quot;</span><span class="s0">,</span><span class="s1">&quot;clearJSResponder&quot;</span><span class="s0">,</span><span class="s1">&quot;oldClearJSResponder&quot;</span><span class="s0">,</span><span class="s1">&quot;tag&quot;</span><span class="s0">,</span><span class="s1">&quot;blockNativeResponder&quot;</span><span class="s0">,</span><span class="s1">&quot;RNGestureHandlerModule&quot;</span><span class="s0">,</span><span class="s1">&quot;handleSetJSResponder&quot;</span><span class="s0">,</span><span class="s1">&quot;handleClearJSResponder&quot;</span><span class="s0">,</span><span class="s1">&quot;allowTouches&quot;</span><span class="s0">,</span><span class="s1">&quot;DEV_ON_ANDROID&quot;</span><span class="s0">,</span><span class="s1">&quot;__DEV__&quot;</span><span class="s0">,</span><span class="s1">&quot;DeviceEventEmitter&quot;</span><span class="s0">,</span><span class="s1">&quot;addListener&quot;</span><span class="s0">,</span><span class="s1">&quot;hasUnresolvedRefs&quot;</span><span class="s0">,</span><span class="s1">&quot;props&quot;</span><span class="s0">,</span><span class="s1">&quot;extract&quot;</span><span class="s0">,</span><span class="s1">&quot;refs&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;current&quot;</span><span class="s0">,</span><span class="s1">&quot;some&quot;</span><span class="s0">,</span><span class="s1">&quot;r&quot;</span><span class="s0">,</span><span class="s1">&quot;stateToPropMappings&quot;</span><span class="s0">,</span><span class="s1">&quot;State&quot;</span><span class="s0">,</span><span class="s1">&quot;UNDETERMINED&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;BEGAN&quot;</span><span class="s0">,</span><span class="s1">&quot;FAILED&quot;</span><span class="s0">,</span><span class="s1">&quot;CANCELLED&quot;</span><span class="s0">,</span><span class="s1">&quot;ACTIVE&quot;</span><span class="s0">,</span><span class="s1">&quot;END&quot;</span><span class="s0">,</span><span class="s1">&quot;UNRESOLVED_REFS_RETRY_LIMIT&quot;</span><span class="s0">,</span><span class="s1">&quot;createHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;allowedProps&quot;</span><span class="s0">,</span><span class="s1">&quot;config&quot;</span><span class="s0">,</span><span class="s1">&quot;transformProps&quot;</span><span class="s0">,</span><span class="s1">&quot;customNativeProps&quot;</span><span class="s0">,</span><span class="s1">&quot;Handler&quot;</span><span class="s0">,</span><span class="s1">&quot;React&quot;</span><span class="s0">,</span><span class="s1">&quot;Component&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;event&quot;</span><span class="s0">,</span><span class="s1">&quot;nativeEvent&quot;</span><span class="s0">,</span><span class="s1">&quot;handlerTag&quot;</span><span class="s0">,</span><span class="s1">&quot;onGestureEvent&quot;</span><span class="s0">,</span><span class="s1">&quot;onHandlerStateChange&quot;</span><span class="s0">,</span><span class="s1">&quot;state&quot;</span><span class="s0">,</span><span class="s1">&quot;stateEventName&quot;</span><span class="s0">,</span><span class="s1">&quot;eventHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;node&quot;</span><span class="s0">,</span><span class="s1">&quot;viewNode&quot;</span><span class="s0">,</span><span class="s1">&quot;child&quot;</span><span class="s0">,</span><span class="s1">&quot;Children&quot;</span><span class="s0">,</span><span class="s1">&quot;only&quot;</span><span class="s0">,</span><span class="s1">&quot;children&quot;</span><span class="s0">,</span><span class="s1">&quot;ref&quot;</span><span class="s0">,</span><span class="s1">&quot;newConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;createGestureHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;newViewTag&quot;</span><span class="s0">,</span><span class="s1">&quot;viewTag&quot;</span><span class="s0">,</span><span class="s1">&quot;attachGestureHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;ActionType&quot;</span><span class="s0">,</span><span class="s1">&quot;JS_FUNCTION_OLD_API&quot;</span><span class="s0">,</span><span class="s1">&quot;propsRef&quot;</span><span class="s0">,</span><span class="s1">&quot;onGestureStateChange&quot;</span><span class="s0">,</span><span class="s1">&quot;actionType&quot;</span><span class="s0">,</span><span class="s1">&quot;REANIMATED_WORKLET&quot;</span><span class="s0">,</span><span class="s1">&quot;NATIVE_ANIMATED_EVENT&quot;</span><span class="s0">,</span><span class="s1">&quot;updateGestureHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;createRef&quot;</span><span class="s0">,</span><span class="s1">&quot;isMountedRef&quot;</span><span class="s0">,</span><span class="s1">&quot;id&quot;</span><span class="s0">,</span><span class="s1">&quot;handlerIDToTag&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;componentDidMount&quot;</span><span class="s0">,</span><span class="s1">&quot;inspectorToggleListener&quot;</span><span class="s0">,</span><span class="s1">&quot;setState&quot;</span><span class="s0">,</span><span class="s1">&quot;_&quot;</span><span class="s0">,</span><span class="s1">&quot;update&quot;</span><span class="s0">,</span><span class="s1">&quot;queueMicrotask&quot;</span><span class="s0">,</span><span class="s1">&quot;componentDidUpdate&quot;</span><span class="s0">,</span><span class="s1">&quot;componentWillUnmount&quot;</span><span class="s0">,</span><span class="s1">&quot;remove&quot;</span><span class="s0">,</span><span class="s1">&quot;dropGestureHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;handlerID&quot;</span><span class="s0">,</span><span class="s1">&quot;remainingTries&quot;</span><span class="s0">,</span><span class="s1">&quot;setNativeProps&quot;</span><span class="s0">,</span><span class="s1">&quot;updates&quot;</span><span class="s0">,</span><span class="s1">&quot;mergedProps&quot;</span><span class="s0">,</span><span class="s1">&quot;render&quot;</span><span class="s0">,</span><span class="s1">&quot;context&quot;</span><span class="s0">,</span><span class="s1">&quot;gestureEventHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;gestureStateEventHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;events&quot;</span><span class="s0">,</span><span class="s1">&quot;e&quot;</span><span class="s0">,</span><span class="s1">&quot;grandChildren&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;displayName&quot;</span><span class="s0">,</span><span class="s1">&quot;toArray&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;hitSlop&quot;</span><span class="s0">,</span><span class="s1">&quot;cloneElement&quot;</span><span class="s0">,</span><span class="s1">&quot;refHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;collapsable&quot;</span><span class="s0">,</span><span class="s1">&quot;handlerType&quot;</span><span class="s0">,</span><span class="s1">&quot;testID&quot;</span><span class="s0">,</span><span class="s1">&quot;GestureHandlerRootViewContext&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import * as React from 'react';</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">Platform,</span><span class="s3">\n  </span><span class="s1">UIManager,</span><span class="s3">\n  </span><span class="s1">DeviceEventEmitter,</span><span class="s3">\n  </span><span class="s1">EmitterSubscription,</span><span class="s3">\n</span><span class="s1">} from 'react-native';</span><span class="s3">\n</span><span class="s1">// @ts-ignore - it isn't typed by TS &amp; don't have definitelyTyped types</span><span class="s3">\n</span><span class="s1">import deepEqual from 'lodash/isEqual';</span><span class="s3">\n</span><span class="s1">import RNGestureHandlerModule from '../RNGestureHandlerModule';</span><span class="s3">\n</span><span class="s1">import type RNGestureHandlerModuleWeb from '../RNGestureHandlerModule.web';</span><span class="s3">\n</span><span class="s1">import { State } from '../State';</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">handlerIDToTag,</span><span class="s3">\n  </span><span class="s1">getNextHandlerTag,</span><span class="s3">\n  </span><span class="s1">registerOldGestureHandler,</span><span class="s3">\n</span><span class="s1">} from './handlersRegistry';</span><span class="s3">\n\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">BaseGestureHandlerProps,</span><span class="s3">\n  </span><span class="s1">filterConfig,</span><span class="s3">\n  </span><span class="s1">GestureEvent,</span><span class="s3">\n  </span><span class="s1">HandlerStateChangeEvent,</span><span class="s3">\n  </span><span class="s1">findNodeHandle,</span><span class="s3">\n  </span><span class="s1">scheduleFlushOperations,</span><span class="s3">\n</span><span class="s1">} from './gestureHandlerCommon';</span><span class="s3">\n</span><span class="s1">import { ValueOf } from '../typeUtils';</span><span class="s3">\n</span><span class="s1">import { isFabric, isJestEnv, tagMessage } from '../utils';</span><span class="s3">\n</span><span class="s1">import { ActionType } from '../ActionType';</span><span class="s3">\n</span><span class="s1">import { PressabilityDebugView } from './PressabilityDebugView';</span><span class="s3">\n</span><span class="s1">import GestureHandlerRootViewContext from '../GestureHandlerRootViewContext';</span><span class="s3">\n\n</span><span class="s1">const UIManagerAny = UIManager as any;</span><span class="s3">\n\n</span><span class="s1">const customGHEventsConfigFabricAndroid = {</span><span class="s3">\n  </span><span class="s1">topOnGestureHandlerEvent: { registrationName: 'onGestureHandlerEvent' },</span><span class="s3">\n  </span><span class="s1">topOnGestureHandlerStateChange: {</span><span class="s3">\n    </span><span class="s1">registrationName: 'onGestureHandlerStateChange',</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">const customGHEventsConfig = {</span><span class="s3">\n  </span><span class="s1">onGestureHandlerEvent: { registrationName: 'onGestureHandlerEvent' },</span><span class="s3">\n  </span><span class="s1">onGestureHandlerStateChange: {</span><span class="s3">\n    </span><span class="s1">registrationName: 'onGestureHandlerStateChange',</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">// When using React Native Gesture Handler for Animated.event with useNativeDriver: true</span><span class="s3">\n  </span><span class="s1">// on Android with Fabric enabled, the native part still sends the native events to JS</span><span class="s3">\n  </span><span class="s1">// but prefixed with </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">. We cannot simply rename the events above so they are prefixed</span><span class="s3">\n  </span><span class="s1">// with </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot; </span><span class="s1">instead of </span><span class="s3">\&quot;</span><span class="s1">on</span><span class="s3">\&quot; </span><span class="s1">because in such case Animated.events would not be registered.</span><span class="s3">\n  </span><span class="s1">// That's why we need to register another pair of event names.</span><span class="s3">\n  </span><span class="s1">// The incoming events will be queued but never handled.</span><span class="s3">\n  </span><span class="s1">// Without this piece of code below, you'll get the following JS error:</span><span class="s3">\n  </span><span class="s1">// Unsupported top level event type </span><span class="s3">\&quot;</span><span class="s1">topOnGestureHandlerEvent</span><span class="s3">\&quot; </span><span class="s1">dispatched</span><span class="s3">\n  </span><span class="s1">...(isFabric() &amp;&amp;</span><span class="s3">\n    </span><span class="s1">Platform.OS === 'android' &amp;&amp;</span><span class="s3">\n    </span><span class="s1">customGHEventsConfigFabricAndroid),</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// Add gesture specific events to genericDirectEventTypes object exported from UIManager</span><span class="s3">\n</span><span class="s1">// native module.</span><span class="s3">\n</span><span class="s1">// Once new event types are registered with react it is possible to dispatch these</span><span class="s3">\n</span><span class="s1">// events to all kind of native views.</span><span class="s3">\n</span><span class="s1">UIManagerAny.genericDirectEventTypes = {</span><span class="s3">\n  </span><span class="s1">...UIManagerAny.genericDirectEventTypes,</span><span class="s3">\n  </span><span class="s1">...customGHEventsConfig,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">// In newer versions of RN the `genericDirectEventTypes` is located in the object</span><span class="s3">\n</span><span class="s1">// returned by UIManager.getViewManagerConfig('getConstants') or in older RN UIManager.getConstants(), we need to add it there as well to make</span><span class="s3">\n</span><span class="s1">// it compatible with RN 61+</span><span class="s3">\n</span><span class="s1">const UIManagerConstants =</span><span class="s3">\n  </span><span class="s1">UIManagerAny.getViewManagerConfig?.('getConstants') ??</span><span class="s3">\n  </span><span class="s1">UIManagerAny.getConstants?.();</span><span class="s3">\n\n</span><span class="s1">if (UIManagerConstants) {</span><span class="s3">\n  </span><span class="s1">UIManagerConstants.genericDirectEventTypes = {</span><span class="s3">\n    </span><span class="s1">...UIManagerConstants.genericDirectEventTypes,</span><span class="s3">\n    </span><span class="s1">...customGHEventsConfig,</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Wrap JS responder calls and notify gesture handler manager</span><span class="s3">\n</span><span class="s1">const {</span><span class="s3">\n  </span><span class="s1">setJSResponder: oldSetJSResponder = () =&gt; {</span><span class="s3">\n    </span><span class="s1">//no operation</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">clearJSResponder: oldClearJSResponder = () =&gt; {</span><span class="s3">\n    </span><span class="s1">//no operation</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">} = UIManagerAny;</span><span class="s3">\n</span><span class="s1">UIManagerAny.setJSResponder = (tag: number, blockNativeResponder: boolean) =&gt; {</span><span class="s3">\n  </span><span class="s1">RNGestureHandlerModule.handleSetJSResponder(tag, blockNativeResponder);</span><span class="s3">\n  </span><span class="s1">oldSetJSResponder(tag, blockNativeResponder);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">UIManagerAny.clearJSResponder = () =&gt; {</span><span class="s3">\n  </span><span class="s1">RNGestureHandlerModule.handleClearJSResponder();</span><span class="s3">\n  </span><span class="s1">oldClearJSResponder();</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">let allowTouches = true;</span><span class="s3">\n</span><span class="s1">const DEV_ON_ANDROID = __DEV__ &amp;&amp; Platform.OS === 'android';</span><span class="s3">\n</span><span class="s1">// Toggled inspector blocks touch events in order to allow inspecting on Android</span><span class="s3">\n</span><span class="s1">// This needs to be a global variable in order to set initial state for `allowTouches` property in Handler component</span><span class="s3">\n</span><span class="s1">if (DEV_ON_ANDROID) {</span><span class="s3">\n  </span><span class="s1">DeviceEventEmitter.addListener('toggleElementInspector', () =&gt; {</span><span class="s3">\n    </span><span class="s1">allowTouches = !allowTouches;</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">type HandlerProps&lt;T extends Record&lt;string, unknown&gt;&gt; = Readonly&lt;</span><span class="s3">\n  </span><span class="s1">React.PropsWithChildren&lt;BaseGestureHandlerProps&lt;T&gt;&gt;</span><span class="s3">\n</span><span class="s1">&gt;;</span><span class="s3">\n</span><span class="s1">function hasUnresolvedRefs&lt;T extends Record&lt;string, unknown&gt;&gt;(</span><span class="s3">\n  </span><span class="s1">props: HandlerProps&lt;T&gt;</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">// TODO(TS) - add type for extract arg</span><span class="s3">\n  </span><span class="s1">const extract = (refs: any | any[]) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (!Array.isArray(refs)) {</span><span class="s3">\n      </span><span class="s1">return refs &amp;&amp; refs.current === null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return refs.some((r) =&gt; r &amp;&amp; r.current === null);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return extract(props['simultaneousHandlers']) || extract(props['waitFor']);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const stateToPropMappings = {</span><span class="s3">\n  </span><span class="s1">[State.UNDETERMINED]: undefined,</span><span class="s3">\n  </span><span class="s1">[State.BEGAN]: 'onBegan',</span><span class="s3">\n  </span><span class="s1">[State.FAILED]: 'onFailed',</span><span class="s3">\n  </span><span class="s1">[State.CANCELLED]: 'onCancelled',</span><span class="s3">\n  </span><span class="s1">[State.ACTIVE]: 'onActivated',</span><span class="s3">\n  </span><span class="s1">[State.END]: 'onEnded',</span><span class="s3">\n</span><span class="s1">} as const;</span><span class="s3">\n\n</span><span class="s1">type CreateHandlerArgs&lt;HandlerPropsT extends Record&lt;string, unknown&gt;&gt; =</span><span class="s3">\n  </span><span class="s1">Readonly&lt;{</span><span class="s3">\n    </span><span class="s1">name: string;</span><span class="s3">\n    </span><span class="s1">allowedProps: Readonly&lt;Extract&lt;keyof HandlerPropsT, string&gt;[]&gt;;</span><span class="s3">\n    </span><span class="s1">config: Readonly&lt;Record&lt;string, unknown&gt;&gt;;</span><span class="s3">\n    </span><span class="s1">transformProps?: (props: HandlerPropsT) =&gt; HandlerPropsT;</span><span class="s3">\n    </span><span class="s1">customNativeProps?: Readonly&lt;string[]&gt;;</span><span class="s3">\n  </span><span class="s1">}&gt;;</span><span class="s3">\n\n</span><span class="s1">// TODO(TS) fix event types</span><span class="s3">\n</span><span class="s1">type InternalEventHandlers = {</span><span class="s3">\n  </span><span class="s1">onGestureHandlerEvent?: (event: any) =&gt; void;</span><span class="s3">\n  </span><span class="s1">onGestureHandlerStateChange?: (event: any) =&gt; void;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">const UNRESOLVED_REFS_RETRY_LIMIT = 1;</span><span class="s3">\n\n</span><span class="s1">// TODO(TS) - make sure that BaseGestureHandlerProps doesn't need other generic parameter to work with custom properties.</span><span class="s3">\n</span><span class="s1">export default function createHandler&lt;</span><span class="s3">\n  </span><span class="s1">T extends BaseGestureHandlerProps&lt;U&gt;,</span><span class="s3">\n  </span><span class="s1">U extends Record&lt;string, unknown&gt;</span><span class="s3">\n</span><span class="s1">&gt;({</span><span class="s3">\n  </span><span class="s1">name,</span><span class="s3">\n  </span><span class="s1">allowedProps = [],</span><span class="s3">\n  </span><span class="s1">config = {},</span><span class="s3">\n  </span><span class="s1">transformProps,</span><span class="s3">\n  </span><span class="s1">customNativeProps = [],</span><span class="s3">\n</span><span class="s1">}: CreateHandlerArgs&lt;T&gt;): React.ComponentType&lt;T &amp; React.RefAttributes&lt;any&gt;&gt; {</span><span class="s3">\n  </span><span class="s1">interface HandlerState {</span><span class="s3">\n    </span><span class="s1">allowTouches: boolean;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">class Handler extends React.Component&lt;</span><span class="s3">\n    </span><span class="s1">T &amp; InternalEventHandlers,</span><span class="s3">\n    </span><span class="s1">HandlerState</span><span class="s3">\n  </span><span class="s1">&gt; {</span><span class="s3">\n    </span><span class="s1">static displayName = name;</span><span class="s3">\n    </span><span class="s1">static contextType = GestureHandlerRootViewContext;</span><span class="s3">\n\n    </span><span class="s1">private handlerTag: number;</span><span class="s3">\n    </span><span class="s1">private config: Record&lt;string, unknown&gt;;</span><span class="s3">\n    </span><span class="s1">private propsRef: React.MutableRefObject&lt;unknown&gt;;</span><span class="s3">\n    </span><span class="s1">private isMountedRef: React.MutableRefObject&lt;boolean | null&gt;;</span><span class="s3">\n    </span><span class="s1">private viewNode: any;</span><span class="s3">\n    </span><span class="s1">private viewTag?: number;</span><span class="s3">\n    </span><span class="s1">private inspectorToggleListener?: EmitterSubscription;</span><span class="s3">\n\n    </span><span class="s1">constructor(props: T &amp; InternalEventHandlers) {</span><span class="s3">\n      </span><span class="s1">super(props);</span><span class="s3">\n      </span><span class="s1">this.handlerTag = getNextHandlerTag();</span><span class="s3">\n      </span><span class="s1">this.config = {};</span><span class="s3">\n      </span><span class="s1">this.propsRef = React.createRef();</span><span class="s3">\n      </span><span class="s1">this.isMountedRef = React.createRef();</span><span class="s3">\n      </span><span class="s1">this.state = { allowTouches };</span><span class="s3">\n      </span><span class="s1">if (props.id) {</span><span class="s3">\n        </span><span class="s1">if (handlerIDToTag[props.id] !== undefined) {</span><span class="s3">\n          </span><span class="s1">throw new Error(`Handler with ID </span><span class="s3">\&quot;</span><span class="s1">${props.id}</span><span class="s3">\&quot; </span><span class="s1">already registered`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">handlerIDToTag[props.id] = this.handlerTag;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">componentDidMount() {</span><span class="s3">\n      </span><span class="s1">const props: HandlerProps&lt;U&gt; = this.props;</span><span class="s3">\n      </span><span class="s1">this.isMountedRef.current = true;</span><span class="s3">\n\n      </span><span class="s1">if (DEV_ON_ANDROID) {</span><span class="s3">\n        </span><span class="s1">this.inspectorToggleListener = DeviceEventEmitter.addListener(</span><span class="s3">\n          </span><span class="s1">'toggleElementInspector',</span><span class="s3">\n          </span><span class="s1">() =&gt; {</span><span class="s3">\n            </span><span class="s1">this.setState((_) =&gt; ({ allowTouches }));</span><span class="s3">\n            </span><span class="s1">this.update(UNRESOLVED_REFS_RETRY_LIMIT);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (hasUnresolvedRefs(props)) {</span><span class="s3">\n        </span><span class="s1">// If there are unresolved refs (e.g. </span><span class="s3">\&quot;</span><span class="s1">.current</span><span class="s3">\&quot; </span><span class="s1">has not yet been set)</span><span class="s3">\n        </span><span class="s1">// passed as `simultaneousHandlers` or `waitFor`, we enqueue a call to</span><span class="s3">\n        </span><span class="s1">// _update method that will try to update native handler props using</span><span class="s3">\n        </span><span class="s1">// queueMicrotask. This makes it so update() function gets called after all</span><span class="s3">\n        </span><span class="s1">// react components are mounted and we expect the missing ref object to</span><span class="s3">\n        </span><span class="s1">// be resolved by then.</span><span class="s3">\n        </span><span class="s1">queueMicrotask(() =&gt; {</span><span class="s3">\n          </span><span class="s1">this.update(UNRESOLVED_REFS_RETRY_LIMIT);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">this.createGestureHandler(</span><span class="s3">\n        </span><span class="s1">filterConfig(</span><span class="s3">\n          </span><span class="s1">transformProps ? transformProps(this.props) : this.props,</span><span class="s3">\n          </span><span class="s1">[...allowedProps, ...customNativeProps],</span><span class="s3">\n          </span><span class="s1">config</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">this.attachGestureHandler(findNodeHandle(this.viewNode) as number); // TODO(TS) - check if this can be null</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">componentDidUpdate() {</span><span class="s3">\n      </span><span class="s1">const viewTag = findNodeHandle(this.viewNode);</span><span class="s3">\n      </span><span class="s1">if (this.viewTag !== viewTag) {</span><span class="s3">\n        </span><span class="s1">this.attachGestureHandler(viewTag as number); // TODO(TS) - check interaction between _viewTag &amp; findNodeHandle</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">this.update(UNRESOLVED_REFS_RETRY_LIMIT);\n    }\n\n    componentWillUnmount() {\n      this.inspectorToggleListener?.remove();\n      this.isMountedRef.current = false;\n      RNGestureHandlerModule.dropGestureHandler(this.handlerTag);\n      scheduleFlushOperations();\n      // We can't use this.props.id directly due to TS generic type narrowing bug, see https://github.com/microsoft/TypeScript/issues/13995 for more context\n      const handlerID: string | undefined = this.props.id;\n      if (handlerID) {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete handlerIDToTag[handlerID];\n      }\n    }\n\n    private onGestureHandlerEvent = (event: GestureEvent&lt;U&gt;) =&gt; {\n      if (event.nativeEvent.handlerTag === this.handlerTag) {\n        if (typeof this.props.onGestureEvent === 'function') {\n          this.props.onGestureEvent?.(event);\n        }\n      } else {\n        this.props.onGestureHandlerEvent?.(event);\n      }\n    };\n\n    // TODO(TS) - make sure this is right type for event\n    private onGestureHandlerStateChange = (\n      event: HandlerStateChangeEvent&lt;U&gt;\n    ) =&gt; {\n      if (event.nativeEvent.handlerTag === this.handlerTag) {\n        if (typeof this.props.onHandlerStateChange === 'function') {\n          this.props.onHandlerStateChange?.(event);\n        }\n\n        const state: ValueOf&lt;typeof State&gt; = event.nativeEvent.state;\n        const stateEventName = stateToPropMappings[state];\n        const eventHandler = stateEventName &amp;&amp; this.props[stateEventName];\n        if (eventHandler &amp;&amp; typeof eventHandler === 'function') {\n          eventHandler(event);\n        }\n      } else {\n        this.props.onGestureHandlerStateChange?.(event);\n      }\n    };\n\n    private refHandler = (node: any) =&gt; {\n      this.viewNode = node;\n\n      const child = React.Children.only(this.props.children);\n      // TODO(TS) fix ref type\n      const { ref }: any = child;\n      if (ref !== null) {\n        if (typeof ref === 'function') {\n          ref(node);\n        } else {\n          ref.current = node;\n        }\n      }\n    };\n\n    private createGestureHandler = (\n      newConfig: Readonly&lt;Record&lt;string, unknown&gt;&gt;\n    ) =&gt; {\n      this.config = newConfig;\n\n      RNGestureHandlerModule.createGestureHandler(\n        name,\n        this.handlerTag,\n        newConfig\n      );\n    };\n\n    private attachGestureHandler = (newViewTag: number) =&gt; {\n      this.viewTag = newViewTag;\n\n      if (Platform.OS === 'web') {\n        // typecast due to dynamic resolution, attachGestureHandler should have web version signature in this branch\n        (\n          RNGestureHandlerModule.attachGestureHandler as typeof RNGestureHandlerModuleWeb.attachGestureHandler\n        )(\n          this.handlerTag,\n          newViewTag,\n          ActionType.JS_FUNCTION_OLD_API, // ignored on web\n          this.propsRef\n        );\n      } else {\n        registerOldGestureHandler(this.handlerTag, {\n          onGestureEvent: this.onGestureHandlerEvent,\n          onGestureStateChange: this.onGestureHandlerStateChange,\n        });\n\n        const actionType = (() =&gt; {\n          if (\n            this.props?.onGestureEvent &amp;&amp;\n            'current' in this.props.onGestureEvent\n          ) {\n            // Reanimated worklet\n            return ActionType.REANIMATED_WORKLET;\n          } else if (\n            this.props?.onGestureEvent &amp;&amp;\n            '__isNative' in this.props.onGestureEvent\n          ) {\n            // Animated.event with useNativeDriver: true\n            return ActionType.NATIVE_ANIMATED_EVENT;\n          } else {\n            // JS callback or Animated.event with useNativeDriver: false\n            return ActionType.JS_FUNCTION_OLD_API;\n          }\n        })();\n\n        RNGestureHandlerModule.attachGestureHandler(\n          this.handlerTag,\n          newViewTag,\n          actionType\n        );\n      }\n\n      scheduleFlushOperations();\n    };\n\n    private updateGestureHandler = (\n      newConfig: Readonly&lt;Record&lt;string, unknown&gt;&gt;\n    ) =&gt; {\n      this.config = newConfig;\n\n      RNGestureHandlerModule.updateGestureHandler(this.handlerTag, newConfig);\n      scheduleFlushOperations();\n    };\n\n    private update(remainingTries: number) {\n      if (!this.isMountedRef.current) {\n        return;\n      }\n\n      const props: HandlerProps&lt;U&gt; = this.props;\n\n      // When ref is set via a function i.e. `ref={(r) =&gt; refObject.current = r}` instead of\n      // `ref={refObject}` it's possible that it won't be resolved in time. Seems like trying\n      // again is easy enough fix.\n      if (hasUnresolvedRefs(props) &amp;&amp; remainingTries &gt; 0) {\n        queueMicrotask(() =&gt; {\n          this.update(remainingTries - 1);\n        });\n      } else {\n        const newConfig = filterConfig(\n          transformProps ? transformProps(this.props) : this.props,\n          [...allowedProps, ...customNativeProps],\n          config\n        );\n        if (!deepEqual(this.config, newConfig)) {\n          this.updateGestureHandler(newConfig);\n        }\n      }\n    }\n\n    setNativeProps(updates: any) {\n      const mergedProps = { ...this.props, ...updates };\n      const newConfig = filterConfig(\n        transformProps ? transformProps(mergedProps) : mergedProps,\n        [...allowedProps, ...customNativeProps],\n        config\n      );\n      this.updateGestureHandler(newConfig);\n    }\n\n    render() {\n      if (__DEV__ &amp;&amp; !this.context &amp;&amp; !isJestEnv()) {\n        throw new Error(\n          name +\n            ' must be used as a descendant of GestureHandlerRootView. Otherwise the gestures will not be recognized. See https://docs.swmansion.com/react-native-gesture-handler/docs/installation for more details.'\n        );\n      }\n\n      let gestureEventHandler = this.onGestureHandlerEvent;\n      // Another instance of https://github.com/microsoft/TypeScript/issues/13995\n      type OnGestureEventHandlers = {\n        onGestureEvent?: BaseGestureHandlerProps&lt;U&gt;['onGestureEvent'];\n        onGestureHandlerEvent?: InternalEventHandlers['onGestureHandlerEvent'];\n      };\n      const { onGestureEvent, onGestureHandlerEvent }: OnGestureEventHandlers =\n        this.props;\n      if (onGestureEvent &amp;&amp; typeof onGestureEvent !== 'function') {\n        // If it's not a method it should be an native Animated.event\n        // object. We set it directly as the handler for the view\n        // In this case nested handlers are not going to be supported\n        if (onGestureHandlerEvent) {\n          throw new Error(\n            'Nesting touch handlers with native animated driver is not supported yet'\n          );\n        }\n        gestureEventHandler = onGestureEvent;\n      } else {\n        if (\n          onGestureHandlerEvent &amp;&amp;\n          typeof onGestureHandlerEvent !== 'function'\n        ) {\n          throw new Error(\n            'Nesting touch handlers with native animated driver is not supported yet'\n          );\n        }\n      }\n\n      let gestureStateEventHandler = this.onGestureHandlerStateChange;\n      // Another instance of https://github.com/microsoft/TypeScript/issues/13995\n      type OnGestureStateChangeHandlers = {\n        onHandlerStateChange?: BaseGestureHandlerProps&lt;U&gt;['onHandlerStateChange'];\n        onGestureHandlerStateChange?: InternalEventHandlers['onGestureHandlerStateChange'];\n      };\n      const {\n        onHandlerStateChange,\n        onGestureHandlerStateChange,\n      }: OnGestureStateChangeHandlers = this.props;\n      if (onHandlerStateChange &amp;&amp; typeof onHandlerStateChange !== 'function') {\n        // If it's not a method it should be an native Animated.event\n        // object. We set it directly as the handler for the view\n        // In this case nested handlers are not going to be supported\n        if (onGestureHandlerStateChange) {\n          throw new Error(\n            'Nesting touch handlers with native animated driver is not supported yet'\n          );\n        }\n        gestureStateEventHandler = onHandlerStateChange;\n      } else {\n        if (\n          onGestureHandlerStateChange &amp;&amp;\n          typeof onGestureHandlerStateChange !== 'function'\n        ) {\n          throw new Error(\n            'Nesting touch handlers with native animated driver is not supported yet'\n          );\n        }\n      }\n      const events = {\n        onGestureHandlerEvent: this.state.allowTouches\n          ? gestureEventHandler\n          : undefined,\n        onGestureHandlerStateChange: this.state.allowTouches\n          ? gestureStateEventHandler\n          : undefined,\n      };\n\n      this.propsRef.current = events;\n\n      let child: any = null;\n      try {\n        child = React.Children.only(this.props.children);\n      } catch (e) {\n        throw new Error(\n          tagMessage(\n            `${name} got more than one view as a child. If you want the gesture to work on multiple views, wrap them with a common parent and attach the gesture to that view.`\n          )\n        );\n      }\n\n      let grandChildren = child.props.children;\n      if (\n        __DEV__ &amp;&amp;\n        child.type &amp;&amp;\n        (child.type === 'RNGestureHandlerButton' ||\n          child.type.name === 'View' ||\n          child.type.displayName === 'View')\n      ) {\n        grandChildren = React.Children.toArray(grandChildren);\n        grandChildren.push(\n          &lt;PressabilityDebugView\n            key=\&quot;pressabilityDebugView\&quot;\n            color=\&quot;mediumspringgreen\&quot;\n            hitSlop={child.props.hitSlop}\n          /&gt;\n        );\n      }\n\n      return React.cloneElement(\n        child,\n        {\n          ref: this.refHandler,\n          collapsable: false,\n          ...(isJestEnv()\n            ? {\n                handlerType: name,\n                handlerTag: this.handlerTag,\n              }\n            : {}),\n          testID: this.props.testID ?? child.props.testID,\n          ...events,\n        },\n        grandChildren\n      );\n    }\n  }\n  return Handler;\n}\n&quot;]}</span></pre>
</body>
</html>