<html>
<head>
<title>index.browser.mjs.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
index.browser.mjs.map</font>
</center></td></tr></table>
<pre><span class="s0">{&quot;version&quot;:3,&quot;file&quot;:&quot;index.browser.mjs&quot;,&quot;sources&quot;:[&quot;../src/utils.ts&quot;,&quot;../src/imports-cache.ts&quot;,&quot;../src/debug-utils.ts&quot;,&quot;../src/normalize-options.ts&quot;,&quot;../src/visitors/usage.ts&quot;,&quot;../src/visitors/entry.ts&quot;,&quot;../src/browser/dependencies.ts&quot;,&quot;../src/meta-resolver.ts&quot;,&quot;../src/index.ts&quot;],&quot;sourcesContent&quot;:[&quot;import { types as t, template } from \&quot;@babel/core\&quot;;\nimport type { NodePath } from \&quot;@babel/traverse\&quot;;\nimport type { Utils } from \&quot;./types\&quot;;\nimport type ImportsCache from \&quot;./imports-cache\&quot;;\n\nexport function intersection&lt;T&gt;(a: Set&lt;T&gt;, b: Set&lt;T&gt;): Set&lt;T&gt; {\n  const result = new Set&lt;T&gt;();\n  a.forEach(v =&gt; b.has(v) &amp;&amp; result.add(v));\n  return result;\n}\n\nexport function has(object: any, key: string) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}\n\nfunction getType(target: any): string {\n  return Object.prototype.toString.call(target).slice(8, -1);\n}\n\nfunction resolveId(path): string {\n  if (\n    path.isIdentifier() &amp;&amp;\n    !path.scope.hasBinding(path.node.name, /* noGlobals */ true)\n  ) {\n    return path.node.name;\n  }\n\n  const { deopt } = path.evaluate();\n  if (deopt &amp;&amp; deopt.isIdentifier()) {\n    return deopt.node.name;\n  }\n}\n\nexport function resolveKey(\n  path: NodePath&lt;t.Expression | t.PrivateName&gt;,\n  computed: boolean = false,\n) {\n  const { scope } = path;\n  if (path.isStringLiteral()) return path.node.value;\n  const isIdentifier = path.isIdentifier();\n  if (\n    isIdentifier &amp;&amp;\n    !(computed || (path.parent as t.MemberExpression).computed)\n  ) {\n    return path.node.name;\n  }\n\n  if (\n    computed &amp;&amp;\n    path.isMemberExpression() &amp;&amp;\n    path.get(\&quot;object\&quot;).isIdentifier({ name: \&quot;Symbol\&quot; }) &amp;&amp;\n    !scope.hasBinding(\&quot;Symbol\&quot;, /* noGlobals */ true)\n  ) {\n    const sym = resolveKey(path.get(\&quot;property\&quot;), path.node.computed);\n    if (sym) return \&quot;Symbol.\&quot; + sym;\n  }\n\n  if (!isIdentifier || scope.hasBinding(path.node.name, /* noGlobals */ true)) {\n    const { value } = path.evaluate();\n    if (typeof value === \&quot;string\&quot;) return value;\n  }\n}\n\nexport function resolveSource(obj: NodePath): {\n  id: string | null;\n  placement: \&quot;prototype\&quot; | \&quot;static\&quot; | null;\n} {\n  if (\n    obj.isMemberExpression() &amp;&amp;\n    obj.get(\&quot;property\&quot;).isIdentifier({ name: \&quot;prototype\&quot; })\n  ) {\n    const id = resolveId(obj.get(\&quot;object\&quot;));\n\n    if (id) {\n      return { id, placement: \&quot;prototype\&quot; };\n    }\n    return { id: null, placement: null };\n  }\n\n  const id = resolveId(obj);\n  if (id) {\n    return { id, placement: \&quot;static\&quot; };\n  }\n\n  const { value } = obj.evaluate();\n  if (value !== undefined) {\n    return { id: getType(value), placement: \&quot;prototype\&quot; };\n  } else if (obj.isRegExpLiteral()) {\n    return { id: \&quot;RegExp\&quot;, placement: \&quot;prototype\&quot; };\n  } else if (obj.isFunction()) {\n    return { id: \&quot;Function\&quot;, placement: \&quot;prototype\&quot; };\n  }\n\n  return { id: null, placement: null };\n}\n\nexport function getImportSource({ node }: NodePath&lt;t.ImportDeclaration&gt;) {\n  if (node.specifiers.length === 0) return node.source.value;\n}\n\nexport function getRequireSource({ node }: NodePath&lt;t.Statement&gt;) {\n  if (!t.isExpressionStatement(node)) return;\n  const { expression } = node;\n  if (\n    t.isCallExpression(expression) &amp;&amp;\n    t.isIdentifier(expression.callee) &amp;&amp;\n    expression.callee.name === \&quot;require\&quot; &amp;&amp;\n    expression.arguments.length === 1 &amp;&amp;\n    t.isStringLiteral(expression.arguments[0])\n  ) {\n    return expression.arguments[0].value;\n  }\n}\n\nfunction hoist(node: t.Node) {\n  // @ts-expect-error\n  node._blockHoist = 3;\n  return node;\n}\n\nexport function createUtilsGetter(cache: ImportsCache) {\n  return (path: NodePath): Utils =&gt; {\n    const prog = path.findParent(p =&gt; p.isProgram()) as NodePath&lt;t.Program&gt;;\n\n    return {\n      injectGlobalImport(url) {\n        cache.storeAnonymous(prog, url, (isScript, source) =&gt; {\n          return isScript\n            ? template.statement.ast`require(${source})`\n            : t.importDeclaration([], source);\n        });\n      },\n      injectNamedImport(url, name, hint = name) {\n        return cache.storeNamed(prog, url, name, (isScript, source, name) =&gt; {\n          const id = prog.scope.generateUidIdentifier(hint);\n          return {\n            node: isScript\n              ? hoist(template.statement.ast`\n                  var ${id} = require(${source}).${name}\n                `)\n              : t.importDeclaration([t.importSpecifier(id, name)], source),\n            name: id.name,\n          };\n        });\n      },\n      injectDefaultImport(url, hint = url) {\n        return cache.storeNamed(prog, url, \&quot;default\&quot;, (isScript, source) =&gt; {\n          const id = prog.scope.generateUidIdentifier(hint);\n          return {\n            node: isScript\n              ? hoist(template.statement.ast`var ${id} = require(${source})`)\n              : t.importDeclaration([t.importDefaultSpecifier(id)], source),\n            name: id.name,\n          };\n        });\n      },\n    };\n  };\n}\n&quot;,&quot;import type { NodePath } from \&quot;@babel/traverse\&quot;;\nimport { types as t } from \&quot;@babel/core\&quot;;\n\ntype StrMap&lt;K&gt; = Map&lt;string, K&gt;;\n\nexport default class ImportsCache {\n  _imports: WeakMap&lt;NodePath&lt;t.Program&gt;, StrMap&lt;string&gt;&gt;;\n  _anonymousImports: WeakMap&lt;NodePath&lt;t.Program&gt;, Set&lt;string&gt;&gt;;\n  _lastImports: WeakMap&lt;NodePath&lt;t.Program&gt;, NodePath&lt;t.Node&gt;&gt;;\n  _resolver: (url: string) =&gt; string;\n\n  constructor(resolver: (url: string) =&gt; string) {\n    this._imports = new WeakMap();\n    this._anonymousImports = new WeakMap();\n    this._lastImports = new WeakMap();\n    this._resolver = resolver;\n  }\n\n  storeAnonymous(\n    programPath: NodePath&lt;t.Program&gt;,\n    url: string,\n    // eslint-disable-next-line no-undef\n    getVal: (isScript: boolean, source: t.StringLiteral) =&gt; t.Node,\n  ) {\n    const key = this._normalizeKey(programPath, url);\n    const imports = this._ensure&lt;Set&lt;string&gt;&gt;(\n      this._anonymousImports,\n      programPath,\n      Set,\n    );\n\n    if (imports.has(key)) return;\n\n    const node = getVal(\n      programPath.node.sourceType === \&quot;script\&quot;,\n      t.stringLiteral(this._resolver(url)),\n    );\n    imports.add(key);\n    this._injectImport(programPath, node);\n  }\n\n  storeNamed(\n    programPath: NodePath&lt;t.Program&gt;,\n    url: string,\n    name: string,\n    getVal: (\n      isScript: boolean,\n      // eslint-disable-next-line no-undef\n      source: t.StringLiteral,\n      // eslint-disable-next-line no-undef\n      name: t.Identifier,\n    ) =&gt; { node: t.Node; name: string },\n  ) {\n    const key = this._normalizeKey(programPath, url, name);\n    const imports = this._ensure&lt;Map&lt;string, any&gt;&gt;(\n      this._imports,\n      programPath,\n      Map,\n    );\n\n    if (!imports.has(key)) {\n      const { node, name: id } = getVal(\n        programPath.node.sourceType === \&quot;script\&quot;,\n        t.stringLiteral(this._resolver(url)),\n        t.identifier(name),\n      );\n      imports.set(key, id);\n      this._injectImport(programPath, node);\n    }\n\n    return t.identifier(imports.get(key));\n  }\n\n  _injectImport(programPath: NodePath&lt;t.Program&gt;, node: t.Node) {\n    const lastImport = this._lastImports.get(programPath);\n    let newNodes: [NodePath];\n    if (\n      lastImport &amp;&amp;\n      lastImport.node &amp;&amp;\n      // Sometimes the AST is modified and the \&quot;last import\&quot;\n      // we have has been replaced\n      lastImport.parent === programPath.node &amp;&amp;\n      lastImport.container === programPath.node.body\n    ) {\n      newNodes = lastImport.insertAfter(node);\n    } else {\n      newNodes = programPath.unshiftContainer(\&quot;body\&quot;, node);\n    }\n    const newNode = newNodes[newNodes.length - 1];\n    this._lastImports.set(programPath, newNode);\n\n    /*\n    let lastImport;\n\n    programPath.get(\&quot;body\&quot;).forEach(path =&gt; {\n      if (path.isImportDeclaration()) lastImport = path;\n      if (\n        path.isExpressionStatement() &amp;&amp;\n        isRequireCall(path.get(\&quot;expression\&quot;))\n      ) {\n        lastImport = path;\n      }\n      if (\n        path.isVariableDeclaration() &amp;&amp;\n        path.get(\&quot;declarations\&quot;).length === 1 &amp;&amp;\n        (isRequireCall(path.get(\&quot;declarations.0.init\&quot;)) ||\n          (path.get(\&quot;declarations.0.init\&quot;).isMemberExpression() &amp;&amp;\n            isRequireCall(path.get(\&quot;declarations.0.init.object\&quot;))))\n      ) {\n        lastImport = path;\n      }\n    });*/\n  }\n\n  _ensure&lt;C extends Map&lt;string, any&gt; | Set&lt;string&gt;&gt;(\n    map: WeakMap&lt;NodePath&lt;t.Program&gt;, C&gt;,\n    programPath: NodePath&lt;t.Program&gt;,\n    Collection: { new (...args: any): C },\n  ): C {\n    let collection = map.get(programPath);\n    if (!collection) {\n      collection = new Collection();\n      map.set(programPath, collection);\n    }\n    return collection;\n  }\n\n  _normalizeKey(\n    programPath: NodePath&lt;t.Program&gt;,\n    url: string,\n    name: string = \&quot;\&quot;,\n  ): string {\n    const { sourceType } = programPath.node;\n\n    // If we rely on the imported binding (the \&quot;name\&quot; parameter), we also need to cache\n    // based on the sourceType. This is because the module transforms change the names\n    // of the import variables.\n    return `${name &amp;&amp; sourceType}::${url}::${name}`;\n  }\n}\n&quot;,&quot;import { prettifyTargets } from \&quot;@babel/helper-compilation-targets\&quot;;\n\nimport type { Targets } from \&quot;./types\&quot;;\n\nexport const presetEnvSilentDebugHeader =\n  \&quot;#__secret_key__@babel/preset-env__don't_log_debug_header_and_resolved_targets\&quot;;\n\nexport function stringifyTargetsMultiline(targets: Targets): string {\n  return JSON.stringify(prettifyTargets(targets), null, 2);\n}\n\nexport function stringifyTargets(targets: Targets): string {\n  return JSON.stringify(targets)\n    .replace(/,/g, \&quot;, \&quot;)\n    .replace(/^\\{\&quot;/, '{ \&quot;')\n    .replace(/\&quot;\\}$/, '\&quot; }');\n}\n&quot;,&quot;import { intersection } from \&quot;./utils\&quot;;\nimport type {\n  Pattern,\n  PluginOptions,\n  MissingDependenciesOption,\n} from \&quot;./types\&quot;;\n\nfunction patternToRegExp(pattern: Pattern): RegExp | null {\n  if (pattern instanceof RegExp) return pattern;\n\n  try {\n    return new RegExp(`^${pattern}$`);\n  } catch {\n    return null;\n  }\n}\n\nfunction buildUnusedError(label, unused) {\n  if (!unused.length) return \&quot;\&quot;;\n  return (\n    `  - The following \&quot;${label}\&quot; patterns didn't match any polyfill:\\n` +\n    unused.map(original =&gt; `    ${String(original)}\\n`).join(\&quot;\&quot;)\n  );\n}\n\nfunction buldDuplicatesError(duplicates) {\n  if (!duplicates.size) return \&quot;\&quot;;\n  return (\n    `  - The following polyfills were matched both by \&quot;include\&quot; and \&quot;exclude\&quot; patterns:\\n` +\n    Array.from(duplicates, name =&gt; `    ${name}\\n`).join(\&quot;\&quot;)\n  );\n}\n\nexport function validateIncludeExclude(\n  provider: string,\n  polyfills: Set&lt;string&gt;,\n  includePatterns: Pattern[],\n  excludePatterns: Pattern[],\n) {\n  let current;\n  const filter = pattern =&gt; {\n    const regexp = patternToRegExp(pattern);\n    if (!regexp) return false;\n\n    let matched = false;\n    for (const polyfill of polyfills) {\n      if (regexp.test(polyfill)) {\n        matched = true;\n        current.add(polyfill);\n      }\n    }\n    return !matched;\n  };\n\n  // prettier-ignore\n  const include = current = new Set&lt;string&gt; ();\n  const unusedInclude = Array.from(includePatterns).filter(filter);\n\n  // prettier-ignore\n  const exclude = current = new Set&lt;string&gt; ();\n  const unusedExclude = Array.from(excludePatterns).filter(filter);\n\n  const duplicates = intersection(include, exclude);\n\n  if (\n    duplicates.size &gt; 0 ||\n    unusedInclude.length &gt; 0 ||\n    unusedExclude.length &gt; 0\n  ) {\n    throw new Error(\n      `Error while validating the \&quot;${provider}\&quot; provider options:\\n` +\n        buildUnusedError(\&quot;include\&quot;, unusedInclude) +\n        buildUnusedError(\&quot;exclude\&quot;, unusedExclude) +\n        buldDuplicatesError(duplicates),\n    );\n  }\n\n  return { include, exclude };\n}\n\nexport function applyMissingDependenciesDefaults(\n  options: PluginOptions,\n  babelApi: any,\n): MissingDependenciesOption {\n  const { missingDependencies = {} } = options;\n  if (missingDependencies === false) return false;\n\n  const caller = babelApi.caller(caller =&gt; caller?.name);\n\n  const {\n    log = \&quot;deferred\&quot;,\n    inject = caller === \&quot;rollup-plugin-babel\&quot; ? \&quot;throw\&quot; : \&quot;import\&quot;,\n    all = false,\n  } = missingDependencies;\n\n  return { log, inject, all };\n}\n&quot;,&quot;import type { NodePath } from \&quot;@babel/traverse\&quot;;\nimport { types as t } from \&quot;@babel/core\&quot;;\nimport type { MetaDescriptor } from \&quot;../types\&quot;;\n\nimport { resolveKey, resolveSource } from \&quot;../utils\&quot;;\n\nexport default (\n  callProvider: (payload: MetaDescriptor, path: NodePath) =&gt; void,\n) =&gt; {\n  function property(object, key, placement, path) {\n    return callProvider({ kind: \&quot;property\&quot;, object, key, placement }, path);\n  }\n\n  return {\n    // Symbol(), new Promise\n    ReferencedIdentifier(path: NodePath&lt;t.Identifier&gt;) {\n      const {\n        node: { name },\n        scope,\n      } = path;\n      if (scope.getBindingIdentifier(name)) return;\n\n      callProvider({ kind: \&quot;global\&quot;, name }, path);\n    },\n\n    MemberExpression(path: NodePath&lt;t.MemberExpression&gt;) {\n      const key = resolveKey(path.get(\&quot;property\&quot;), path.node.computed);\n      if (!key || key === \&quot;prototype\&quot;) return;\n\n      const object = path.get(\&quot;object\&quot;);\n      if (object.isIdentifier()) {\n        const binding = object.scope.getBinding(object.node.name);\n        if (binding &amp;&amp; binding.path.isImportNamespaceSpecifier()) return;\n      }\n\n      const source = resolveSource(object);\n      return property(source.id, key, source.placement, path);\n    },\n\n    ObjectPattern(path: NodePath&lt;t.ObjectPattern&gt;) {\n      const { parentPath, parent } = path;\n      let obj;\n\n      // const { keys, values } = Object\n      if (parentPath.isVariableDeclarator()) {\n        obj = parentPath.get(\&quot;init\&quot;);\n        // ({ keys, values } = Object)\n      } else if (parentPath.isAssignmentExpression()) {\n        obj = parentPath.get(\&quot;right\&quot;);\n        // !function ({ keys, values }) {...} (Object)\n        // resolution does not work after properties transform :-(\n      } else if (parentPath.isFunction()) {\n        const grand = parentPath.parentPath;\n        if (grand.isCallExpression() || grand.isNewExpression()) {\n          if (grand.node.callee === parent) {\n            obj = grand.get(\&quot;arguments\&quot;)[path.key];\n          }\n        }\n      }\n\n      let id = null;\n      let placement = null;\n      if (obj) ({ id, placement } = resolveSource(obj));\n\n      for (const prop of path.get(\&quot;properties\&quot;)) {\n        if (prop.isObjectProperty()) {\n          const key = resolveKey(prop.get(\&quot;key\&quot;));\n          if (key) property(id, key, placement, prop);\n        }\n      }\n    },\n\n    BinaryExpression(path: NodePath&lt;t.BinaryExpression&gt;) {\n      if (path.node.operator !== \&quot;in\&quot;) return;\n\n      const source = resolveSource(path.get(\&quot;right\&quot;));\n      const key = resolveKey(path.get(\&quot;left\&quot;), true);\n\n      if (!key) return;\n\n      callProvider(\n        {\n          kind: \&quot;in\&quot;,\n          object: source.id,\n          key,\n          placement: source.placement,\n        },\n        path,\n      );\n    },\n  };\n};\n&quot;,&quot;import type { NodePath } from \&quot;@babel/traverse\&quot;;\nimport { types as t } from \&quot;@babel/core\&quot;;\nimport type { MetaDescriptor } from \&quot;../types\&quot;;\n\nimport { getImportSource, getRequireSource } from \&quot;../utils\&quot;;\n\nexport default (\n  callProvider: (payload: MetaDescriptor, path: NodePath) =&gt; void,\n) =&gt; ({\n  ImportDeclaration(path: NodePath&lt;t.ImportDeclaration&gt;) {\n    const source = getImportSource(path);\n    if (!source) return;\n    callProvider({ kind: \&quot;import\&quot;, source }, path);\n  },\n  Program(path: NodePath&lt;t.Program&gt;) {\n    path.get(\&quot;body\&quot;).forEach(bodyPath =&gt; {\n      const source = getRequireSource(bodyPath);\n      if (!source) return;\n      callProvider({ kind: \&quot;import\&quot;, source }, bodyPath);\n    });\n  },\n});\n&quot;,&quot;export function resolve(\n  dirname: string,\n  moduleName: string,\n  absoluteImports: boolean | string,\n): string {\n  if (absoluteImports === false) return moduleName;\n\n  throw new Error(\n    `\&quot;absoluteImports\&quot; is not supported in bundles prepared for the browser.`,\n  );\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function has(basedir: string, name: string) {\n  return true;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function logMissing(missingDeps: Set&lt;string&gt;) {}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function laterLogMissing(missingDeps: Set&lt;string&gt;) {}\n&quot;,&quot;import type {\n  MetaDescriptor,\n  ResolverPolyfills,\n  ResolvedPolyfill,\n} from \&quot;./types\&quot;;\n\nimport { has } from \&quot;./utils\&quot;;\n\ntype ResolverFn&lt;T&gt; = (meta: MetaDescriptor) =&gt; void | ResolvedPolyfill&lt;T&gt;;\n\nconst PossibleGlobalObjects = new Set&lt;string&gt;([\n  \&quot;global\&quot;,\n  \&quot;globalThis\&quot;,\n  \&quot;self\&quot;,\n  \&quot;window\&quot;,\n]);\n\nexport default function createMetaResolver&lt;T&gt;(\n  polyfills: ResolverPolyfills&lt;T&gt;,\n): ResolverFn&lt;T&gt; {\n  const { static: staticP, instance: instanceP, global: globalP } = polyfills;\n\n  return meta =&gt; {\n    if (meta.kind === \&quot;global\&quot; &amp;&amp; globalP &amp;&amp; has(globalP, meta.name)) {\n      return { kind: \&quot;global\&quot;, desc: globalP[meta.name], name: meta.name };\n    }\n\n    if (meta.kind === \&quot;property\&quot; || meta.kind === \&quot;in\&quot;) {\n      const { placement, object, key } = meta;\n\n      if (object &amp;&amp; placement === \&quot;static\&quot;) {\n        if (globalP &amp;&amp; PossibleGlobalObjects.has(object) &amp;&amp; has(globalP, key)) {\n          return { kind: \&quot;global\&quot;, desc: globalP[key], name: key };\n        }\n\n        if (staticP &amp;&amp; has(staticP, object) &amp;&amp; has(staticP[object], key)) {\n          return {\n            kind: \&quot;static\&quot;,\n            desc: staticP[object][key],\n            name: `${object}$${key}`,\n          };\n        }\n      }\n\n      if (instanceP &amp;&amp; has(instanceP, key)) {\n        return { kind: \&quot;instance\&quot;, desc: instanceP[key], name: `${key}` };\n      }\n    }\n  };\n}\n&quot;,&quot;import { declare } from \&quot;@babel/helper-plugin-utils\&quot;;\nimport type { NodePath } from \&quot;@babel/traverse\&quot;;\n\nimport _getTargets, {\n  isRequired,\n  getInclusionReasons,\n} from \&quot;@babel/helper-compilation-targets\&quot;;\nconst getTargets = _getTargets.default || _getTargets;\n\nimport { createUtilsGetter } from \&quot;./utils\&quot;;\nimport ImportsCache from \&quot;./imports-cache\&quot;;\nimport {\n  stringifyTargetsMultiline,\n  presetEnvSilentDebugHeader,\n} from \&quot;./debug-utils\&quot;;\nimport {\n  validateIncludeExclude,\n  applyMissingDependenciesDefaults,\n} from \&quot;./normalize-options\&quot;;\n\nimport type {\n  ProviderApi,\n  MethodString,\n  Targets,\n  MetaDescriptor,\n  PolyfillProvider,\n  PluginOptions,\n  ProviderOptions,\n} from \&quot;./types\&quot;;\n\nimport * as v from \&quot;./visitors\&quot;;\nimport * as deps from \&quot;./node/dependencies\&quot;;\n\nimport createMetaResolver from \&quot;./meta-resolver\&quot;;\n\nexport type { PolyfillProvider, MetaDescriptor, Utils, Targets } from \&quot;./types\&quot;;\n\nfunction resolveOptions&lt;Options&gt;(\n  options: PluginOptions,\n  babelApi,\n): {\n  method: MethodString;\n  methodName: \&quot;usageGlobal\&quot; | \&quot;entryGlobal\&quot; | \&quot;usagePure\&quot;;\n  targets: Targets;\n  debug: boolean | typeof presetEnvSilentDebugHeader;\n  shouldInjectPolyfill:\n    | ((name: string, shouldInject: boolean) =&gt; boolean)\n    | undefined;\n  providerOptions: ProviderOptions&lt;Options&gt;;\n  absoluteImports: string | boolean;\n} {\n  const {\n    method,\n    targets: targetsOption,\n    ignoreBrowserslistConfig,\n    configPath,\n    debug,\n    shouldInjectPolyfill,\n    absoluteImports,\n    ...providerOptions\n  } = options;\n\n  if (isEmpty(options)) {\n    throw new Error(\n      `\\\nThis plugin requires options, for example:\n    {\n      \&quot;plugins\&quot;: [\n        [\&quot;&lt;plugin name&gt;\&quot;, { method: \&quot;usage-pure\&quot; }]\n      ]\n    }\n\nSee more options at https://github.com/babel/babel-polyfills/blob/main/docs/usage.md`,\n    );\n  }\n\n  let methodName;\n  if (method === \&quot;usage-global\&quot;) methodName = \&quot;usageGlobal\&quot;;\n  else if (method === \&quot;entry-global\&quot;) methodName = \&quot;entryGlobal\&quot;;\n  else if (method === \&quot;usage-pure\&quot;) methodName = \&quot;usagePure\&quot;;\n  else if (typeof method !== \&quot;string\&quot;) {\n    throw new Error(\&quot;.method must be a string\&quot;);\n  } else {\n    throw new Error(\n      `.method must be one of \&quot;entry-global\&quot;, \&quot;usage-global\&quot;` +\n        ` or \&quot;usage-pure\&quot; (received ${JSON.stringify(method)})`,\n    );\n  }\n\n  if (typeof shouldInjectPolyfill === \&quot;function\&quot;) {\n    if (options.include || options.exclude) {\n      throw new Error(\n        `.include and .exclude are not supported when using the` +\n          ` .shouldInjectPolyfill function.`,\n      );\n    }\n  } else if (shouldInjectPolyfill != null) {\n    throw new Error(\n      `.shouldInjectPolyfill must be a function, or undefined` +\n        ` (received ${JSON.stringify(shouldInjectPolyfill)})`,\n    );\n  }\n\n  if (\n    absoluteImports != null &amp;&amp;\n    typeof absoluteImports !== \&quot;boolean\&quot; &amp;&amp;\n    typeof absoluteImports !== \&quot;string\&quot;\n  ) {\n    throw new Error(\n      `.absoluteImports must be a boolean, a string, or undefined` +\n        ` (received ${JSON.stringify(absoluteImports)})`,\n    );\n  }\n\n  let targets;\n\n  if (\n    // If any browserslist-related option is specified, fallback to the old\n    // behavior of not using the targets specified in the top-level options.\n    targetsOption ||\n    configPath ||\n    ignoreBrowserslistConfig\n  ) {\n    const targetsObj =\n      typeof targetsOption === \&quot;string\&quot; || Array.isArray(targetsOption)\n        ? { browsers: targetsOption }\n        : targetsOption;\n\n    targets = getTargets(targetsObj, {\n      ignoreBrowserslistConfig,\n      configPath,\n    });\n  } else {\n    targets = babelApi.targets();\n  }\n\n  return {\n    method,\n    methodName,\n    targets,\n    absoluteImports: absoluteImports ?? false,\n    shouldInjectPolyfill,\n    debug: !!debug,\n    providerOptions: providerOptions as any as ProviderOptions&lt;Options&gt;,\n  };\n}\n\nfunction instantiateProvider&lt;Options&gt;(\n  factory: PolyfillProvider&lt;Options&gt;,\n  options: PluginOptions,\n  missingDependencies,\n  dirname,\n  debugLog,\n  babelApi,\n) {\n  const {\n    method,\n    methodName,\n    targets,\n    debug,\n    shouldInjectPolyfill,\n    providerOptions,\n    absoluteImports,\n  } = resolveOptions&lt;Options&gt;(options, babelApi);\n\n  const getUtils = createUtilsGetter(\n    new ImportsCache(moduleName =&gt;\n      deps.resolve(dirname, moduleName, absoluteImports),\n    ),\n  );\n\n  // eslint-disable-next-line prefer-const\n  let include, exclude;\n  let polyfillsSupport;\n  let polyfillsNames;\n  let filterPolyfills;\n\n  const depsCache = new Map();\n\n  const api: ProviderApi = {\n    babel: babelApi,\n    getUtils,\n    method: options.method,\n    targets,\n    createMetaResolver,\n    shouldInjectPolyfill(name) {\n      if (polyfillsNames === undefined) {\n        throw new Error(\n          `Internal error in the ${factory.name} provider: ` +\n            `shouldInjectPolyfill() can't be called during initialization.`,\n        );\n      }\n      if (!polyfillsNames.has(name)) {\n        console.warn(\n          `Internal error in the ${providerName} provider: ` +\n            `unknown polyfill \&quot;${name}\&quot;.`,\n        );\n      }\n\n      if (filterPolyfills &amp;&amp; !filterPolyfills(name)) return false;\n\n      let shouldInject = isRequired(name, targets, {\n        compatData: polyfillsSupport,\n        includes: include,\n        excludes: exclude,\n      });\n\n      if (shouldInjectPolyfill) {\n        shouldInject = shouldInjectPolyfill(name, shouldInject);\n        if (typeof shouldInject !== \&quot;boolean\&quot;) {\n          throw new Error(`.shouldInjectPolyfill must return a boolean.`);\n        }\n      }\n\n      return shouldInject;\n    },\n    debug(name) {\n      debugLog().found = true;\n\n      if (!debug || !name) return;\n\n      if (debugLog().polyfills.has(providerName)) return;\n      debugLog().polyfills.add(name);\n      debugLog().polyfillsSupport ??= polyfillsSupport;\n    },\n    assertDependency(name, version = \&quot;*\&quot;) {\n      if (missingDependencies === false) return;\n      if (absoluteImports) {\n        // If absoluteImports is not false, we will try resolving\n        // the dependency and throw if it's not possible. We can\n        // skip the check here.\n        return;\n      }\n\n      const dep = version === \&quot;*\&quot; ? name : `${name}@^${version}`;\n\n      const found = missingDependencies.all\n        ? false\n        : mapGetOr(depsCache, `${name} :: ${dirname}`, () =&gt;\n            deps.has(dirname, name),\n          );\n\n      if (!found) {\n        debugLog().missingDeps.add(dep);\n      }\n    },\n  };\n\n  const provider = factory(api, providerOptions, dirname);\n  const providerName = provider.name || factory.name;\n\n  if (typeof provider[methodName] !== \&quot;function\&quot;) {\n    throw new Error(\n      `The \&quot;${providerName}\&quot; provider doesn't support the \&quot;${method}\&quot; polyfilling method.`,\n    );\n  }\n\n  if (Array.isArray(provider.polyfills)) {\n    polyfillsNames = new Set(provider.polyfills);\n    filterPolyfills = provider.filterPolyfills;\n  } else if (provider.polyfills) {\n    polyfillsNames = new Set(Object.keys(provider.polyfills));\n    polyfillsSupport = provider.polyfills;\n    filterPolyfills = provider.filterPolyfills;\n  } else {\n    polyfillsNames = new Set();\n  }\n\n  ({ include, exclude } = validateIncludeExclude(\n    providerName,\n    polyfillsNames,\n    providerOptions.include || [],\n    providerOptions.exclude || [],\n  ));\n\n  return {\n    debug,\n    method,\n    targets,\n    provider,\n    providerName,\n    callProvider(payload: MetaDescriptor, path: NodePath) {\n      const utils = getUtils(path);\n      provider[methodName](payload, utils, path);\n    },\n  };\n}\n\nexport default function definePolyfillProvider&lt;Options&gt;(\n  factory: PolyfillProvider&lt;Options&gt;,\n) {\n  return declare((babelApi, options: PluginOptions, dirname: string) =&gt; {\n    babelApi.assertVersion(7);\n    const { traverse } = babelApi;\n\n    let debugLog;\n\n    const missingDependencies = applyMissingDependenciesDefaults(\n      options,\n      babelApi,\n    );\n\n    const { debug, method, targets, provider, providerName, callProvider } =\n      instantiateProvider&lt;Options&gt;(\n        factory,\n        options,\n        missingDependencies,\n        dirname,\n        () =&gt; debugLog,\n        babelApi,\n      );\n\n    const createVisitor = method === \&quot;entry-global\&quot; ? v.entry : v.usage;\n\n    const visitor = provider.visitor\n      ? traverse.visitors.merge([createVisitor(callProvider), provider.visitor])\n      : createVisitor(callProvider);\n\n    if (debug &amp;&amp; debug !== presetEnvSilentDebugHeader) {\n      console.log(`${providerName}: \\`DEBUG\\` option`);\n      console.log(`\\nUsing targets: ${stringifyTargetsMultiline(targets)}`);\n      console.log(`\\nUsing polyfills with \\`${method}\\` method:`);\n    }\n\n    const { runtimeName } = provider;\n\n    return {\n      name: \&quot;inject-polyfills\&quot;,\n      visitor,\n\n      pre(file) {\n        if (runtimeName) {\n          if (\n            file.get(\&quot;runtimeHelpersModuleName\&quot;) &amp;&amp;\n            file.get(\&quot;runtimeHelpersModuleName\&quot;) !== runtimeName\n          ) {\n            console.warn(\n              `Two different polyfill providers` +\n                ` (${file.get(\&quot;runtimeHelpersModuleProvider\&quot;)}` +\n                ` and ${providerName}) are trying to define two` +\n                ` conflicting @babel/runtime alternatives:` +\n                ` ${file.get(\&quot;runtimeHelpersModuleName\&quot;)} and ${runtimeName}.` +\n                ` The second one will be ignored.`,\n            );\n          } else {\n            file.set(\&quot;runtimeHelpersModuleName\&quot;, runtimeName);\n            file.set(\&quot;runtimeHelpersModuleProvider\&quot;, providerName);\n          }\n        }\n\n        debugLog = {\n          polyfills: new Set(),\n          polyfillsSupport: undefined,\n          found: false,\n          providers: new Set(),\n          missingDeps: new Set(),\n        };\n\n        provider.pre?.apply(this, arguments);\n      },\n      post() {\n        provider.post?.apply(this, arguments);\n\n        if (missingDependencies !== false) {\n          if (missingDependencies.log === \&quot;per-file\&quot;) {\n            deps.logMissing(debugLog.missingDeps);\n          } else {\n            deps.laterLogMissing(debugLog.missingDeps);\n          }\n        }\n\n        if (!debug) return;\n\n        if (this.filename) console.log(`\\n[${this.filename}]`);\n\n        if (debugLog.polyfills.size === 0) {\n          console.log(\n            method === \&quot;entry-global\&quot;\n              ? debugLog.found\n                ? `Based on your targets, the ${providerName} polyfill did not add any polyfill.`\n                : `The entry point for the ${providerName} polyfill has not been found.`\n              : `Based on your code and targets, the ${providerName} polyfill did not add any polyfill.`,\n          );\n\n          return;\n        }\n\n        if (method === \&quot;entry-global\&quot;) {\n          console.log(\n            `The ${providerName} polyfill entry has been replaced with ` +\n              `the following polyfills:`,\n          );\n        } else {\n          console.log(\n            `The ${providerName} polyfill added the following polyfills:`,\n          );\n        }\n\n        for (const name of debugLog.polyfills) {\n          if (debugLog.polyfillsSupport?.[name]) {\n            const filteredTargets = getInclusionReasons(\n              name,\n              targets,\n              debugLog.polyfillsSupport,\n            );\n\n            const formattedTargets = JSON.stringify(filteredTargets)\n              .replace(/,/g, \&quot;, \&quot;)\n              .replace(/^\\{\&quot;/, '{ \&quot;')\n              .replace(/\&quot;\\}$/, '\&quot; }');\n\n            console.log(`  ${name} ${formattedTargets}`);\n          } else {\n            console.log(`  ${name}`);\n          }\n        }\n      },\n    };\n  });\n}\n\nfunction mapGetOr(map, key, getDefault) {\n  let val = map.get(key);\n  if (val === undefined) {\n    val = getDefault();\n    map.set(key, val);\n  }\n  return val;\n}\n\nfunction isEmpty(obj) {\n  return Object.keys(obj).length === 0;\n}\n&quot;],&quot;names&quot;:[&quot;types&quot;,&quot;t&quot;,&quot;template&quot;,&quot;_babel&quot;,&quot;default&quot;,&quot;intersection&quot;,&quot;a&quot;,&quot;b&quot;,&quot;result&quot;,&quot;Set&quot;,&quot;forEach&quot;,&quot;v&quot;,&quot;has&quot;,&quot;add&quot;,&quot;object&quot;,&quot;key&quot;,&quot;Object&quot;,&quot;prototype&quot;,&quot;hasOwnProperty&quot;,&quot;call&quot;,&quot;getType&quot;,&quot;target&quot;,&quot;toString&quot;,&quot;slice&quot;,&quot;resolveId&quot;,&quot;path&quot;,&quot;isIdentifier&quot;,&quot;scope&quot;,&quot;hasBinding&quot;,&quot;node&quot;,&quot;name&quot;,&quot;deopt&quot;,&quot;evaluate&quot;,&quot;resolveKey&quot;,&quot;computed&quot;,&quot;isStringLiteral&quot;,&quot;value&quot;,&quot;parent&quot;,&quot;isMemberExpression&quot;,&quot;get&quot;,&quot;sym&quot;,&quot;resolveSource&quot;,&quot;obj&quot;,&quot;id&quot;,&quot;placement&quot;,&quot;undefined&quot;,&quot;isRegExpLiteral&quot;,&quot;isFunction&quot;,&quot;getImportSource&quot;,&quot;specifiers&quot;,&quot;length&quot;,&quot;source&quot;,&quot;getRequireSource&quot;,&quot;isExpressionStatement&quot;,&quot;expression&quot;,&quot;isCallExpression&quot;,&quot;callee&quot;,&quot;arguments&quot;,&quot;hoist&quot;,&quot;_blockHoist&quot;,&quot;createUtilsGetter&quot;,&quot;cache&quot;,&quot;prog&quot;,&quot;findParent&quot;,&quot;p&quot;,&quot;isProgram&quot;,&quot;injectGlobalImport&quot;,&quot;url&quot;,&quot;storeAnonymous&quot;,&quot;isScript&quot;,&quot;statement&quot;,&quot;ast&quot;,&quot;importDeclaration&quot;,&quot;injectNamedImport&quot;,&quot;hint&quot;,&quot;storeNamed&quot;,&quot;generateUidIdentifier&quot;,&quot;importSpecifier&quot;,&quot;injectDefaultImport&quot;,&quot;importDefaultSpecifier&quot;,&quot;ImportsCache&quot;,&quot;constructor&quot;,&quot;resolver&quot;,&quot;_imports&quot;,&quot;WeakMap&quot;,&quot;_anonymousImports&quot;,&quot;_lastImports&quot;,&quot;_resolver&quot;,&quot;programPath&quot;,&quot;getVal&quot;,&quot;_normalizeKey&quot;,&quot;imports&quot;,&quot;_ensure&quot;,&quot;sourceType&quot;,&quot;stringLiteral&quot;,&quot;_injectImport&quot;,&quot;Map&quot;,&quot;identifier&quot;,&quot;set&quot;,&quot;lastImport&quot;,&quot;newNodes&quot;,&quot;container&quot;,&quot;body&quot;,&quot;insertAfter&quot;,&quot;unshiftContainer&quot;,&quot;newNode&quot;,&quot;map&quot;,&quot;Collection&quot;,&quot;collection&quot;,&quot;presetEnvSilentDebugHeader&quot;,&quot;stringifyTargetsMultiline&quot;,&quot;targets&quot;,&quot;JSON&quot;,&quot;stringify&quot;,&quot;prettifyTargets&quot;,&quot;patternToRegExp&quot;,&quot;pattern&quot;,&quot;RegExp&quot;,&quot;buildUnusedError&quot;,&quot;label&quot;,&quot;unused&quot;,&quot;original&quot;,&quot;String&quot;,&quot;join&quot;,&quot;buldDuplicatesError&quot;,&quot;duplicates&quot;,&quot;size&quot;,&quot;Array&quot;,&quot;from&quot;,&quot;validateIncludeExclude&quot;,&quot;provider&quot;,&quot;polyfills&quot;,&quot;includePatterns&quot;,&quot;excludePatterns&quot;,&quot;current&quot;,&quot;filter&quot;,&quot;regexp&quot;,&quot;matched&quot;,&quot;polyfill&quot;,&quot;test&quot;,&quot;include&quot;,&quot;unusedInclude&quot;,&quot;exclude&quot;,&quot;unusedExclude&quot;,&quot;Error&quot;,&quot;applyMissingDependenciesDefaults&quot;,&quot;options&quot;,&quot;babelApi&quot;,&quot;missingDependencies&quot;,&quot;caller&quot;,&quot;log&quot;,&quot;inject&quot;,&quot;all&quot;,&quot;callProvider&quot;,&quot;property&quot;,&quot;kind&quot;,&quot;ReferencedIdentifier&quot;,&quot;getBindingIdentifier&quot;,&quot;MemberExpression&quot;,&quot;binding&quot;,&quot;getBinding&quot;,&quot;isImportNamespaceSpecifier&quot;,&quot;ObjectPattern&quot;,&quot;parentPath&quot;,&quot;isVariableDeclarator&quot;,&quot;isAssignmentExpression&quot;,&quot;grand&quot;,&quot;isNewExpression&quot;,&quot;prop&quot;,&quot;isObjectProperty&quot;,&quot;BinaryExpression&quot;,&quot;operator&quot;,&quot;ImportDeclaration&quot;,&quot;Program&quot;,&quot;bodyPath&quot;,&quot;resolve&quot;,&quot;dirname&quot;,&quot;moduleName&quot;,&quot;absoluteImports&quot;,&quot;basedir&quot;,&quot;logMissing&quot;,&quot;missingDeps&quot;,&quot;laterLogMissing&quot;,&quot;PossibleGlobalObjects&quot;,&quot;createMetaResolver&quot;,&quot;static&quot;,&quot;staticP&quot;,&quot;instance&quot;,&quot;instanceP&quot;,&quot;global&quot;,&quot;globalP&quot;,&quot;meta&quot;,&quot;desc&quot;,&quot;getTargets&quot;,&quot;_getTargets&quot;,&quot;resolveOptions&quot;,&quot;method&quot;,&quot;targetsOption&quot;,&quot;ignoreBrowserslistConfig&quot;,&quot;configPath&quot;,&quot;debug&quot;,&quot;shouldInjectPolyfill&quot;,&quot;providerOptions&quot;,&quot;isEmpty&quot;,&quot;methodName&quot;,&quot;targetsObj&quot;,&quot;isArray&quot;,&quot;browsers&quot;,&quot;instantiateProvider&quot;,&quot;factory&quot;,&quot;debugLog&quot;,&quot;getUtils&quot;,&quot;deps&quot;,&quot;polyfillsSupport&quot;,&quot;polyfillsNames&quot;,&quot;filterPolyfills&quot;,&quot;depsCache&quot;,&quot;api&quot;,&quot;babel&quot;,&quot;console&quot;,&quot;warn&quot;,&quot;providerName&quot;,&quot;shouldInject&quot;,&quot;isRequired&quot;,&quot;compatData&quot;,&quot;includes&quot;,&quot;excludes&quot;,&quot;_debugLog&quot;,&quot;_debugLog$polyfillsSu&quot;,&quot;found&quot;,&quot;assertDependency&quot;,&quot;version&quot;,&quot;dep&quot;,&quot;mapGetOr&quot;,&quot;keys&quot;,&quot;payload&quot;,&quot;utils&quot;,&quot;definePolyfillProvider&quot;,&quot;declare&quot;,&quot;assertVersion&quot;,&quot;traverse&quot;,&quot;createVisitor&quot;,&quot;visitor&quot;,&quot;visitors&quot;,&quot;merge&quot;,&quot;runtimeName&quot;,&quot;pre&quot;,&quot;file&quot;,&quot;_provider$pre&quot;,&quot;providers&quot;,&quot;apply&quot;,&quot;post&quot;,&quot;_provider$post&quot;,&quot;filename&quot;,&quot;_debugLog$polyfillsSu2&quot;,&quot;filteredTargets&quot;,&quot;getInclusionReasons&quot;,&quot;formattedTargets&quot;,&quot;replace&quot;,&quot;getDefault&quot;,&quot;val&quot;],&quot;mappings&quot;:&quot;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&quot;}</span></pre>
</body>
</html>