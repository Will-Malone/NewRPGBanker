<html>
<head>
<title>plugin-utils.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #6897bb; font-style: italic;}
.s3 { color: #cc7832; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
plugin-utils.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;_estree&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;_flow&quot;</span><span class="s0">,</span><span class="s1">&quot;_jsx&quot;</span><span class="s0">,</span><span class="s1">&quot;_typescript&quot;</span><span class="s0">,</span><span class="s1">&quot;_placeholders&quot;</span><span class="s0">,</span><span class="s1">&quot;_v8intrinsic&quot;</span><span class="s0">,</span><span class="s1">&quot;hasPlugin&quot;</span><span class="s0">,</span><span class="s1">&quot;plugins&quot;</span><span class="s0">,</span><span class="s1">&quot;expectedConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;expectedName&quot;</span><span class="s0">,</span><span class="s1">&quot;expectedOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;expectedKeys&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;keys&quot;</span><span class="s0">,</span><span class="s1">&quot;expectedOptionsIsEmpty&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;some&quot;</span><span class="s0">,</span><span class="s1">&quot;p&quot;</span><span class="s0">,</span><span class="s1">&quot;pluginName&quot;</span><span class="s0">,</span><span class="s1">&quot;pluginOptions&quot;</span><span class="s0">,</span><span class="s1">&quot;key&quot;</span><span class="s0">,</span><span class="s1">&quot;getPluginOption&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;option&quot;</span><span class="s0">,</span><span class="s1">&quot;plugin&quot;</span><span class="s0">,</span><span class="s1">&quot;find&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;PIPELINE_PROPOSALS&quot;</span><span class="s0">,</span><span class="s1">&quot;TOPIC_TOKENS&quot;</span><span class="s0">,</span><span class="s1">&quot;RECORD_AND_TUPLE_SYNTAX_TYPES&quot;</span><span class="s0">,</span><span class="s1">&quot;validatePlugins&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;decoratorsBeforeExport&quot;</span><span class="s0">,</span><span class="s1">&quot;allowCallParenthesized&quot;</span><span class="s0">,</span><span class="s1">&quot;proposal&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;proposalList&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;tupleSyntaxIsHash&quot;</span><span class="s0">,</span><span class="s1">&quot;syntaxType&quot;</span><span class="s0">,</span><span class="s1">&quot;topicToken&quot;</span><span class="s0">,</span><span class="s1">&quot;tokenList&quot;</span><span class="s0">,</span><span class="s1">&quot;t&quot;</span><span class="s0">,</span><span class="s1">&quot;moduleAttributesVersionPluginOption&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;missingPlugins&quot;</span><span class="s0">,</span><span class="s1">&quot;mixinPlugins&quot;</span><span class="s0">,</span><span class="s1">&quot;estree&quot;</span><span class="s0">,</span><span class="s1">&quot;jsx&quot;</span><span class="s0">,</span><span class="s1">&quot;flow&quot;</span><span class="s0">,</span><span class="s1">&quot;typescript&quot;</span><span class="s0">,</span><span class="s1">&quot;v8intrinsic&quot;</span><span class="s0">,</span><span class="s1">&quot;placeholders&quot;</span><span class="s0">,</span><span class="s1">&quot;exports&quot;</span><span class="s0">,</span><span class="s1">&quot;mixinPluginNames&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../src/plugin-utils.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type Parser from </span><span class="s3">\&quot;</span><span class="s1">./parser</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import type {</span><span class="s3">\n  </span><span class="s1">ParserPluginWithOptions,</span><span class="s3">\n  </span><span class="s1">PluginConfig,</span><span class="s3">\n  </span><span class="s1">PluginOptions,</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./typings</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export type Plugin = PluginConfig;</span><span class="s3">\n\n</span><span class="s1">export type PluginList = PluginConfig[];</span><span class="s3">\n\n</span><span class="s1">export type MixinPlugin = (superClass: { new (...args: any): Parser }) =&gt; {</span><span class="s3">\n  </span><span class="s1">new (...args: any): Parser;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// This functionâ€™s second parameter accepts either a string (plugin name) or an</span><span class="s3">\n</span><span class="s1">// array pair (plugin name and options object). If an options object is given,</span><span class="s3">\n</span><span class="s1">// then each value is non-recursively checked for identity with the actual</span><span class="s3">\n</span><span class="s1">// option value of each plugin in the first argument (which is an array of</span><span class="s3">\n</span><span class="s1">// plugin names or array pairs).</span><span class="s3">\n</span><span class="s1">export function hasPlugin(</span><span class="s3">\n  </span><span class="s1">plugins: PluginList,</span><span class="s3">\n  </span><span class="s1">expectedConfig: PluginConfig,</span><span class="s3">\n</span><span class="s1">): boolean {</span><span class="s3">\n  </span><span class="s1">// The expectedOptions object is by default an empty object if the given</span><span class="s3">\n  </span><span class="s1">// expectedConfig argument does not give an options object (i.e., if it is a</span><span class="s3">\n  </span><span class="s1">// string).</span><span class="s3">\n  </span><span class="s1">const [expectedName, expectedOptions] =</span><span class="s3">\n    </span><span class="s1">typeof expectedConfig === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">? [expectedConfig, {}] : expectedConfig;</span><span class="s3">\n\n  </span><span class="s1">const expectedKeys = Object.keys(expectedOptions);</span><span class="s3">\n\n  </span><span class="s1">const expectedOptionsIsEmpty = expectedKeys.length === 0;</span><span class="s3">\n\n  </span><span class="s1">return plugins.some(p =&gt; {</span><span class="s3">\n    </span><span class="s1">if (typeof p === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return expectedOptionsIsEmpty &amp;&amp; p === expectedName;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">const [pluginName, pluginOptions] = p;</span><span class="s3">\n      </span><span class="s1">if (pluginName !== expectedName) {</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">for (const key of expectedKeys) {</span><span class="s3">\n        </span><span class="s1">// @ts-expect-error key may not exist in plugin options</span><span class="s3">\n        </span><span class="s1">if (pluginOptions[key] !== expectedOptions[key]) {</span><span class="s3">\n          </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function getPluginOption&lt;</span><span class="s3">\n  </span><span class="s1">PluginName extends ParserPluginWithOptions[0],</span><span class="s3">\n  </span><span class="s1">OptionName extends keyof PluginOptions&lt;PluginName&gt;,</span><span class="s3">\n</span><span class="s1">&gt;(plugins: PluginList, name: PluginName, option: OptionName) {</span><span class="s3">\n  </span><span class="s1">const plugin = plugins.find(plugin =&gt; {</span><span class="s3">\n    </span><span class="s1">if (Array.isArray(plugin)) {</span><span class="s3">\n      </span><span class="s1">return plugin[0] === name;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return plugin === name;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n\n  </span><span class="s1">if (plugin &amp;&amp; Array.isArray(plugin) &amp;&amp; plugin.length &gt; 1) {</span><span class="s3">\n    </span><span class="s1">return (plugin[1] as PluginOptions&lt;PluginName&gt;)[option];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const PIPELINE_PROPOSALS = [</span><span class="s3">\&quot;</span><span class="s1">minimal</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">fsharp</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">hack</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">smart</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">const TOPIC_TOKENS = [</span><span class="s3">\&quot;</span><span class="s1">^^</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">@@</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">const RECORD_AND_TUPLE_SYNTAX_TYPES = [</span><span class="s3">\&quot;</span><span class="s1">hash</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">bar</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n\n</span><span class="s1">export function validatePlugins(plugins: PluginList) {</span><span class="s3">\n  </span><span class="s1">if (hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">decorators</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">if (hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">decorators-legacy</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\n        \&quot;</span><span class="s1">Cannot use the decorators and decorators-legacy plugin together</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const decoratorsBeforeExport = getPluginOption(</span><span class="s3">\n      </span><span class="s1">plugins,</span><span class="s3">\n      \&quot;</span><span class="s1">decorators</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">decoratorsBeforeExport</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">decoratorsBeforeExport != null &amp;&amp;</span><span class="s3">\n      </span><span class="s1">typeof decoratorsBeforeExport !== </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\n        \&quot;</span><span class="s1">'decoratorsBeforeExport' must be a boolean, if specified.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const allowCallParenthesized = getPluginOption(</span><span class="s3">\n      </span><span class="s1">plugins,</span><span class="s3">\n      \&quot;</span><span class="s1">decorators</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">allowCallParenthesized</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">allowCallParenthesized != null &amp;&amp;</span><span class="s3">\n      </span><span class="s1">typeof allowCallParenthesized !== </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;\n    </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">'allowCallParenthesized' must be a boolean.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">flow</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp; hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">typescript</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Cannot combine flow and typescript plugins.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">placeholders</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp; hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">v8intrinsic</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Cannot combine placeholders and v8intrinsic plugins.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">pipelineOperator</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">const proposal = getPluginOption(plugins, </span><span class="s3">\&quot;</span><span class="s1">pipelineOperator</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">proposal</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (!PIPELINE_PROPOSALS.includes(proposal)) {</span><span class="s3">\n      </span><span class="s1">const proposalList = PIPELINE_PROPOSALS.map(p =&gt; `</span><span class="s3">\&quot;</span><span class="s1">${p}</span><span class="s3">\&quot;</span><span class="s1">`).join(</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\n        </span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">pipelineOperator</span><span class="s3">\&quot; </span><span class="s1">requires </span><span class="s3">\&quot;</span><span class="s1">proposal</span><span class="s3">\&quot; </span><span class="s1">option whose value must be one of: ${proposalList}.`,</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const tupleSyntaxIsHash = hasPlugin(plugins, [</span><span class="s3">\n      \&quot;</span><span class="s1">recordAndTuple</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">{ syntaxType: </span><span class="s3">\&quot;</span><span class="s1">hash</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">]);</span><span class="s3">\n\n    </span><span class="s1">if (proposal === </span><span class="s3">\&quot;</span><span class="s1">hack</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">if (hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">placeholders</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\n          \&quot;</span><span class="s1">Cannot combine placeholders plugin and Hack-style pipes.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">v8intrinsic</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\n          \&quot;</span><span class="s1">Cannot combine v8intrinsic plugin and Hack-style pipes.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">const topicToken = getPluginOption(</span><span class="s3">\n        </span><span class="s1">plugins,</span><span class="s3">\n        \&quot;</span><span class="s1">pipelineOperator</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        \&quot;</span><span class="s1">topicToken</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">if (!TOPIC_TOKENS.includes(topicToken)) {</span><span class="s3">\n        </span><span class="s1">const tokenList = TOPIC_TOKENS.map(t =&gt; `</span><span class="s3">\&quot;</span><span class="s1">${t}</span><span class="s3">\&quot;</span><span class="s1">`).join(</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">throw new Error(</span><span class="s3">\n          </span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">pipelineOperator</span><span class="s3">\&quot; </span><span class="s1">in </span><span class="s3">\&quot;</span><span class="s1">proposal</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">hack</span><span class="s3">\&quot; </span><span class="s1">mode also requires a </span><span class="s3">\&quot;</span><span class="s1">topicToken</span><span class="s3">\&quot; </span><span class="s1">option whose value must be one of: ${tokenList}.`,</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (topicToken === </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; tupleSyntaxIsHash) {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\n          </span><span class="s1">'Plugin conflict between `[</span><span class="s3">\&quot;</span><span class="s1">pipelineOperator</span><span class="s3">\&quot;</span><span class="s1">, { proposal: </span><span class="s3">\&quot;</span><span class="s1">hack</span><span class="s3">\&quot;</span><span class="s1">, topicToken: </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">}]` and `[</span><span class="s3">\&quot;</span><span class="s1">recordAndtuple</span><span class="s3">\&quot;</span><span class="s1">, { syntaxType: </span><span class="s3">\&quot;</span><span class="s1">hash</span><span class="s3">\&quot;</span><span class="s1">}]`.',</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (proposal === </span><span class="s3">\&quot;</span><span class="s1">smart</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; tupleSyntaxIsHash) {</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\n        </span><span class="s1">'Plugin conflict between `[</span><span class="s3">\&quot;</span><span class="s1">pipelineOperator</span><span class="s3">\&quot;</span><span class="s1">, { proposal: </span><span class="s3">\&quot;</span><span class="s1">smart</span><span class="s3">\&quot; </span><span class="s1">}]` and `[</span><span class="s3">\&quot;</span><span class="s1">recordAndtuple</span><span class="s3">\&quot;</span><span class="s1">, { syntaxType: </span><span class="s3">\&quot;</span><span class="s1">hash</span><span class="s3">\&quot;</span><span class="s1">}]`.',</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">moduleAttributes</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">if (process.env.BABEL_8_BREAKING) {</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\n        \&quot;</span><span class="s1">`moduleAttributes` has been removed in Babel 8, please use `importAttributes` parser plugin, or `@babel/plugin-syntax-import-attributes`.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">if (</span><span class="s3">\n        </span><span class="s1">hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">importAssertions</span><span class="s3">\&quot;</span><span class="s1">) ||</span><span class="s3">\n        </span><span class="s1">hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">importAttributes</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\n          \&quot;</span><span class="s1">Cannot combine importAssertions, importAttributes and moduleAttributes plugins.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">const moduleAttributesVersionPluginOption = getPluginOption(</span><span class="s3">\n        </span><span class="s1">plugins,</span><span class="s3">\n        \&quot;</span><span class="s1">moduleAttributes</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        \&quot;</span><span class="s1">version</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">if (moduleAttributesVersionPluginOption !== </span><span class="s3">\&quot;</span><span class="s1">may-2020</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\n          \&quot;</span><span class="s1">The 'moduleAttributes' plugin requires a 'version' option,</span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n            \&quot; </span><span class="s1">representing the last proposal update. Currently, the</span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n            \&quot; </span><span class="s1">only supported value is 'may-2020'.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">importAssertions</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp;</span><span class="s3">\n    </span><span class="s1">hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">importAttributes</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\n      \&quot;</span><span class="s1">Cannot combine importAssertions and importAttributes plugins.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">recordAndTuple</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp;</span><span class="s3">\n    </span><span class="s1">getPluginOption(plugins, </span><span class="s3">\&quot;</span><span class="s1">recordAndTuple</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">syntaxType</span><span class="s3">\&quot;</span><span class="s1">) != null &amp;&amp;</span><span class="s3">\n    </span><span class="s1">!RECORD_AND_TUPLE_SYNTAX_TYPES.includes(</span><span class="s3">\n      </span><span class="s1">getPluginOption(plugins, </span><span class="s3">\&quot;</span><span class="s1">recordAndTuple</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">syntaxType</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\n      \&quot;</span><span class="s1">The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: </span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n        </span><span class="s1">RECORD_AND_TUPLE_SYNTAX_TYPES.map(p =&gt; `'${p}'`).join(</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">asyncDoExpressions</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp;</span><span class="s3">\n    </span><span class="s1">!hasPlugin(plugins, </span><span class="s3">\&quot;</span><span class="s1">doExpressions</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const error = new Error(</span><span class="s3">\n      \&quot;</span><span class="s1">'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">// @ts-expect-error so @babel/core can provide better error message</span><span class="s3">\n    </span><span class="s1">error.missingPlugins = </span><span class="s3">\&quot;</span><span class="s1">doExpressions</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">throw error;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// These plugins are defined using a mixin which extends the parser class.</span><span class="s3">\n\n</span><span class="s1">import estree from </span><span class="s3">\&quot;</span><span class="s1">./plugins/estree</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import flow from </span><span class="s3">\&quot;</span><span class="s1">./plugins/flow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import jsx from </span><span class="s3">\&quot;</span><span class="s1">./plugins/jsx</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import typescript from </span><span class="s3">\&quot;</span><span class="s1">./plugins/typescript</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import placeholders from </span><span class="s3">\&quot;</span><span class="s1">./plugins/placeholders</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import v8intrinsic from </span><span class="s3">\&quot;</span><span class="s1">./plugins/v8intrinsic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// NOTE: order is important. estree must come first; placeholders must come last.</span><span class="s3">\n</span><span class="s1">export const mixinPlugins = {</span><span class="s3">\n  </span><span class="s1">estree,</span><span class="s3">\n  </span><span class="s1">jsx,</span><span class="s3">\n  </span><span class="s1">flow,</span><span class="s3">\n  </span><span class="s1">typescript,</span><span class="s3">\n  </span><span class="s1">v8intrinsic,</span><span class="s3">\n  </span><span class="s1">placeholders,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export const mixinPluginNames = Object.keys(mixinPlugins) as ReadonlyArray&lt;</span><span class="s3">\n  \&quot;</span><span class="s1">estree</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">jsx</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">flow</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">typescript</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">v8intrinsic</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">placeholders</span><span class="s3">\&quot;\n</span><span class="s1">&gt;;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">}</span></pre>
</body>
</html>