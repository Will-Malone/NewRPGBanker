<html>
<head>
<title>regexps-uri.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #cc7832;}
.s3 { color: #4646f1;}
.s4 { color: #808080;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
regexps-uri.js</font>
</center></td></tr></table>
<pre><span class="s0">import { merge, subexp } from </span><span class="s1">&quot;./util&quot;</span><span class="s0">;</span>
<span class="s0">export </span><span class="s2">function </span><span class="s0">buildExps(isIRI) {</span>
    <span class="s0">const ALPHA$$ = </span><span class="s1">&quot;[A-Za-z]&quot;</span><span class="s0">, CR$ = </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">x0D]&quot;</span><span class="s0">, DIGIT$$ = </span><span class="s1">&quot;[0-9]&quot;</span><span class="s0">, DQUOTE$$ = </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">x22]&quot;</span><span class="s0">, HEXDIG$$ = merge(DIGIT$$, </span><span class="s1">&quot;[A-Fa-f]&quot;</span><span class="s0">), </span><span class="s4">//case-insensitive</span>
    <span class="s0">LF$$ = </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">x0A]&quot;</span><span class="s0">, SP$$ = </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">x20]&quot;</span><span class="s0">, PCT_ENCODED$ = subexp(subexp(</span><span class="s1">&quot;%[EFef]&quot; </span><span class="s0">+ HEXDIG$$ + </span><span class="s1">&quot;%&quot; </span><span class="s0">+ HEXDIG$$ + HEXDIG$$ + </span><span class="s1">&quot;%&quot; </span><span class="s0">+ HEXDIG$$ + HEXDIG$$) + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;%[89A-Fa-f]&quot; </span><span class="s0">+ HEXDIG$$ + </span><span class="s1">&quot;%&quot; </span><span class="s0">+ HEXDIG$$ + HEXDIG$$) + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;%&quot; </span><span class="s0">+ HEXDIG$$ + HEXDIG$$)), </span><span class="s4">//expanded</span>
    <span class="s0">GEN_DELIMS$$ = </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">?</span><span class="s3">\\</span><span class="s1">#</span><span class="s3">\\</span><span class="s1">[</span><span class="s3">\\</span><span class="s1">]</span><span class="s3">\\</span><span class="s1">@]&quot;</span><span class="s0">, SUB_DELIMS$$ = </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">!</span><span class="s3">\\</span><span class="s1">$</span><span class="s3">\\</span><span class="s1">&amp;</span><span class="s3">\\</span><span class="s1">'</span><span class="s3">\\</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">)</span><span class="s3">\\</span><span class="s1">*</span><span class="s3">\\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">,</span><span class="s3">\\</span><span class="s1">;</span><span class="s3">\\</span><span class="s1">=]&quot;</span><span class="s0">, RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$), UCSCHAR$$ = isIRI ? </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">xA0-</span><span class="s3">\\</span><span class="s1">u200D</span><span class="s3">\\</span><span class="s1">u2010-</span><span class="s3">\\</span><span class="s1">u2029</span><span class="s3">\\</span><span class="s1">u202F-</span><span class="s3">\\</span><span class="s1">uD7FF</span><span class="s3">\\</span><span class="s1">uF900-</span><span class="s3">\\</span><span class="s1">uFDCF</span><span class="s3">\\</span><span class="s1">uFDF0-</span><span class="s3">\\</span><span class="s1">uFFEF]&quot; </span><span class="s0">: </span><span class="s1">&quot;[]&quot;</span><span class="s0">, </span><span class="s4">//subset, excludes bidi control characters</span>
    <span class="s0">IPRIVATE$$ = isIRI ? </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">uE000-</span><span class="s3">\\</span><span class="s1">uF8FF]&quot; </span><span class="s0">: </span><span class="s1">&quot;[]&quot;</span><span class="s0">, </span><span class="s4">//subset</span>
    <span class="s0">UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">-</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">_</span><span class="s3">\\</span><span class="s1">~]&quot;</span><span class="s0">, UCSCHAR$$), SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">-</span><span class="s3">\\</span><span class="s1">.]&quot;</span><span class="s0">) + </span><span class="s1">&quot;*&quot;</span><span class="s0">), USERINFO$ = subexp(subexp(PCT_ENCODED$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ merge(UNRESERVED$$, SUB_DELIMS$$, </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">:]&quot;</span><span class="s0">)) + </span><span class="s1">&quot;*&quot;</span><span class="s0">), DEC_OCTET$ = subexp(subexp(</span><span class="s1">&quot;25[0-5]&quot;</span><span class="s0">) + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;2[0-4]&quot; </span><span class="s0">+ DIGIT$$) + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;1&quot; </span><span class="s0">+ DIGIT$$ + DIGIT$$) + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;[1-9]&quot; </span><span class="s0">+ DIGIT$$) + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ DIGIT$$), DEC_OCTET_RELAXED$ = subexp(subexp(</span><span class="s1">&quot;25[0-5]&quot;</span><span class="s0">) + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;2[0-4]&quot; </span><span class="s0">+ DIGIT$$) + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;1&quot; </span><span class="s0">+ DIGIT$$ + DIGIT$$) + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;0?[1-9]&quot; </span><span class="s0">+ DIGIT$$) + </span><span class="s1">&quot;|0?0?&quot; </span><span class="s0">+ DIGIT$$), </span><span class="s4">//relaxed parsing rules</span>
    <span class="s0">IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">.&quot; </span><span class="s0">+ DEC_OCTET_RELAXED$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">.&quot; </span><span class="s0">+ DEC_OCTET_RELAXED$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">.&quot; </span><span class="s0">+ DEC_OCTET_RELAXED$), H16$ = subexp(HEXDIG$$ + </span><span class="s1">&quot;{1,4}&quot;</span><span class="s0">), LS32$ = subexp(subexp(H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ H16$) + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ IPV4ADDRESS$), IPV6ADDRESS1$ = subexp(subexp(H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot;</span><span class="s0">) + </span><span class="s1">&quot;{6}&quot; </span><span class="s0">+ LS32$), </span><span class="s4">//                           6( h16 &quot;:&quot; ) ls32</span>
    <span class="s0">IPV6ADDRESS2$ = subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ subexp(H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot;</span><span class="s0">) + </span><span class="s1">&quot;{5}&quot; </span><span class="s0">+ LS32$), </span><span class="s4">//                      &quot;::&quot; 5( h16 &quot;:&quot; ) ls32</span>
    <span class="s0">IPV6ADDRESS3$ = subexp(subexp(H16$) + </span><span class="s1">&quot;?</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ subexp(H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot;</span><span class="s0">) + </span><span class="s1">&quot;{4}&quot; </span><span class="s0">+ LS32$), </span><span class="s4">//[               h16 ] &quot;::&quot; 4( h16 &quot;:&quot; ) ls32</span>
    <span class="s0">IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot;</span><span class="s0">) + </span><span class="s1">&quot;{0,1}&quot; </span><span class="s0">+ H16$) + </span><span class="s1">&quot;?</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ subexp(H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot;</span><span class="s0">) + </span><span class="s1">&quot;{3}&quot; </span><span class="s0">+ LS32$), </span><span class="s4">//[ *1( h16 &quot;:&quot; ) h16 ] &quot;::&quot; 3( h16 &quot;:&quot; ) ls32</span>
    <span class="s0">IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot;</span><span class="s0">) + </span><span class="s1">&quot;{0,2}&quot; </span><span class="s0">+ H16$) + </span><span class="s1">&quot;?</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ subexp(H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot;</span><span class="s0">) + </span><span class="s1">&quot;{2}&quot; </span><span class="s0">+ LS32$), </span><span class="s4">//[ *2( h16 &quot;:&quot; ) h16 ] &quot;::&quot; 2( h16 &quot;:&quot; ) ls32</span>
    <span class="s0">IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot;</span><span class="s0">) + </span><span class="s1">&quot;{0,3}&quot; </span><span class="s0">+ H16$) + </span><span class="s1">&quot;?</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ LS32$), </span><span class="s4">//[ *3( h16 &quot;:&quot; ) h16 ] &quot;::&quot;    h16 &quot;:&quot;   ls32</span>
    <span class="s0">IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot;</span><span class="s0">) + </span><span class="s1">&quot;{0,4}&quot; </span><span class="s0">+ H16$) + </span><span class="s1">&quot;?</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ LS32$), </span><span class="s4">//[ *4( h16 &quot;:&quot; ) h16 ] &quot;::&quot;              ls32</span>
    <span class="s0">IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot;</span><span class="s0">) + </span><span class="s1">&quot;{0,5}&quot; </span><span class="s0">+ H16$) + </span><span class="s1">&quot;?</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ H16$), </span><span class="s4">//[ *5( h16 &quot;:&quot; ) h16 ] &quot;::&quot;              h16</span>
    <span class="s0">IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot;</span><span class="s0">) + </span><span class="s1">&quot;{0,6}&quot; </span><span class="s0">+ H16$) + </span><span class="s1">&quot;?</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">:&quot;</span><span class="s0">), </span><span class="s4">//[ *6( h16 &quot;:&quot; ) h16 ] &quot;::&quot;</span>
    <span class="s0">IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(</span><span class="s1">&quot;|&quot;</span><span class="s0">)), ZONEID$ = subexp(subexp(UNRESERVED$$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PCT_ENCODED$) + </span><span class="s1">&quot;+&quot;</span><span class="s0">), </span><span class="s4">//RFC 6874</span>
    <span class="s0">IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">%25&quot; </span><span class="s0">+ ZONEID$), </span><span class="s4">//RFC 6874</span>
    <span class="s0">IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">%25|</span><span class="s3">\\</span><span class="s1">%(?!&quot; </span><span class="s0">+ HEXDIG$$ + </span><span class="s1">&quot;{2})&quot;</span><span class="s0">) + ZONEID$), </span><span class="s4">//RFC 6874, with relaxed parsing rules</span>
    <span class="s0">IPVFUTURE$ = subexp(</span><span class="s1">&quot;[vV]&quot; </span><span class="s0">+ HEXDIG$$ + </span><span class="s1">&quot;+</span><span class="s3">\\</span><span class="s1">.&quot; </span><span class="s0">+ merge(UNRESERVED$$, SUB_DELIMS$$, </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">:]&quot;</span><span class="s0">) + </span><span class="s1">&quot;+&quot;</span><span class="s0">), IP_LITERAL$ = subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">[&quot; </span><span class="s0">+ subexp(IPV6ADDRZ_RELAXED$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ IPV6ADDRESS$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ IPVFUTURE$) + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">]&quot;</span><span class="s0">), </span><span class="s4">//RFC 6874</span>
    <span class="s0">REG_NAME$ = subexp(subexp(PCT_ENCODED$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ merge(UNRESERVED$$, SUB_DELIMS$$)) + </span><span class="s1">&quot;*&quot;</span><span class="s0">), HOST$ = subexp(IP_LITERAL$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ IPV4ADDRESS$ + </span><span class="s1">&quot;(?!&quot; </span><span class="s0">+ REG_NAME$ + </span><span class="s1">&quot;)&quot; </span><span class="s0">+ </span><span class="s1">&quot;|&quot; </span><span class="s0">+ REG_NAME$), PORT$ = subexp(DIGIT$$ + </span><span class="s1">&quot;*&quot;</span><span class="s0">), AUTHORITY$ = subexp(subexp(USERINFO$ + </span><span class="s1">&quot;@&quot;</span><span class="s0">) + </span><span class="s1">&quot;?&quot; </span><span class="s0">+ HOST$ + subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ PORT$) + </span><span class="s1">&quot;?&quot;</span><span class="s0">), PCHAR$ = subexp(PCT_ENCODED$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ merge(UNRESERVED$$, SUB_DELIMS$$, </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">@]&quot;</span><span class="s0">)), SEGMENT$ = subexp(PCHAR$ + </span><span class="s1">&quot;*&quot;</span><span class="s0">), SEGMENT_NZ$ = subexp(PCHAR$ + </span><span class="s1">&quot;+&quot;</span><span class="s0">), SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ merge(UNRESERVED$$, SUB_DELIMS$$, </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">@]&quot;</span><span class="s0">)) + </span><span class="s1">&quot;+&quot;</span><span class="s0">), PATH_ABEMPTY$ = subexp(subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">/&quot; </span><span class="s0">+ SEGMENT$) + </span><span class="s1">&quot;*&quot;</span><span class="s0">), PATH_ABSOLUTE$ = subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">/&quot; </span><span class="s0">+ subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + </span><span class="s1">&quot;?&quot;</span><span class="s0">), </span><span class="s4">//simplified</span>
    <span class="s0">PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$), </span><span class="s4">//simplified</span>
    <span class="s0">PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$), </span><span class="s4">//simplified</span>
    <span class="s0">PATH_EMPTY$ = </span><span class="s1">&quot;(?!&quot; </span><span class="s0">+ PCHAR$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">, PATH$ = subexp(PATH_ABEMPTY$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_ABSOLUTE$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_NOSCHEME$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_ROOTLESS$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_EMPTY$), QUERY$ = subexp(subexp(PCHAR$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ merge(</span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">?]&quot;</span><span class="s0">, IPRIVATE$$)) + </span><span class="s1">&quot;*&quot;</span><span class="s0">), FRAGMENT$ = subexp(subexp(PCHAR$ + </span><span class="s1">&quot;|[</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">?]&quot;</span><span class="s0">) + </span><span class="s1">&quot;*&quot;</span><span class="s0">), HIER_PART$ = subexp(subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/&quot; </span><span class="s0">+ AUTHORITY$ + PATH_ABEMPTY$) + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_ABSOLUTE$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_ROOTLESS$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_EMPTY$), URI$ = subexp(SCHEME$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ HIER_PART$ + subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">?&quot; </span><span class="s0">+ QUERY$) + </span><span class="s1">&quot;?&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">#&quot; </span><span class="s0">+ FRAGMENT$) + </span><span class="s1">&quot;?&quot;</span><span class="s0">), RELATIVE_PART$ = subexp(subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/&quot; </span><span class="s0">+ AUTHORITY$ + PATH_ABEMPTY$) + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_ABSOLUTE$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_NOSCHEME$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_EMPTY$), RELATIVE$ = subexp(RELATIVE_PART$ + subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">?&quot; </span><span class="s0">+ QUERY$) + </span><span class="s1">&quot;?&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">#&quot; </span><span class="s0">+ FRAGMENT$) + </span><span class="s1">&quot;?&quot;</span><span class="s0">), URI_REFERENCE$ = subexp(URI$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ RELATIVE$), ABSOLUTE_URI$ = subexp(SCHEME$ + </span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ HIER_PART$ + subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">?&quot; </span><span class="s0">+ QUERY$) + </span><span class="s1">&quot;?&quot;</span><span class="s0">), GENERIC_REF$ = </span><span class="s1">&quot;^(&quot; </span><span class="s0">+ SCHEME$ + </span><span class="s1">&quot;)</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ subexp(subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/(&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;(&quot; </span><span class="s0">+ USERINFO$ + </span><span class="s1">&quot;)@&quot;</span><span class="s0">) + </span><span class="s1">&quot;?(&quot; </span><span class="s0">+ HOST$ + </span><span class="s1">&quot;)&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:(&quot; </span><span class="s0">+ PORT$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?(&quot; </span><span class="s0">+ PATH_ABEMPTY$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_ABSOLUTE$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_ROOTLESS$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_EMPTY$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">?(&quot; </span><span class="s0">+ QUERY$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">#(&quot; </span><span class="s0">+ FRAGMENT$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?$&quot;</span><span class="s0">, RELATIVE_REF$ = </span><span class="s1">&quot;^(){0}&quot; </span><span class="s0">+ subexp(subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/(&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;(&quot; </span><span class="s0">+ USERINFO$ + </span><span class="s1">&quot;)@&quot;</span><span class="s0">) + </span><span class="s1">&quot;?(&quot; </span><span class="s0">+ HOST$ + </span><span class="s1">&quot;)&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:(&quot; </span><span class="s0">+ PORT$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?(&quot; </span><span class="s0">+ PATH_ABEMPTY$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_ABSOLUTE$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_NOSCHEME$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_EMPTY$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">?(&quot; </span><span class="s0">+ QUERY$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">#(&quot; </span><span class="s0">+ FRAGMENT$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?$&quot;</span><span class="s0">, ABSOLUTE_REF$ = </span><span class="s1">&quot;^(&quot; </span><span class="s0">+ SCHEME$ + </span><span class="s1">&quot;)</span><span class="s3">\\</span><span class="s1">:&quot; </span><span class="s0">+ subexp(subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/(&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;(&quot; </span><span class="s0">+ USERINFO$ + </span><span class="s1">&quot;)@&quot;</span><span class="s0">) + </span><span class="s1">&quot;?(&quot; </span><span class="s0">+ HOST$ + </span><span class="s1">&quot;)&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:(&quot; </span><span class="s0">+ PORT$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?(&quot; </span><span class="s0">+ PATH_ABEMPTY$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_ABSOLUTE$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_ROOTLESS$ + </span><span class="s1">&quot;|&quot; </span><span class="s0">+ PATH_EMPTY$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">?(&quot; </span><span class="s0">+ QUERY$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?$&quot;</span><span class="s0">, SAMEDOC_REF$ = </span><span class="s1">&quot;^&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">#(&quot; </span><span class="s0">+ FRAGMENT$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?$&quot;</span><span class="s0">, AUTHORITY_REF$ = </span><span class="s1">&quot;^&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;(&quot; </span><span class="s0">+ USERINFO$ + </span><span class="s1">&quot;)@&quot;</span><span class="s0">) + </span><span class="s1">&quot;?(&quot; </span><span class="s0">+ HOST$ + </span><span class="s1">&quot;)&quot; </span><span class="s0">+ subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">:(&quot; </span><span class="s0">+ PORT$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?$&quot;</span><span class="s0">;</span>
    <span class="s2">return </span><span class="s0">{</span>
        <span class="s0">NOT_SCHEME: </span><span class="s2">new </span><span class="s0">RegExp(merge(</span><span class="s1">&quot;[^]&quot;</span><span class="s0">, ALPHA$$, DIGIT$$, </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">-</span><span class="s3">\\</span><span class="s1">.]&quot;</span><span class="s0">), </span><span class="s1">&quot;g&quot;</span><span class="s0">),</span>
        <span class="s0">NOT_USERINFO: </span><span class="s2">new </span><span class="s0">RegExp(merge(</span><span class="s1">&quot;[^</span><span class="s3">\\</span><span class="s1">%</span><span class="s3">\\</span><span class="s1">:]&quot;</span><span class="s0">, UNRESERVED$$, SUB_DELIMS$$), </span><span class="s1">&quot;g&quot;</span><span class="s0">),</span>
        <span class="s0">NOT_HOST: </span><span class="s2">new </span><span class="s0">RegExp(merge(</span><span class="s1">&quot;[^</span><span class="s3">\\</span><span class="s1">%</span><span class="s3">\\</span><span class="s1">[</span><span class="s3">\\</span><span class="s1">]</span><span class="s3">\\</span><span class="s1">:]&quot;</span><span class="s0">, UNRESERVED$$, SUB_DELIMS$$), </span><span class="s1">&quot;g&quot;</span><span class="s0">),</span>
        <span class="s0">NOT_PATH: </span><span class="s2">new </span><span class="s0">RegExp(merge(</span><span class="s1">&quot;[^</span><span class="s3">\\</span><span class="s1">%</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">@]&quot;</span><span class="s0">, UNRESERVED$$, SUB_DELIMS$$), </span><span class="s1">&quot;g&quot;</span><span class="s0">),</span>
        <span class="s0">NOT_PATH_NOSCHEME: </span><span class="s2">new </span><span class="s0">RegExp(merge(</span><span class="s1">&quot;[^</span><span class="s3">\\</span><span class="s1">%</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">@]&quot;</span><span class="s0">, UNRESERVED$$, SUB_DELIMS$$), </span><span class="s1">&quot;g&quot;</span><span class="s0">),</span>
        <span class="s0">NOT_QUERY: </span><span class="s2">new </span><span class="s0">RegExp(merge(</span><span class="s1">&quot;[^</span><span class="s3">\\</span><span class="s1">%]&quot;</span><span class="s0">, UNRESERVED$$, SUB_DELIMS$$, </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">@</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">?]&quot;</span><span class="s0">, IPRIVATE$$), </span><span class="s1">&quot;g&quot;</span><span class="s0">),</span>
        <span class="s0">NOT_FRAGMENT: </span><span class="s2">new </span><span class="s0">RegExp(merge(</span><span class="s1">&quot;[^</span><span class="s3">\\</span><span class="s1">%]&quot;</span><span class="s0">, UNRESERVED$$, SUB_DELIMS$$, </span><span class="s1">&quot;[</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">@</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">?]&quot;</span><span class="s0">), </span><span class="s1">&quot;g&quot;</span><span class="s0">),</span>
        <span class="s0">ESCAPE: </span><span class="s2">new </span><span class="s0">RegExp(merge(</span><span class="s1">&quot;[^]&quot;</span><span class="s0">, UNRESERVED$$, SUB_DELIMS$$), </span><span class="s1">&quot;g&quot;</span><span class="s0">),</span>
        <span class="s0">UNRESERVED: </span><span class="s2">new </span><span class="s0">RegExp(UNRESERVED$$, </span><span class="s1">&quot;g&quot;</span><span class="s0">),</span>
        <span class="s0">OTHER_CHARS: </span><span class="s2">new </span><span class="s0">RegExp(merge(</span><span class="s1">&quot;[^</span><span class="s3">\\</span><span class="s1">%]&quot;</span><span class="s0">, UNRESERVED$$, RESERVED$$), </span><span class="s1">&quot;g&quot;</span><span class="s0">),</span>
        <span class="s0">PCT_ENCODED: </span><span class="s2">new </span><span class="s0">RegExp(PCT_ENCODED$, </span><span class="s1">&quot;g&quot;</span><span class="s0">),</span>
        <span class="s0">IPV4ADDRESS: </span><span class="s2">new </span><span class="s0">RegExp(</span><span class="s1">&quot;^(&quot; </span><span class="s0">+ IPV4ADDRESS$ + </span><span class="s1">&quot;)$&quot;</span><span class="s0">),</span>
        <span class="s0">IPV6ADDRESS: </span><span class="s2">new </span><span class="s0">RegExp(</span><span class="s1">&quot;^</span><span class="s3">\\</span><span class="s1">[?(&quot; </span><span class="s0">+ IPV6ADDRESS$ + </span><span class="s1">&quot;)&quot; </span><span class="s0">+ subexp(subexp(</span><span class="s1">&quot;</span><span class="s3">\\</span><span class="s1">%25|</span><span class="s3">\\</span><span class="s1">%(?!&quot; </span><span class="s0">+ HEXDIG$$ + </span><span class="s1">&quot;{2})&quot;</span><span class="s0">) + </span><span class="s1">&quot;(&quot; </span><span class="s0">+ ZONEID$ + </span><span class="s1">&quot;)&quot;</span><span class="s0">) + </span><span class="s1">&quot;?</span><span class="s3">\\</span><span class="s1">]?$&quot;</span><span class="s0">) </span><span class="s4">//RFC 6874, with relaxed parsing rules</span>
    <span class="s0">};</span>
<span class="s0">}</span>
<span class="s0">export </span><span class="s2">default </span><span class="s0">buildExps(</span><span class="s2">false</span><span class="s0">);</span>
<span class="s4">//# sourceMappingURL=regexps-uri.js.map</span></pre>
</body>
</html>