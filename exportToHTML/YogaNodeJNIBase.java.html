<html>
<head>
<title>YogaNodeJNIBase.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #cc7832;}
.s3 { color: #6897bb;}
.s4 { color: #6a8759;}
.s5 { color: #629755; font-style: italic;}
.s6 { color: #629755; font-weight: bold; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
YogaNodeJNIBase.java</font>
</center></td></tr></table>
<pre><span class="s0">/* 
 * Copyright (c) Meta Platforms, Inc. and affiliates. 
 * 
 * This source code is licensed under the MIT license found in the 
 * LICENSE file in the root directory of this source tree. 
 */</span>

<span class="s2">package </span><span class="s1">com.facebook.yoga</span><span class="s2">;</span>

<span class="s2">import </span><span class="s1">com.facebook.yoga.annotations.DoNotStrip</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.util.ArrayList</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.util.List</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">javax.annotation.Nullable</span><span class="s2">;</span>

<span class="s1">@DoNotStrip</span>
<span class="s2">public abstract class </span><span class="s1">YogaNodeJNIBase </span><span class="s2">extends </span><span class="s1">YogaNode </span><span class="s2">implements </span><span class="s1">Cloneable {</span>

  <span class="s0">/* Those flags needs be in sync with YGJNI.h */</span>
  <span class="s2">private static final byte </span><span class="s1">MARGIN = </span><span class="s3">1</span><span class="s2">;</span>
  <span class="s2">private static final byte </span><span class="s1">PADDING = </span><span class="s3">2</span><span class="s2">;</span>
  <span class="s2">private static final byte </span><span class="s1">BORDER = </span><span class="s3">4</span><span class="s2">;</span>
  <span class="s2">private static final byte </span><span class="s1">HAS_NEW_LAYOUT = </span><span class="s3">16</span><span class="s2">;</span>

  <span class="s2">private static final byte </span><span class="s1">LAYOUT_EDGE_SET_FLAG_INDEX = </span><span class="s3">0</span><span class="s2">;</span>
  <span class="s2">private static final byte </span><span class="s1">LAYOUT_WIDTH_INDEX = </span><span class="s3">1</span><span class="s2">;</span>
  <span class="s2">private static final byte </span><span class="s1">LAYOUT_HEIGHT_INDEX = </span><span class="s3">2</span><span class="s2">;</span>
  <span class="s2">private static final byte </span><span class="s1">LAYOUT_LEFT_INDEX = </span><span class="s3">3</span><span class="s2">;</span>
  <span class="s2">private static final byte </span><span class="s1">LAYOUT_TOP_INDEX = </span><span class="s3">4</span><span class="s2">;</span>
  <span class="s2">private static final byte </span><span class="s1">LAYOUT_DIRECTION_INDEX = </span><span class="s3">5</span><span class="s2">;</span>
  <span class="s2">private static final byte </span><span class="s1">LAYOUT_MARGIN_START_INDEX = </span><span class="s3">6</span><span class="s2">;</span>
  <span class="s2">private static final byte </span><span class="s1">LAYOUT_PADDING_START_INDEX = </span><span class="s3">10</span><span class="s2">;</span>
  <span class="s2">private static final byte </span><span class="s1">LAYOUT_BORDER_START_INDEX = </span><span class="s3">14</span><span class="s2">;</span>

  <span class="s1">@Nullable </span><span class="s2">private </span><span class="s1">YogaNodeJNIBase mOwner</span><span class="s2">;</span>
  <span class="s1">@Nullable </span><span class="s2">private </span><span class="s1">List&lt;YogaNodeJNIBase&gt; mChildren</span><span class="s2">;</span>
  <span class="s1">@Nullable </span><span class="s2">private </span><span class="s1">YogaMeasureFunction mMeasureFunction</span><span class="s2">;</span>
  <span class="s1">@Nullable </span><span class="s2">private </span><span class="s1">YogaBaselineFunction mBaselineFunction</span><span class="s2">;</span>
  <span class="s2">protected long </span><span class="s1">mNativePointer</span><span class="s2">;</span>
  <span class="s1">@Nullable </span><span class="s2">private </span><span class="s1">Object mData</span><span class="s2">;</span>

  <span class="s1">@DoNotStrip </span><span class="s2">private </span><span class="s1">@Nullable </span><span class="s2">float</span><span class="s1">[] arr = </span><span class="s2">null;</span>

  <span class="s1">@DoNotStrip </span><span class="s2">private int </span><span class="s1">mLayoutDirection = </span><span class="s3">0</span><span class="s2">;</span>

  <span class="s2">private boolean </span><span class="s1">mHasNewLayout = </span><span class="s2">true;</span>

  <span class="s2">private </span><span class="s1">YogaNodeJNIBase(</span><span class="s2">long </span><span class="s1">nativePointer) {</span>
    <span class="s2">if </span><span class="s1">(nativePointer == </span><span class="s3">0</span><span class="s1">) {</span>
      <span class="s2">throw new </span><span class="s1">IllegalStateException(</span><span class="s4">&quot;Failed to allocate native memory&quot;</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>
    <span class="s1">mNativePointer = nativePointer</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">YogaNodeJNIBase() {</span>
    <span class="s2">this</span><span class="s1">(YogaNative.jni_YGNodeNewJNI())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">YogaNodeJNIBase(YogaConfig config) {</span>
    <span class="s2">this</span><span class="s1">(YogaNative.jni_YGNodeNewWithConfigJNI(((YogaConfigJNIBase) config).mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">reset() {</span>
    <span class="s1">mMeasureFunction = </span><span class="s2">null;</span>
    <span class="s1">mBaselineFunction = </span><span class="s2">null;</span>
    <span class="s1">mData = </span><span class="s2">null;</span>
    <span class="s1">arr = </span><span class="s2">null;</span>
    <span class="s1">mHasNewLayout = </span><span class="s2">true;</span>
    <span class="s1">mLayoutDirection = </span><span class="s3">0</span><span class="s2">;</span>

    <span class="s1">YogaNative.jni_YGNodeResetJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public int </span><span class="s1">getChildCount() {</span>
    <span class="s2">return </span><span class="s1">mChildren == </span><span class="s2">null </span><span class="s1">? </span><span class="s3">0 </span><span class="s1">: mChildren.size()</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaNodeJNIBase getChildAt(</span><span class="s2">int </span><span class="s1">i) {</span>
    <span class="s2">if </span><span class="s1">(mChildren == </span><span class="s2">null</span><span class="s1">) {</span>
      <span class="s2">throw new </span><span class="s1">IllegalStateException(</span><span class="s4">&quot;YogaNode does not have children&quot;</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>
    <span class="s2">return </span><span class="s1">mChildren.get(i)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">addChildAt(YogaNode c</span><span class="s2">, int </span><span class="s1">i) {</span>
    <span class="s2">if </span><span class="s1">(!(c </span><span class="s2">instanceof </span><span class="s1">YogaNodeJNIBase)) {</span>
      <span class="s2">return;</span>
    <span class="s1">}</span>
    <span class="s1">YogaNodeJNIBase child = (YogaNodeJNIBase) c</span><span class="s2">;</span>
    <span class="s2">if </span><span class="s1">(child.mOwner != </span><span class="s2">null</span><span class="s1">) {</span>
      <span class="s2">throw new </span><span class="s1">IllegalStateException(</span><span class="s4">&quot;Child already has a parent, it must be removed first.&quot;</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">if </span><span class="s1">(mChildren == </span><span class="s2">null</span><span class="s1">) {</span>
      <span class="s1">mChildren = </span><span class="s2">new </span><span class="s1">ArrayList&lt;&gt;(</span><span class="s3">4</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>
    <span class="s1">mChildren.add(i</span><span class="s2">, </span><span class="s1">child)</span><span class="s2">;</span>
    <span class="s1">child.mOwner = </span><span class="s2">this;</span>
    <span class="s1">YogaNative.jni_YGNodeInsertChildJNI(mNativePointer</span><span class="s2">, </span><span class="s1">child.mNativePointer</span><span class="s2">, </span><span class="s1">i)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setIsReferenceBaseline(</span><span class="s2">boolean </span><span class="s1">isReferenceBaseline) {</span>
    <span class="s1">YogaNative.jni_YGNodeSetIsReferenceBaselineJNI(mNativePointer</span><span class="s2">, </span><span class="s1">isReferenceBaseline)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public boolean </span><span class="s1">isReferenceBaseline() {</span>
    <span class="s2">return </span><span class="s1">YogaNative.jni_YGNodeIsReferenceBaselineJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">swapChildAt(YogaNode newChild</span><span class="s2">, int </span><span class="s1">position) {</span>
    <span class="s2">if </span><span class="s1">(!(newChild </span><span class="s2">instanceof </span><span class="s1">YogaNodeJNIBase)) {</span>
      <span class="s2">return;</span>
    <span class="s1">}</span>
    <span class="s1">YogaNodeJNIBase child = (YogaNodeJNIBase) newChild</span><span class="s2">;</span>
    <span class="s1">mChildren.remove(position)</span><span class="s2">;</span>
    <span class="s1">mChildren.add(position</span><span class="s2">, </span><span class="s1">child)</span><span class="s2">;</span>
    <span class="s1">child.mOwner = </span><span class="s2">this;</span>
    <span class="s1">YogaNative.jni_YGNodeSwapChildJNI(mNativePointer</span><span class="s2">, </span><span class="s1">child.mNativePointer</span><span class="s2">, </span><span class="s1">position)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public </span><span class="s1">YogaNodeJNIBase cloneWithChildren() {</span>
    <span class="s2">try </span><span class="s1">{</span>
      <span class="s1">YogaNodeJNIBase clonedYogaNode = (YogaNodeJNIBase) </span><span class="s2">super</span><span class="s1">.clone()</span><span class="s2">;</span>
      <span class="s2">if </span><span class="s1">(clonedYogaNode.mChildren != </span><span class="s2">null</span><span class="s1">) {</span>
        <span class="s1">clonedYogaNode.mChildren = </span><span class="s2">new </span><span class="s1">ArrayList&lt;&gt;(clonedYogaNode.mChildren)</span><span class="s2">;</span>
      <span class="s1">}</span>
      <span class="s2">long </span><span class="s1">clonedNativePointer = YogaNative.jni_YGNodeCloneJNI(mNativePointer)</span><span class="s2">;</span>
      <span class="s1">clonedYogaNode.mOwner = </span><span class="s2">null;</span>
      <span class="s1">clonedYogaNode.mNativePointer = clonedNativePointer</span><span class="s2">;</span>
      <span class="s2">for </span><span class="s1">(</span><span class="s2">int </span><span class="s1">i = </span><span class="s3">0</span><span class="s2">; </span><span class="s1">i &lt; clonedYogaNode.getChildCount()</span><span class="s2">; </span><span class="s1">i++) {</span>
        <span class="s1">clonedYogaNode.swapChildAt(clonedYogaNode.getChildAt(i).cloneWithChildren()</span><span class="s2">, </span><span class="s1">i)</span><span class="s2">;</span>
      <span class="s1">}</span>

      <span class="s2">return </span><span class="s1">clonedYogaNode</span><span class="s2">;</span>
    <span class="s1">} </span><span class="s2">catch </span><span class="s1">(CloneNotSupportedException ex) {</span>
      <span class="s0">// This class implements Cloneable, this should not happen</span>
      <span class="s2">throw new </span><span class="s1">RuntimeException(ex)</span><span class="s2">;</span>
    <span class="s1">}</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public </span><span class="s1">YogaNodeJNIBase cloneWithoutChildren() {</span>
    <span class="s2">try </span><span class="s1">{</span>
      <span class="s1">YogaNodeJNIBase clonedYogaNode = (YogaNodeJNIBase) </span><span class="s2">super</span><span class="s1">.clone()</span><span class="s2">;</span>
      <span class="s2">long </span><span class="s1">clonedNativePointer = YogaNative.jni_YGNodeCloneJNI(mNativePointer)</span><span class="s2">;</span>
      <span class="s1">clonedYogaNode.mOwner = </span><span class="s2">null;</span>
      <span class="s1">clonedYogaNode.mNativePointer = clonedNativePointer</span><span class="s2">;</span>
      <span class="s1">clonedYogaNode.clearChildren()</span><span class="s2">;</span>
      <span class="s2">return </span><span class="s1">clonedYogaNode</span><span class="s2">;</span>
    <span class="s1">} </span><span class="s2">catch </span><span class="s1">(CloneNotSupportedException ex) {</span>
      <span class="s0">// This class implements Cloneable, this should not happen</span>
      <span class="s2">throw new </span><span class="s1">RuntimeException(ex)</span><span class="s2">;</span>
    <span class="s1">}</span>
  <span class="s1">}</span>

  <span class="s2">private void </span><span class="s1">clearChildren() {</span>
    <span class="s1">mChildren = </span><span class="s2">null;</span>
    <span class="s1">YogaNative.jni_YGNodeClearChildrenJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaNodeJNIBase removeChildAt(</span><span class="s2">int </span><span class="s1">i) {</span>
    <span class="s2">if </span><span class="s1">(mChildren == </span><span class="s2">null</span><span class="s1">) {</span>
      <span class="s2">throw new </span><span class="s1">IllegalStateException(</span>
          <span class="s4">&quot;Trying to remove a child of a YogaNode that does not have children&quot;</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>
    <span class="s2">final </span><span class="s1">YogaNodeJNIBase child = mChildren.remove(i)</span><span class="s2">;</span>
    <span class="s1">child.mOwner = </span><span class="s2">null;</span>
    <span class="s1">YogaNative.jni_YGNodeRemoveChildJNI(mNativePointer</span><span class="s2">, </span><span class="s1">child.mNativePointer)</span><span class="s2">;</span>
    <span class="s2">return </span><span class="s1">child</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s5">/**</span>
   <span class="s5">* The owner is used to identify the YogaTree that a {</span><span class="s6">@link </span><span class="s5">YogaNode} belongs to. This method will</span>
   <span class="s5">* return the parent of the {</span><span class="s6">@link </span><span class="s5">YogaNode} when the {</span><span class="s6">@link </span><span class="s5">YogaNode} only belongs to one</span>
   <span class="s5">* YogaTree or null when the {</span><span class="s6">@link </span><span class="s5">YogaNode} is shared between two or more YogaTrees.</span>
   <span class="s5">*</span>
   <span class="s5">* </span><span class="s6">@return </span><span class="s5">the {</span><span class="s6">@link </span><span class="s5">YogaNode} that owns this {</span><span class="s6">@link </span><span class="s5">YogaNode}.</span>
   <span class="s5">*/</span>
  <span class="s1">@Nullable</span>
  <span class="s2">public </span><span class="s1">YogaNodeJNIBase getOwner() {</span>
    <span class="s2">return </span><span class="s1">mOwner</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s5">/** </span><span class="s6">@deprecated </span><span class="s5">Use #getOwner() instead. This will be removed in the next version. */</span>
  <span class="s1">@Deprecated</span>
  <span class="s1">@Nullable</span>
  <span class="s2">public </span><span class="s1">YogaNodeJNIBase getParent() {</span>
    <span class="s2">return </span><span class="s1">getOwner()</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public int </span><span class="s1">indexOf(YogaNode child) {</span>
    <span class="s2">return </span><span class="s1">mChildren == </span><span class="s2">null </span><span class="s1">? -</span><span class="s3">1 </span><span class="s1">: mChildren.indexOf(child)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">calculateLayout(</span><span class="s2">float </span><span class="s1">width</span><span class="s2">, float </span><span class="s1">height) {</span>
    <span class="s2">long</span><span class="s1">[] nativePointers = </span><span class="s2">null;</span>
    <span class="s1">YogaNodeJNIBase[] nodes = </span><span class="s2">null;</span>

    <span class="s1">freeze(</span><span class="s2">null</span><span class="s1">)</span><span class="s2">;</span>

    <span class="s1">ArrayList&lt;YogaNodeJNIBase&gt; n = </span><span class="s2">new </span><span class="s1">ArrayList&lt;&gt;()</span><span class="s2">;</span>
    <span class="s1">n.add(</span><span class="s2">this</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s2">for </span><span class="s1">(</span><span class="s2">int </span><span class="s1">i = </span><span class="s3">0</span><span class="s2">; </span><span class="s1">i &lt; n.size()</span><span class="s2">; </span><span class="s1">++i) {</span>
      <span class="s2">final </span><span class="s1">YogaNodeJNIBase parent = n.get(i)</span><span class="s2">;</span>
      <span class="s1">List&lt;YogaNodeJNIBase&gt; children = parent.mChildren</span><span class="s2">;</span>
      <span class="s2">if </span><span class="s1">(children != </span><span class="s2">null</span><span class="s1">) {</span>
        <span class="s2">for </span><span class="s1">(YogaNodeJNIBase child : children) {</span>
          <span class="s1">child.freeze(parent)</span><span class="s2">;</span>
          <span class="s1">n.add(child)</span><span class="s2">;</span>
        <span class="s1">}</span>
      <span class="s1">}</span>
    <span class="s1">}</span>

    <span class="s1">nodes = n.toArray(</span><span class="s2">new </span><span class="s1">YogaNodeJNIBase[n.size()])</span><span class="s2">;</span>
    <span class="s1">nativePointers = </span><span class="s2">new long</span><span class="s1">[nodes.length]</span><span class="s2">;</span>
    <span class="s2">for </span><span class="s1">(</span><span class="s2">int </span><span class="s1">i = </span><span class="s3">0</span><span class="s2">; </span><span class="s1">i &lt; nodes.length</span><span class="s2">; </span><span class="s1">++i) {</span>
      <span class="s1">nativePointers[i] = nodes[i].mNativePointer</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s1">YogaNative.jni_YGNodeCalculateLayoutJNI(mNativePointer</span><span class="s2">, </span><span class="s1">width</span><span class="s2">, </span><span class="s1">height</span><span class="s2">, </span><span class="s1">nativePointers</span><span class="s2">, </span><span class="s1">nodes)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">private void </span><span class="s1">freeze(YogaNode parent) {</span>
    <span class="s1">Object data = getData()</span><span class="s2">;</span>
    <span class="s2">if </span><span class="s1">(data </span><span class="s2">instanceof </span><span class="s1">Inputs) {</span>
      <span class="s1">((Inputs) data).freeze(</span><span class="s2">this, </span><span class="s1">parent)</span><span class="s2">;</span>
    <span class="s1">}</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">dirty() {</span>
    <span class="s1">YogaNative.jni_YGNodeMarkDirtyJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">dirtyAllDescendants() {</span>
    <span class="s1">YogaNative.jni_YGNodeMarkDirtyAndPropogateToDescendantsJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public boolean </span><span class="s1">isDirty() {</span>
    <span class="s2">return </span><span class="s1">YogaNative.jni_YGNodeIsDirtyJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public void </span><span class="s1">copyStyle(YogaNode srcNode) {</span>
    <span class="s2">if </span><span class="s1">(!(srcNode </span><span class="s2">instanceof </span><span class="s1">YogaNodeJNIBase)) {</span>
      <span class="s2">return;</span>
    <span class="s1">}</span>
    <span class="s1">YogaNative.jni_YGNodeCopyStyleJNI(mNativePointer</span><span class="s2">, </span><span class="s1">((YogaNodeJNIBase) srcNode).mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaDirection getStyleDirection() {</span>
    <span class="s2">return </span><span class="s1">YogaDirection.fromInt(YogaNative.jni_YGNodeStyleGetDirectionJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setDirection(YogaDirection direction) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetDirectionJNI(mNativePointer</span><span class="s2">, </span><span class="s1">direction.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaFlexDirection getFlexDirection() {</span>
    <span class="s2">return </span><span class="s1">YogaFlexDirection.fromInt(YogaNative.jni_YGNodeStyleGetFlexDirectionJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setFlexDirection(YogaFlexDirection flexDirection) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetFlexDirectionJNI(mNativePointer</span><span class="s2">, </span><span class="s1">flexDirection.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaJustify getJustifyContent() {</span>
    <span class="s2">return </span><span class="s1">YogaJustify.fromInt(YogaNative.jni_YGNodeStyleGetJustifyContentJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setJustifyContent(YogaJustify justifyContent) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetJustifyContentJNI(mNativePointer</span><span class="s2">, </span><span class="s1">justifyContent.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaAlign getAlignItems() {</span>
    <span class="s2">return </span><span class="s1">YogaAlign.fromInt(YogaNative.jni_YGNodeStyleGetAlignItemsJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setAlignItems(YogaAlign alignItems) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetAlignItemsJNI(mNativePointer</span><span class="s2">, </span><span class="s1">alignItems.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaAlign getAlignSelf() {</span>
    <span class="s2">return </span><span class="s1">YogaAlign.fromInt(YogaNative.jni_YGNodeStyleGetAlignSelfJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setAlignSelf(YogaAlign alignSelf) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetAlignSelfJNI(mNativePointer</span><span class="s2">, </span><span class="s1">alignSelf.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaAlign getAlignContent() {</span>
    <span class="s2">return </span><span class="s1">YogaAlign.fromInt(YogaNative.jni_YGNodeStyleGetAlignContentJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setAlignContent(YogaAlign alignContent) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetAlignContentJNI(mNativePointer</span><span class="s2">, </span><span class="s1">alignContent.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaPositionType getPositionType() {</span>
    <span class="s2">return </span><span class="s1">YogaPositionType.fromInt(YogaNative.jni_YGNodeStyleGetPositionTypeJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setPositionType(YogaPositionType positionType) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetPositionTypeJNI(mNativePointer</span><span class="s2">, </span><span class="s1">positionType.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaWrap getWrap() {</span>
    <span class="s2">return </span><span class="s1">YogaWrap.fromInt(YogaNative.jni_YGNodeStyleGetFlexWrapJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setWrap(YogaWrap flexWrap) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetFlexWrapJNI(mNativePointer</span><span class="s2">, </span><span class="s1">flexWrap.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaOverflow getOverflow() {</span>
    <span class="s2">return </span><span class="s1">YogaOverflow.fromInt(YogaNative.jni_YGNodeStyleGetOverflowJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setOverflow(YogaOverflow overflow) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetOverflowJNI(mNativePointer</span><span class="s2">, </span><span class="s1">overflow.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaDisplay getDisplay() {</span>
    <span class="s2">return </span><span class="s1">YogaDisplay.fromInt(YogaNative.jni_YGNodeStyleGetDisplayJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setDisplay(YogaDisplay display) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetDisplayJNI(mNativePointer</span><span class="s2">, </span><span class="s1">display.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public float </span><span class="s1">getFlex() {</span>
    <span class="s2">return </span><span class="s1">YogaNative.jni_YGNodeStyleGetFlexJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setFlex(</span><span class="s2">float </span><span class="s1">flex) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetFlexJNI(mNativePointer</span><span class="s2">, </span><span class="s1">flex)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public float </span><span class="s1">getFlexGrow() {</span>
    <span class="s2">return </span><span class="s1">YogaNative.jni_YGNodeStyleGetFlexGrowJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setFlexGrow(</span><span class="s2">float </span><span class="s1">flexGrow) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetFlexGrowJNI(mNativePointer</span><span class="s2">, </span><span class="s1">flexGrow)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public float </span><span class="s1">getFlexShrink() {</span>
    <span class="s2">return </span><span class="s1">YogaNative.jni_YGNodeStyleGetFlexShrinkJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setFlexShrink(</span><span class="s2">float </span><span class="s1">flexShrink) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetFlexShrinkJNI(mNativePointer</span><span class="s2">, </span><span class="s1">flexShrink)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaValue getFlexBasis() {</span>
    <span class="s2">return </span><span class="s1">valueFromLong(YogaNative.jni_YGNodeStyleGetFlexBasisJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setFlexBasis(</span><span class="s2">float </span><span class="s1">flexBasis) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetFlexBasisJNI(mNativePointer</span><span class="s2">, </span><span class="s1">flexBasis)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setFlexBasisPercent(</span><span class="s2">float </span><span class="s1">percent) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetFlexBasisPercentJNI(mNativePointer</span><span class="s2">, </span><span class="s1">percent)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setFlexBasisAuto() {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetFlexBasisAutoJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaValue getMargin(YogaEdge edge) {</span>
    <span class="s2">return </span><span class="s1">valueFromLong(YogaNative.jni_YGNodeStyleGetMarginJNI(mNativePointer</span><span class="s2">, </span><span class="s1">edge.intValue()))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setMargin(YogaEdge edge</span><span class="s2">, float </span><span class="s1">margin) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetMarginJNI(mNativePointer</span><span class="s2">, </span><span class="s1">edge.intValue()</span><span class="s2">, </span><span class="s1">margin)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setMarginPercent(YogaEdge edge</span><span class="s2">, float </span><span class="s1">percent) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetMarginPercentJNI(mNativePointer</span><span class="s2">, </span><span class="s1">edge.intValue()</span><span class="s2">, </span><span class="s1">percent)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setMarginAuto(YogaEdge edge) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetMarginAutoJNI(mNativePointer</span><span class="s2">, </span><span class="s1">edge.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaValue getPadding(YogaEdge edge) {</span>
    <span class="s2">return </span><span class="s1">valueFromLong(YogaNative.jni_YGNodeStyleGetPaddingJNI(mNativePointer</span><span class="s2">, </span><span class="s1">edge.intValue()))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setPadding(YogaEdge edge</span><span class="s2">, float </span><span class="s1">padding) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetPaddingJNI(mNativePointer</span><span class="s2">, </span><span class="s1">edge.intValue()</span><span class="s2">, </span><span class="s1">padding)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setPaddingPercent(YogaEdge edge</span><span class="s2">, float </span><span class="s1">percent) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetPaddingPercentJNI(mNativePointer</span><span class="s2">, </span><span class="s1">edge.intValue()</span><span class="s2">, </span><span class="s1">percent)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public float </span><span class="s1">getBorder(YogaEdge edge) {</span>
    <span class="s2">return </span><span class="s1">YogaNative.jni_YGNodeStyleGetBorderJNI(mNativePointer</span><span class="s2">, </span><span class="s1">edge.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setBorder(YogaEdge edge</span><span class="s2">, float </span><span class="s1">border) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetBorderJNI(mNativePointer</span><span class="s2">, </span><span class="s1">edge.intValue()</span><span class="s2">, </span><span class="s1">border)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaValue getPosition(YogaEdge edge) {</span>
    <span class="s2">return </span><span class="s1">valueFromLong(YogaNative.jni_YGNodeStyleGetPositionJNI(mNativePointer</span><span class="s2">, </span><span class="s1">edge.intValue()))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setPosition(YogaEdge edge</span><span class="s2">, float </span><span class="s1">position) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetPositionJNI(mNativePointer</span><span class="s2">, </span><span class="s1">edge.intValue()</span><span class="s2">, </span><span class="s1">position)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setPositionPercent(YogaEdge edge</span><span class="s2">, float </span><span class="s1">percent) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetPositionPercentJNI(mNativePointer</span><span class="s2">, </span><span class="s1">edge.intValue()</span><span class="s2">, </span><span class="s1">percent)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaValue getWidth() {</span>
    <span class="s2">return </span><span class="s1">valueFromLong(YogaNative.jni_YGNodeStyleGetWidthJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setWidth(</span><span class="s2">float </span><span class="s1">width) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetWidthJNI(mNativePointer</span><span class="s2">, </span><span class="s1">width)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setWidthPercent(</span><span class="s2">float </span><span class="s1">percent) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetWidthPercentJNI(mNativePointer</span><span class="s2">, </span><span class="s1">percent)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setWidthAuto() {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetWidthAutoJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaValue getHeight() {</span>
    <span class="s2">return </span><span class="s1">valueFromLong(YogaNative.jni_YGNodeStyleGetHeightJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setHeight(</span><span class="s2">float </span><span class="s1">height) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetHeightJNI(mNativePointer</span><span class="s2">, </span><span class="s1">height)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setHeightPercent(</span><span class="s2">float </span><span class="s1">percent) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetHeightPercentJNI(mNativePointer</span><span class="s2">, </span><span class="s1">percent)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setHeightAuto() {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetHeightAutoJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaValue getMinWidth() {</span>
    <span class="s2">return </span><span class="s1">valueFromLong(YogaNative.jni_YGNodeStyleGetMinWidthJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setMinWidth(</span><span class="s2">float </span><span class="s1">minWidth) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetMinWidthJNI(mNativePointer</span><span class="s2">, </span><span class="s1">minWidth)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setMinWidthPercent(</span><span class="s2">float </span><span class="s1">percent) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetMinWidthPercentJNI(mNativePointer</span><span class="s2">, </span><span class="s1">percent)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaValue getMinHeight() {</span>
    <span class="s2">return </span><span class="s1">valueFromLong(YogaNative.jni_YGNodeStyleGetMinHeightJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setMinHeight(</span><span class="s2">float </span><span class="s1">minHeight) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetMinHeightJNI(mNativePointer</span><span class="s2">, </span><span class="s1">minHeight)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setMinHeightPercent(</span><span class="s2">float </span><span class="s1">percent) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetMinHeightPercentJNI(mNativePointer</span><span class="s2">, </span><span class="s1">percent)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaValue getMaxWidth() {</span>
    <span class="s2">return </span><span class="s1">valueFromLong(YogaNative.jni_YGNodeStyleGetMaxWidthJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setMaxWidth(</span><span class="s2">float </span><span class="s1">maxWidth) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetMaxWidthJNI(mNativePointer</span><span class="s2">, </span><span class="s1">maxWidth)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setMaxWidthPercent(</span><span class="s2">float </span><span class="s1">percent) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetMaxWidthPercentJNI(mNativePointer</span><span class="s2">, </span><span class="s1">percent)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public </span><span class="s1">YogaValue getMaxHeight() {</span>
    <span class="s2">return </span><span class="s1">valueFromLong(YogaNative.jni_YGNodeStyleGetMaxHeightJNI(mNativePointer))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setMaxHeight(</span><span class="s2">float </span><span class="s1">maxheight) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetMaxHeightJNI(mNativePointer</span><span class="s2">, </span><span class="s1">maxheight)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setMaxHeightPercent(</span><span class="s2">float </span><span class="s1">percent) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetMaxHeightPercentJNI(mNativePointer</span><span class="s2">, </span><span class="s1">percent)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public float </span><span class="s1">getAspectRatio() {</span>
    <span class="s2">return </span><span class="s1">YogaNative.jni_YGNodeStyleGetAspectRatioJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setAspectRatio(</span><span class="s2">float </span><span class="s1">aspectRatio) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetAspectRatioJNI(mNativePointer</span><span class="s2">, </span><span class="s1">aspectRatio)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setMeasureFunction(YogaMeasureFunction measureFunction) {</span>
    <span class="s1">mMeasureFunction = measureFunction</span><span class="s2">;</span>
    <span class="s1">YogaNative.jni_YGNodeSetHasMeasureFuncJNI(mNativePointer</span><span class="s2">, </span><span class="s1">measureFunction != </span><span class="s2">null</span><span class="s1">)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s0">// Implementation Note: Why this method needs to stay final</span>
  <span class="s0">//</span>
  <span class="s0">// We cache the jmethodid for this method in Yoga code. This means that even if a subclass</span>
  <span class="s0">// were to override measure, we'd still call this implementation from layout code since the</span>
  <span class="s0">// overriding method will have a different jmethodid. This is final to prevent that mistake.</span>
  <span class="s1">@DoNotStrip</span>
  <span class="s2">public final long </span><span class="s1">measure(</span><span class="s2">float </span><span class="s1">width</span><span class="s2">, int </span><span class="s1">widthMode</span><span class="s2">, float </span><span class="s1">height</span><span class="s2">, int </span><span class="s1">heightMode) {</span>
    <span class="s2">if </span><span class="s1">(!isMeasureDefined()) {</span>
      <span class="s2">throw new </span><span class="s1">RuntimeException(</span><span class="s4">&quot;Measure function isn't defined!&quot;</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>

    <span class="s2">return </span><span class="s1">mMeasureFunction.measure(</span>
        <span class="s2">this,</span>
        <span class="s1">width</span><span class="s2">,</span>
        <span class="s1">YogaMeasureMode.fromInt(widthMode)</span><span class="s2">,</span>
        <span class="s1">height</span><span class="s2">,</span>
        <span class="s1">YogaMeasureMode.fromInt(heightMode))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setBaselineFunction(YogaBaselineFunction baselineFunction) {</span>
    <span class="s1">mBaselineFunction = baselineFunction</span><span class="s2">;</span>
    <span class="s1">YogaNative.jni_YGNodeSetHasBaselineFuncJNI(mNativePointer</span><span class="s2">, </span><span class="s1">baselineFunction != </span><span class="s2">null</span><span class="s1">)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">@DoNotStrip</span>
  <span class="s2">public final float </span><span class="s1">baseline(</span><span class="s2">float </span><span class="s1">width</span><span class="s2">, float </span><span class="s1">height) {</span>
    <span class="s2">return </span><span class="s1">mBaselineFunction.baseline(</span><span class="s2">this, </span><span class="s1">width</span><span class="s2">, </span><span class="s1">height)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">public boolean </span><span class="s1">isMeasureDefined() {</span>
    <span class="s2">return </span><span class="s1">mMeasureFunction != </span><span class="s2">null;</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public boolean </span><span class="s1">isBaselineDefined() {</span>
    <span class="s2">return </span><span class="s1">mBaselineFunction != </span><span class="s2">null;</span>
  <span class="s1">}</span>

  <span class="s2">public void </span><span class="s1">setData(Object data) {</span>
    <span class="s1">mData = data</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public </span><span class="s1">@Nullable Object getData() {</span>
    <span class="s2">return </span><span class="s1">mData</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Use the set logger (defaults to adb log) to print out the styles, children, and computed layout</span>
   <span class="s5">* of the tree rooted at this node.</span>
   <span class="s5">*/</span>
  <span class="s2">public void </span><span class="s1">print() {</span>
    <span class="s1">YogaNative.jni_YGNodePrintJNI(mNativePointer)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s5">/**</span>
   <span class="s5">* This method replaces the child at childIndex position with the newNode received by parameter.</span>
   <span class="s5">* This is different than calling removeChildAt and addChildAt because this method ONLY replaces</span>
   <span class="s5">* the child in the mChildren datastructure. @DoNotStrip: called from JNI</span>
   <span class="s5">*</span>
   <span class="s5">* </span><span class="s6">@return </span><span class="s5">the nativePointer of the newNode {</span><span class="s6">@link </span><span class="s5">YogaNode}</span>
   <span class="s5">*/</span>
  <span class="s1">@DoNotStrip</span>
  <span class="s2">private final long </span><span class="s1">replaceChild(YogaNodeJNIBase newNode</span><span class="s2">, int </span><span class="s1">childIndex) {</span>
    <span class="s2">if </span><span class="s1">(mChildren == </span><span class="s2">null</span><span class="s1">) {</span>
      <span class="s2">throw new </span><span class="s1">IllegalStateException(</span><span class="s4">&quot;Cannot replace child. YogaNode does not have children&quot;</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>
    <span class="s1">mChildren.remove(childIndex)</span><span class="s2">;</span>
    <span class="s1">mChildren.add(childIndex</span><span class="s2">, </span><span class="s1">newNode)</span><span class="s2">;</span>
    <span class="s1">newNode.mOwner = </span><span class="s2">this;</span>
    <span class="s2">return </span><span class="s1">newNode.mNativePointer</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s2">private static </span><span class="s1">YogaValue valueFromLong(</span><span class="s2">long </span><span class="s1">raw) {</span>
    <span class="s2">return new </span><span class="s1">YogaValue(Float.intBitsToFloat((</span><span class="s2">int</span><span class="s1">) raw)</span><span class="s2">, </span><span class="s1">(</span><span class="s2">int</span><span class="s1">) (raw &gt;&gt; </span><span class="s3">32</span><span class="s1">))</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public float </span><span class="s1">getLayoutX() {</span>
    <span class="s2">return </span><span class="s1">arr != </span><span class="s2">null </span><span class="s1">? arr[LAYOUT_LEFT_INDEX] : </span><span class="s3">0</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public float </span><span class="s1">getLayoutY() {</span>
    <span class="s2">return </span><span class="s1">arr != </span><span class="s2">null </span><span class="s1">? arr[LAYOUT_TOP_INDEX] : </span><span class="s3">0</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public float </span><span class="s1">getLayoutWidth() {</span>
    <span class="s2">return </span><span class="s1">arr != </span><span class="s2">null </span><span class="s1">? arr[LAYOUT_WIDTH_INDEX] : </span><span class="s3">0</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public float </span><span class="s1">getLayoutHeight() {</span>
    <span class="s2">return </span><span class="s1">arr != </span><span class="s2">null </span><span class="s1">? arr[LAYOUT_HEIGHT_INDEX] : </span><span class="s3">0</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public float </span><span class="s1">getLayoutMargin(YogaEdge edge) {</span>
    <span class="s2">if </span><span class="s1">(arr != </span><span class="s2">null </span><span class="s1">&amp;&amp; ((</span><span class="s2">int</span><span class="s1">) arr[LAYOUT_EDGE_SET_FLAG_INDEX] &amp; MARGIN) == MARGIN) {</span>
      <span class="s2">switch </span><span class="s1">(edge) {</span>
        <span class="s2">case </span><span class="s1">LEFT:</span>
          <span class="s2">return </span><span class="s1">arr[LAYOUT_MARGIN_START_INDEX]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">TOP:</span>
          <span class="s2">return </span><span class="s1">arr[LAYOUT_MARGIN_START_INDEX + </span><span class="s3">1</span><span class="s1">]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">RIGHT:</span>
          <span class="s2">return </span><span class="s1">arr[LAYOUT_MARGIN_START_INDEX + </span><span class="s3">2</span><span class="s1">]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">BOTTOM:</span>
          <span class="s2">return </span><span class="s1">arr[LAYOUT_MARGIN_START_INDEX + </span><span class="s3">3</span><span class="s1">]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">START:</span>
          <span class="s2">return </span><span class="s1">getLayoutDirection() == YogaDirection.RTL</span>
              <span class="s1">? arr[LAYOUT_MARGIN_START_INDEX + </span><span class="s3">2</span><span class="s1">]</span>
              <span class="s1">: arr[LAYOUT_MARGIN_START_INDEX]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">END:</span>
          <span class="s2">return </span><span class="s1">getLayoutDirection() == YogaDirection.RTL</span>
              <span class="s1">? arr[LAYOUT_MARGIN_START_INDEX]</span>
              <span class="s1">: arr[LAYOUT_MARGIN_START_INDEX + </span><span class="s3">2</span><span class="s1">]</span><span class="s2">;</span>
        <span class="s2">default</span><span class="s1">:</span>
          <span class="s2">throw new </span><span class="s1">IllegalArgumentException(</span><span class="s4">&quot;Cannot get layout margins of multi-edge shorthands&quot;</span><span class="s1">)</span><span class="s2">;</span>
      <span class="s1">}</span>
    <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
      <span class="s2">return </span><span class="s3">0</span><span class="s2">;</span>
    <span class="s1">}</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public float </span><span class="s1">getLayoutPadding(YogaEdge edge) {</span>
    <span class="s2">if </span><span class="s1">(arr != </span><span class="s2">null </span><span class="s1">&amp;&amp; ((</span><span class="s2">int</span><span class="s1">) arr[LAYOUT_EDGE_SET_FLAG_INDEX] &amp; PADDING) == PADDING) {</span>
      <span class="s2">int </span><span class="s1">paddingStartIndex =</span>
          <span class="s1">LAYOUT_PADDING_START_INDEX</span>
              <span class="s1">- ((((</span><span class="s2">int</span><span class="s1">) arr[LAYOUT_EDGE_SET_FLAG_INDEX] &amp; MARGIN) == MARGIN) ? </span><span class="s3">0 </span><span class="s1">: </span><span class="s3">4</span><span class="s1">)</span><span class="s2">;</span>
      <span class="s2">switch </span><span class="s1">(edge) {</span>
        <span class="s2">case </span><span class="s1">LEFT:</span>
          <span class="s2">return </span><span class="s1">arr[paddingStartIndex]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">TOP:</span>
          <span class="s2">return </span><span class="s1">arr[paddingStartIndex + </span><span class="s3">1</span><span class="s1">]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">RIGHT:</span>
          <span class="s2">return </span><span class="s1">arr[paddingStartIndex + </span><span class="s3">2</span><span class="s1">]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">BOTTOM:</span>
          <span class="s2">return </span><span class="s1">arr[paddingStartIndex + </span><span class="s3">3</span><span class="s1">]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">START:</span>
          <span class="s2">return </span><span class="s1">getLayoutDirection() == YogaDirection.RTL</span>
              <span class="s1">? arr[paddingStartIndex + </span><span class="s3">2</span><span class="s1">]</span>
              <span class="s1">: arr[paddingStartIndex]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">END:</span>
          <span class="s2">return </span><span class="s1">getLayoutDirection() == YogaDirection.RTL</span>
              <span class="s1">? arr[paddingStartIndex]</span>
              <span class="s1">: arr[paddingStartIndex + </span><span class="s3">2</span><span class="s1">]</span><span class="s2">;</span>
        <span class="s2">default</span><span class="s1">:</span>
          <span class="s2">throw new </span><span class="s1">IllegalArgumentException(</span><span class="s4">&quot;Cannot get layout paddings of multi-edge shorthands&quot;</span><span class="s1">)</span><span class="s2">;</span>
      <span class="s1">}</span>
    <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
      <span class="s2">return </span><span class="s3">0</span><span class="s2">;</span>
    <span class="s1">}</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public float </span><span class="s1">getLayoutBorder(YogaEdge edge) {</span>
    <span class="s2">if </span><span class="s1">(arr != </span><span class="s2">null </span><span class="s1">&amp;&amp; ((</span><span class="s2">int</span><span class="s1">) arr[LAYOUT_EDGE_SET_FLAG_INDEX] &amp; BORDER) == BORDER) {</span>
      <span class="s2">int </span><span class="s1">borderStartIndex =</span>
          <span class="s1">LAYOUT_BORDER_START_INDEX</span>
              <span class="s1">- ((((</span><span class="s2">int</span><span class="s1">) arr[LAYOUT_EDGE_SET_FLAG_INDEX] &amp; MARGIN) == MARGIN) ? </span><span class="s3">0 </span><span class="s1">: </span><span class="s3">4</span><span class="s1">)</span>
              <span class="s1">- ((((</span><span class="s2">int</span><span class="s1">) arr[LAYOUT_EDGE_SET_FLAG_INDEX] &amp; PADDING) == PADDING) ? </span><span class="s3">0 </span><span class="s1">: </span><span class="s3">4</span><span class="s1">)</span><span class="s2">;</span>
      <span class="s2">switch </span><span class="s1">(edge) {</span>
        <span class="s2">case </span><span class="s1">LEFT:</span>
          <span class="s2">return </span><span class="s1">arr[borderStartIndex]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">TOP:</span>
          <span class="s2">return </span><span class="s1">arr[borderStartIndex + </span><span class="s3">1</span><span class="s1">]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">RIGHT:</span>
          <span class="s2">return </span><span class="s1">arr[borderStartIndex + </span><span class="s3">2</span><span class="s1">]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">BOTTOM:</span>
          <span class="s2">return </span><span class="s1">arr[borderStartIndex + </span><span class="s3">3</span><span class="s1">]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">START:</span>
          <span class="s2">return </span><span class="s1">getLayoutDirection() == YogaDirection.RTL</span>
              <span class="s1">? arr[borderStartIndex + </span><span class="s3">2</span><span class="s1">]</span>
              <span class="s1">: arr[borderStartIndex]</span><span class="s2">;</span>
        <span class="s2">case </span><span class="s1">END:</span>
          <span class="s2">return </span><span class="s1">getLayoutDirection() == YogaDirection.RTL</span>
              <span class="s1">? arr[borderStartIndex]</span>
              <span class="s1">: arr[borderStartIndex + </span><span class="s3">2</span><span class="s1">]</span><span class="s2">;</span>
        <span class="s2">default</span><span class="s1">:</span>
          <span class="s2">throw new </span><span class="s1">IllegalArgumentException(</span><span class="s4">&quot;Cannot get layout border of multi-edge shorthands&quot;</span><span class="s1">)</span><span class="s2">;</span>
      <span class="s1">}</span>
    <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
      <span class="s2">return </span><span class="s3">0</span><span class="s2">;</span>
    <span class="s1">}</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public </span><span class="s1">YogaDirection getLayoutDirection() {</span>
    <span class="s2">return </span><span class="s1">YogaDirection.fromInt(</span>
        <span class="s1">arr != </span><span class="s2">null </span><span class="s1">? (</span><span class="s2">int</span><span class="s1">) arr[LAYOUT_DIRECTION_INDEX] : mLayoutDirection)</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public boolean </span><span class="s1">hasNewLayout() {</span>
    <span class="s2">if </span><span class="s1">(arr != </span><span class="s2">null</span><span class="s1">) {</span>
      <span class="s2">return </span><span class="s1">(((</span><span class="s2">int</span><span class="s1">) arr[LAYOUT_EDGE_SET_FLAG_INDEX]) &amp; HAS_NEW_LAYOUT) == HAS_NEW_LAYOUT</span><span class="s2">;</span>
    <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
      <span class="s2">return </span><span class="s1">mHasNewLayout</span><span class="s2">;</span>
    <span class="s1">}</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public void </span><span class="s1">markLayoutSeen() {</span>
    <span class="s2">if </span><span class="s1">(arr != </span><span class="s2">null</span><span class="s1">) {</span>
      <span class="s1">arr[LAYOUT_EDGE_SET_FLAG_INDEX] = ((</span><span class="s2">int</span><span class="s1">) arr[LAYOUT_EDGE_SET_FLAG_INDEX]) &amp; ~(HAS_NEW_LAYOUT)</span><span class="s2">;</span>
    <span class="s1">}</span>
    <span class="s1">mHasNewLayout = </span><span class="s2">false;</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public float </span><span class="s1">getGap(YogaGutter gutter) {</span>
    <span class="s2">return </span><span class="s1">YogaNative.jni_YGNodeStyleGetGapJNI(mNativePointer</span><span class="s2">, </span><span class="s1">gutter.intValue())</span><span class="s2">;</span>
  <span class="s1">}</span>

  <span class="s1">@Override</span>
  <span class="s2">public void </span><span class="s1">setGap(YogaGutter gutter</span><span class="s2">, float </span><span class="s1">gapLength) {</span>
    <span class="s1">YogaNative.jni_YGNodeStyleSetGapJNI(mNativePointer</span><span class="s2">, </span><span class="s1">gutter.intValue()</span><span class="s2">, </span><span class="s1">gapLength)</span><span class="s2">;</span>
  <span class="s1">}</span>
<span class="s1">}</span>
</pre>
</body>
</html>