<html>
<head>
<title>InteractionManager.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #6897bb; font-style: italic;}
.s3 { color: #cc7832; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
InteractionManager.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;InteractionManager.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;InteractionManager&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;Map&quot;</span><span class="s0">,</span><span class="s1">&quot;configureInteractions&quot;</span><span class="s0">,</span><span class="s1">&quot;handler&quot;</span><span class="s0">,</span><span class="s1">&quot;config&quot;</span><span class="s0">,</span><span class="s1">&quot;dropRelationsForHandlerWithTag&quot;</span><span class="s0">,</span><span class="s1">&quot;getTag&quot;</span><span class="s0">,</span><span class="s1">&quot;waitFor&quot;</span><span class="s0">,</span><span class="s1">&quot;forEach&quot;</span><span class="s0">,</span><span class="s1">&quot;otherHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;handlerTag&quot;</span><span class="s0">,</span><span class="s1">&quot;waitForRelations&quot;</span><span class="s0">,</span><span class="s1">&quot;set&quot;</span><span class="s0">,</span><span class="s1">&quot;simultaneousHandlers&quot;</span><span class="s0">,</span><span class="s1">&quot;simultaneousRelations&quot;</span><span class="s0">,</span><span class="s1">&quot;shouldWaitForHandlerFailure&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;shouldWait&quot;</span><span class="s0">,</span><span class="s1">&quot;tag&quot;</span><span class="s0">,</span><span class="s1">&quot;shouldRecognizeSimultaneously&quot;</span><span class="s0">,</span><span class="s1">&quot;shouldRequireHandlerToWaitForFailure&quot;</span><span class="s0">,</span><span class="s1">&quot;_handler&quot;</span><span class="s0">,</span><span class="s1">&quot;_otherHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;shouldHandlerBeCancelledBy&quot;</span><span class="s0">,</span><span class="s1">&quot;delete&quot;</span><span class="s0">,</span><span class="s1">&quot;reset&quot;</span><span class="s0">,</span><span class="s1">&quot;clear&quot;</span><span class="s0">,</span><span class="s1">&quot;getInstance&quot;</span><span class="s0">,</span><span class="s1">&quot;instance&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import GestureHandler from '../handlers/GestureHandler';</span><span class="s3">\n</span><span class="s1">import { Config, Handler } from '../interfaces';</span><span class="s3">\n\n</span><span class="s1">export default class InteractionManager {</span><span class="s3">\n  </span><span class="s1">private static instance: InteractionManager;</span><span class="s3">\n  </span><span class="s1">private readonly waitForRelations: Map&lt;number, number[]&gt; = new Map();</span><span class="s3">\n  </span><span class="s1">private readonly simultaneousRelations: Map&lt;number, number[]&gt; = new Map();</span><span class="s3">\n\n  </span><span class="s1">// Private becaues of singleton</span><span class="s3">\n  </span><span class="s1">// eslint-disable-next-line no-useless-constructor, @typescript-eslint/no-empty-function</span><span class="s3">\n  </span><span class="s1">private constructor() {}</span><span class="s3">\n\n  </span><span class="s1">public configureInteractions(handler: GestureHandler, config: Config) {</span><span class="s3">\n    </span><span class="s1">this.dropRelationsForHandlerWithTag(handler.getTag());</span><span class="s3">\n\n    </span><span class="s1">if (config.waitFor) {</span><span class="s3">\n      </span><span class="s1">const waitFor: number[] = [];</span><span class="s3">\n      </span><span class="s1">config.waitFor.forEach((otherHandler: Handler): void =&gt; {</span><span class="s3">\n        </span><span class="s1">// New API reference</span><span class="s3">\n        </span><span class="s1">if (typeof otherHandler === 'number') {</span><span class="s3">\n          </span><span class="s1">waitFor.push(otherHandler);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">// Old API reference</span><span class="s3">\n          </span><span class="s1">waitFor.push(otherHandler.handlerTag);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n\n      </span><span class="s1">this.waitForRelations.set(handler.getTag(), waitFor);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (config.simultaneousHandlers) {</span><span class="s3">\n      </span><span class="s1">const simultaneousHandlers: number[] = [];</span><span class="s3">\n      </span><span class="s1">config.simultaneousHandlers.forEach((otherHandler: Handler): void =&gt; {</span><span class="s3">\n        </span><span class="s1">if (typeof otherHandler === 'number') {</span><span class="s3">\n          </span><span class="s1">simultaneousHandlers.push(otherHandler);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">simultaneousHandlers.push(otherHandler.handlerTag);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n\n      </span><span class="s1">this.simultaneousRelations.set(handler.getTag(), simultaneousHandlers);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">public shouldWaitForHandlerFailure(</span><span class="s3">\n    </span><span class="s1">handler: GestureHandler,</span><span class="s3">\n    </span><span class="s1">otherHandler: GestureHandler</span><span class="s3">\n  </span><span class="s1">): boolean {</span><span class="s3">\n    </span><span class="s1">const waitFor: number[] | undefined = this.waitForRelations.get(</span><span class="s3">\n      </span><span class="s1">handler.getTag()</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (!waitFor) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">let shouldWait = false;</span><span class="s3">\n\n    </span><span class="s1">waitFor.forEach((tag: number): void =&gt; {</span><span class="s3">\n      </span><span class="s1">if (tag === otherHandler.getTag()) {</span><span class="s3">\n        </span><span class="s1">shouldWait = true;</span><span class="s3">\n        </span><span class="s1">return; //Returns from callback</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">return shouldWait;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">public shouldRecognizeSimultaneously(</span><span class="s3">\n    </span><span class="s1">handler: GestureHandler,</span><span class="s3">\n    </span><span class="s1">otherHandler: GestureHandler</span><span class="s3">\n  </span><span class="s1">): boolean {</span><span class="s3">\n    </span><span class="s1">const simultaneousHandlers: number[] | undefined =</span><span class="s3">\n      </span><span class="s1">this.simultaneousRelations.get(handler.getTag());</span><span class="s3">\n    </span><span class="s1">if (!simultaneousHandlers) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">let shouldRecognizeSimultaneously = false;</span><span class="s3">\n\n    </span><span class="s1">simultaneousHandlers.forEach((tag: number): void =&gt; {</span><span class="s3">\n      </span><span class="s1">if (tag === otherHandler.getTag()) {</span><span class="s3">\n        </span><span class="s1">shouldRecognizeSimultaneously = true;</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">return shouldRecognizeSimultaneously;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">public shouldRequireHandlerToWaitForFailure(</span><span class="s3">\n    </span><span class="s1">_handler: GestureHandler,</span><span class="s3">\n    </span><span class="s1">_otherHandler: GestureHandler</span><span class="s3">\n  </span><span class="s1">): boolean {</span><span class="s3">\n    </span><span class="s1">//TODO: Implement logic</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">public shouldHandlerBeCancelledBy(</span><span class="s3">\n    </span><span class="s1">_handler: GestureHandler,</span><span class="s3">\n    </span><span class="s1">_otherHandler: GestureHandler</span><span class="s3">\n  </span><span class="s1">): boolean {</span><span class="s3">\n    </span><span class="s1">//TODO: Implement logic</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">public dropRelationsForHandlerWithTag(handlerTag: number): void {</span><span class="s3">\n    </span><span class="s1">this.waitForRelations.delete(handlerTag);</span><span class="s3">\n    </span><span class="s1">this.simultaneousRelations.delete(handlerTag);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">public reset() {</span><span class="s3">\n    </span><span class="s1">this.waitForRelations.clear();</span><span class="s3">\n    </span><span class="s1">this.simultaneousRelations.clear();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">public static getInstance(): InteractionManager {</span><span class="s3">\n    </span><span class="s1">if (!this.instance) {</span><span class="s3">\n      </span><span class="s1">this.instance = new InteractionManager();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return this.instance;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">]}</span></pre>
</body>
</html>