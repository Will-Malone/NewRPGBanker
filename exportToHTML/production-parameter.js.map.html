<html>
<head>
<title>production-parameter.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #6897bb; font-style: italic;}
.s3 { color: #cc7832; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
production-parameter.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;PARAM&quot;</span><span class="s0">,</span><span class="s1">&quot;PARAM_YIELD&quot;</span><span class="s0">,</span><span class="s1">&quot;PARAM_AWAIT&quot;</span><span class="s0">,</span><span class="s1">&quot;PARAM_RETURN&quot;</span><span class="s0">,</span><span class="s1">&quot;PARAM_IN&quot;</span><span class="s0">,</span><span class="s1">&quot;exports&quot;</span><span class="s0">,</span><span class="s1">&quot;ProductionParameterHandler&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;stacks&quot;</span><span class="s0">,</span><span class="s1">&quot;enter&quot;</span><span class="s0">,</span><span class="s1">&quot;flags&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;exit&quot;</span><span class="s0">,</span><span class="s1">&quot;pop&quot;</span><span class="s0">,</span><span class="s1">&quot;currentFlags&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;hasAwait&quot;</span><span class="s0">,</span><span class="s1">&quot;hasYield&quot;</span><span class="s0">,</span><span class="s1">&quot;hasReturn&quot;</span><span class="s0">,</span><span class="s1">&quot;hasIn&quot;</span><span class="s0">,</span><span class="s1">&quot;default&quot;</span><span class="s0">,</span><span class="s1">&quot;functionFlags&quot;</span><span class="s0">,</span><span class="s1">&quot;isAsync&quot;</span><span class="s0">,</span><span class="s1">&quot;isGenerator&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/util/production-parameter.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;export const // Initial Parameter flags</span><span class="s3">\n  </span><span class="s1">PARAM = 0b0000,</span><span class="s3">\n  </span><span class="s1">// track [Yield] production parameter</span><span class="s3">\n  </span><span class="s1">PARAM_YIELD = 0b0001,</span><span class="s3">\n  </span><span class="s1">// track [Await] production parameter</span><span class="s3">\n  </span><span class="s1">PARAM_AWAIT = 0b0010,</span><span class="s3">\n  </span><span class="s1">// track [Return] production parameter</span><span class="s3">\n  </span><span class="s1">PARAM_RETURN = 0b0100,</span><span class="s3">\n  </span><span class="s1">PARAM_IN = 0b1000; // track [In] production parameter</span><span class="s3">\n\n</span><span class="s1">// ProductionParameterHandler is a stack fashioned production parameter tracker</span><span class="s3">\n</span><span class="s1">// https://tc39.es/ecma262/#sec-grammar-notation</span><span class="s3">\n</span><span class="s1">// The tracked parameters are defined above.</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">// Whenever [+Await]/[+Yield] appears in the right-hand sides of a production,</span><span class="s3">\n</span><span class="s1">// we must enter a new tracking stack. For example when parsing</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">// AsyncFunctionDeclaration [Yield, Await]:</span><span class="s3">\n</span><span class="s1">//   async [no LineTerminator here] function BindingIdentifier[?Yield, ?Await]</span><span class="s3">\n</span><span class="s1">//     ( FormalParameters[~Yield, +Await] ) { AsyncFunctionBody }</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">// we must follow such process:</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">// 1. parse async keyword</span><span class="s3">\n</span><span class="s1">// 2. parse function keyword</span><span class="s3">\n</span><span class="s1">// 3. parse bindingIdentifier &lt;= inherit current parameters: [?Await]</span><span class="s3">\n</span><span class="s1">// 4. enter new stack with (PARAM_AWAIT)</span><span class="s3">\n</span><span class="s1">// 5. parse formal parameters &lt;= must have [Await] parameter [+Await]</span><span class="s3">\n</span><span class="s1">// 6. parse function body</span><span class="s3">\n</span><span class="s1">// 7. exit current stack</span><span class="s3">\n\n</span><span class="s1">export type ParamKind = number;</span><span class="s3">\n\n</span><span class="s1">// todo(flow-&gt;ts) - check if more granular type can be used,</span><span class="s3">\n</span><span class="s1">//  type below is not good because things like PARAM_AWAIT|PARAM_YIELD are not included</span><span class="s3">\n</span><span class="s1">// export type ParamKind =</span><span class="s3">\n</span><span class="s1">//   | typeof PARAM</span><span class="s3">\n</span><span class="s1">//   | typeof PARAM_AWAIT</span><span class="s3">\n</span><span class="s1">//   | typeof PARAM_IN</span><span class="s3">\n</span><span class="s1">//   | typeof PARAM_RETURN</span><span class="s3">\n</span><span class="s1">//   | typeof PARAM_YIELD;</span><span class="s3">\n\n</span><span class="s1">export default class ProductionParameterHandler {</span><span class="s3">\n  </span><span class="s1">stacks: Array&lt;number&gt; = [];</span><span class="s3">\n  </span><span class="s1">enter(flags: number) {</span><span class="s3">\n    </span><span class="s1">this.stacks.push(flags);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">exit() {</span><span class="s3">\n    </span><span class="s1">this.stacks.pop();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">currentFlags(): number {</span><span class="s3">\n    </span><span class="s1">return this.stacks[this.stacks.length - 1];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">get hasAwait(): boolean {</span><span class="s3">\n    </span><span class="s1">return (this.currentFlags() &amp; PARAM_AWAIT) &gt; 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">get hasYield(): boolean {</span><span class="s3">\n    </span><span class="s1">return (this.currentFlags() &amp; PARAM_YIELD) &gt; 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">get hasReturn(): boolean {</span><span class="s3">\n    </span><span class="s1">return (this.currentFlags() &amp; PARAM_RETURN) &gt; 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">get hasIn(): boolean {</span><span class="s3">\n    </span><span class="s1">return (this.currentFlags() &amp; PARAM_IN) &gt; 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function functionFlags(</span><span class="s3">\n  </span><span class="s1">isAsync: boolean,</span><span class="s3">\n  </span><span class="s1">isGenerator: boolean,</span><span class="s3">\n</span><span class="s1">): ParamKind {</span><span class="s3">\n  </span><span class="s1">return (isAsync ? PARAM_AWAIT : 0) | (isGenerator ? PARAM_YIELD : 0);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;AAAO,MACLA,KAAK,GAAG,MAAM;EAEdC,WAAW,GAAG,MAAM;EAEpBC,WAAW,GAAG,MAAM;EAEpBC,YAAY,GAAG,MAAM;EACrBC,QAAQ,GAAG,MAAM;AAACC,OAAA,CAAAD,QAAA,GAAAA,QAAA;AAAAC,OAAA,CAAAF,YAAA,GAAAA,YAAA;AAAAE,OAAA,CAAAH,WAAA,GAAAA,WAAA;AAAAG,OAAA,CAAAJ,WAAA,GAAAA,WAAA;AAAAI,OAAA,CAAAL,KAAA,GAAAA,KAAA;AAkCL,MAAMM,0BAA0B,CAAC;EAAAC,YAAA;IAAA,KAC9CC,MAAM,GAAkB,EAAE;EAAA;EAC1BC,KAAKA,CAACC,KAAa,EAAE;IACnB,IAAI,CAACF,MAAM,CAACG,IAAI,CAACD,KAAK,CAAC;EACzB;EAEAE,IAAIA,CAAA,EAAG;IACL,IAAI,CAACJ,MAAM,CAACK,GAAG,CAAC,CAAC;EACnB;EAEAC,YAAYA,CAAA,EAAW;IACrB,OAAO,IAAI,CAACN,MAAM,CAAC,IAAI,CAACA,MAAM,CAACO,MAAM,GAAG,CAAC,CAAC;EAC5C;EAEA,IAAIC,QAAQA,CAAA,EAAY;IACtB,OAAO,CAAC,IAAI,CAACF,YAAY,CAAC,CAAC,GAAGZ,WAAW,IAAI,CAAC;EAChD;EAEA,IAAIe,QAAQA,CAAA,EAAY;IACtB,OAAO,CAAC,IAAI,CAACH,YAAY,CAAC,CAAC,GAAGb,WAAW,IAAI,CAAC;EAChD;EAEA,IAAIiB,SAASA,CAAA,EAAY;IACvB,OAAO,CAAC,IAAI,CAACJ,YAAY,CAAC,CAAC,GAAGX,YAAY,IAAI,CAAC;EACjD;EAEA,IAAIgB,KAAKA,CAAA,EAAY;IACnB,OAAO,CAAC,IAAI,CAACL,YAAY,CAAC,CAAC,GAAGV,QAAQ,IAAI,CAAC;EAC7C;AACF;AAACC,OAAA,CAAAe,OAAA,GAAAd,0BAAA;AAEM,SAASe,aAAaA,CAC3BC,OAAgB,EAChBC,WAAoB,EACT;EACX,OAAO,CAACD,OAAO,GAAGpB,WAAW,GAAG,CAAC,KAAKqB,WAAW,GAAGtB,WAAW,GAAG,CAAC,CAAC;AACtE&quot;</span><span class="s0">}</span></pre>
</body>
</html>