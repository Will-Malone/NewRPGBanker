<html>
<head>
<title>node_stream_zip.d.ts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #e8bf6a;}
.s3 { color: #bbb529;}
.s4 { color: #d0d0ff;}
.s5 { color: #cc7832;}
.s6 { color: #6a8759;}
.s7 { color: #a9b7c6;}
.s8 { color: #a9b7c6;}
.s9 { color: #ffc66d;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
node_stream_zip.d.ts</font>
</center></td></tr></table>
<pre><span class="s0">/// </span><span class="s1">&lt;</span><span class="s2">reference </span><span class="s4">types</span><span class="s5">=</span><span class="s6">&quot;node&quot; </span><span class="s1">/&gt;</span>

<span class="s5">declare namespace </span><span class="s8">StreamZip </span><span class="s7">{</span>
    <span class="s5">interface </span><span class="s8">StreamZipOptions </span><span class="s7">{</span>
        <span class="s0">/**</span>
         <span class="s0">* File to read 
         * </span><span class="s5">@default </span><span class="s8">undefined</span>
         <span class="s0">*/</span>
        <span class="s7">file</span><span class="s5">?: </span><span class="s8">string</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* Alternatively, you can pass fd here 
         * </span><span class="s5">@default </span><span class="s8">undefined</span>
         <span class="s0">*/</span>
        <span class="s7">fd</span><span class="s5">?: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* You will be able to work with entries inside zip archive, 
         * otherwise the only way to access them is entry event 
         * </span><span class="s5">@default </span><span class="s8">true</span>
         <span class="s0">*/</span>
        <span class="s7">storeEntries</span><span class="s5">?: </span><span class="s8">boolean</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* By default, entry name is checked for malicious characters, like ../ or c:\123, 
         * pass this flag to disable validation error 
         * </span><span class="s5">@default </span><span class="s8">false</span>
         <span class="s0">*/</span>
        <span class="s7">skipEntryNameValidation</span><span class="s5">?: </span><span class="s8">boolean</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* Filesystem read chunk size 
         * </span><span class="s5">@default </span><span class="s8">automatic </span><span class="s0">based on file size 
         */</span>
        <span class="s7">chunkSize</span><span class="s5">?: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* Encoding used to decode file names 
         * </span><span class="s5">@default </span><span class="s8">UTF8</span>
         <span class="s0">*/</span>
        <span class="s7">nameEncoding</span><span class="s5">?: </span><span class="s8">string</span><span class="s7">;</span>
    <span class="s7">}</span>

    <span class="s5">interface </span><span class="s8">ZipEntry </span><span class="s7">{</span>
        <span class="s0">/**</span>
         <span class="s0">* file name 
         */</span>
        <span class="s7">name</span><span class="s5">: </span><span class="s8">string</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* true if it's a directory entry 
         */</span>
        <span class="s7">isDirectory</span><span class="s5">: </span><span class="s8">boolean</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* true if it's a file entry, see also isDirectory 
         */</span>
        <span class="s7">isFile</span><span class="s5">: </span><span class="s8">boolean</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* file comment 
         */</span>
        <span class="s7">comment</span><span class="s5">: </span><span class="s8">string</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* if the file is encrypted 
         */</span>
        <span class="s7">encrypted</span><span class="s5">: </span><span class="s8">boolean</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* version made by 
         */</span>
        <span class="s7">verMade</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* version needed to extract 
         */</span>
        <span class="s7">version</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* encrypt, decrypt flags 
         */</span>
        <span class="s7">flags</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* compression method 
         */</span>
        <span class="s7">method</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* modification time 
         */</span>
        <span class="s7">time</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* uncompressed file crc-32 value 
         */</span>
        <span class="s7">crc</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* compressed size 
         */</span>
        <span class="s7">compressedSize</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* uncompressed size 
         */</span>
        <span class="s7">size</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* volume number start 
         */</span>
        <span class="s7">diskStart</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* internal file attributes 
         */</span>
        <span class="s7">inattr</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* external file attributes 
         */</span>
        <span class="s7">attr</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>

        <span class="s0">/**</span>
         <span class="s0">* LOC header offset 
         */</span>
        <span class="s7">offset</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>
    <span class="s7">}</span>

    <span class="s5">class </span><span class="s8">StreamZipAsync </span><span class="s7">{</span>
        <span class="s5">constructor</span><span class="s7">(</span><span class="s8">config</span><span class="s5">: </span><span class="s8">StreamZipOptions</span><span class="s7">);</span>

        <span class="s7">entriesCount</span><span class="s5">: </span><span class="s8">Promise</span><span class="s7">&lt;</span><span class="s8">number</span><span class="s7">&gt;;</span>
        <span class="s7">comment</span><span class="s5">: </span><span class="s8">Promise</span><span class="s7">&lt;</span><span class="s8">string</span><span class="s7">&gt;;</span>

        <span class="s7">entry(</span><span class="s8">name</span><span class="s5">: </span><span class="s8">string</span><span class="s7">)</span><span class="s5">: </span><span class="s8">Promise</span><span class="s7">&lt;</span><span class="s8">ZipEntry </span><span class="s5">| </span><span class="s8">undefined</span><span class="s7">&gt;;</span>
        <span class="s7">entries()</span><span class="s5">: </span><span class="s8">Promise</span><span class="s7">&lt;{ [</span><span class="s8">name</span><span class="s5">: </span><span class="s8">string</span><span class="s7">]</span><span class="s5">: </span><span class="s8">ZipEntry </span><span class="s7">}&gt;;</span>
        <span class="s7">entryData(</span><span class="s8">entry</span><span class="s5">: </span><span class="s8">string </span><span class="s5">| </span><span class="s8">ZipEntry</span><span class="s7">)</span><span class="s5">: </span><span class="s8">Promise</span><span class="s7">&lt;</span><span class="s8">Buffer</span><span class="s7">&gt;;</span>
        <span class="s7">stream(</span><span class="s8">entry</span><span class="s5">: </span><span class="s8">string </span><span class="s5">| </span><span class="s8">ZipEntry</span><span class="s7">)</span><span class="s5">: </span><span class="s8">Promise</span><span class="s7">&lt;</span><span class="s8">NodeJS</span><span class="s7">.</span><span class="s8">ReadableStream</span><span class="s7">&gt;;</span>
        <span class="s7">extract(</span><span class="s8">entry</span><span class="s5">: </span><span class="s8">string </span><span class="s5">| </span><span class="s8">ZipEntry </span><span class="s5">| </span><span class="s8">null</span><span class="s7">, </span><span class="s8">outPath</span><span class="s5">: </span><span class="s8">string</span><span class="s7">)</span><span class="s5">: </span><span class="s8">Promise</span><span class="s7">&lt;</span><span class="s8">number </span><span class="s5">| </span><span class="s8">undefined</span><span class="s7">&gt;;</span>

        <span class="s7">on(</span><span class="s8">event</span><span class="s5">: </span><span class="s6">'entry'</span><span class="s7">, </span><span class="s9">handler</span><span class="s5">: </span><span class="s7">(</span><span class="s8">entry</span><span class="s5">: </span><span class="s8">ZipEntry</span><span class="s7">) </span><span class="s5">=&gt; </span><span class="s8">void</span><span class="s7">)</span><span class="s5">: </span><span class="s8">void</span><span class="s7">;</span>
        <span class="s7">on(</span><span class="s8">event</span><span class="s5">: </span><span class="s6">'extract'</span><span class="s7">, </span><span class="s9">handler</span><span class="s5">: </span><span class="s7">(</span><span class="s8">entry</span><span class="s5">: </span><span class="s8">ZipEntry</span><span class="s7">, </span><span class="s8">outPath</span><span class="s5">: </span><span class="s8">string</span><span class="s7">) </span><span class="s5">=&gt; </span><span class="s8">void</span><span class="s7">)</span><span class="s5">: </span><span class="s8">void</span><span class="s7">;</span>

        <span class="s7">close()</span><span class="s5">: </span><span class="s8">Promise</span><span class="s7">&lt;</span><span class="s8">void</span><span class="s7">&gt;;</span>
    <span class="s7">}</span>
<span class="s7">}</span>

<span class="s5">type </span><span class="s8">StreamZipOptions </span><span class="s5">= </span><span class="s8">StreamZip</span><span class="s7">.</span><span class="s8">StreamZipOptions</span><span class="s7">;</span>
<span class="s5">type </span><span class="s8">ZipEntry </span><span class="s5">= </span><span class="s8">StreamZip</span><span class="s7">.</span><span class="s8">ZipEntry</span><span class="s7">;</span>

<span class="s5">declare class </span><span class="s8">StreamZip </span><span class="s7">{</span>
    <span class="s5">constructor</span><span class="s7">(</span><span class="s8">config</span><span class="s5">: </span><span class="s8">StreamZipOptions</span><span class="s7">);</span>

    <span class="s0">/**</span>
     <span class="s0">* number of entries in the archive 
     */</span>
    <span class="s7">entriesCount</span><span class="s5">: </span><span class="s8">number</span><span class="s7">;</span>

    <span class="s0">/**</span>
     <span class="s0">* archive comment 
     */</span>
    <span class="s7">comment</span><span class="s5">: </span><span class="s8">string</span><span class="s7">;</span>

    <span class="s7">on(</span><span class="s8">event</span><span class="s5">: </span><span class="s6">'error'</span><span class="s7">, </span><span class="s9">handler</span><span class="s5">: </span><span class="s7">(</span><span class="s8">error</span><span class="s5">: </span><span class="s8">any</span><span class="s7">) </span><span class="s5">=&gt; </span><span class="s8">void</span><span class="s7">)</span><span class="s5">: </span><span class="s8">void</span><span class="s7">;</span>
    <span class="s7">on(</span><span class="s8">event</span><span class="s5">: </span><span class="s6">'entry'</span><span class="s7">, </span><span class="s9">handler</span><span class="s5">: </span><span class="s7">(</span><span class="s8">entry</span><span class="s5">: </span><span class="s8">ZipEntry</span><span class="s7">) </span><span class="s5">=&gt; </span><span class="s8">void</span><span class="s7">)</span><span class="s5">: </span><span class="s8">void</span><span class="s7">;</span>
    <span class="s7">on(</span><span class="s8">event</span><span class="s5">: </span><span class="s6">'ready'</span><span class="s7">, </span><span class="s9">handler</span><span class="s5">: </span><span class="s7">() </span><span class="s5">=&gt; </span><span class="s8">void</span><span class="s7">)</span><span class="s5">: </span><span class="s8">void</span><span class="s7">;</span>
    <span class="s7">on(</span><span class="s8">event</span><span class="s5">: </span><span class="s6">'extract'</span><span class="s7">, </span><span class="s9">handler</span><span class="s5">: </span><span class="s7">(</span><span class="s8">entry</span><span class="s5">: </span><span class="s8">ZipEntry</span><span class="s7">, </span><span class="s8">outPath</span><span class="s5">: </span><span class="s8">string</span><span class="s7">) </span><span class="s5">=&gt; </span><span class="s8">void</span><span class="s7">)</span><span class="s5">: </span><span class="s8">void</span><span class="s7">;</span>

    <span class="s7">entry(</span><span class="s8">name</span><span class="s5">: </span><span class="s8">string</span><span class="s7">)</span><span class="s5">: </span><span class="s8">ZipEntry </span><span class="s5">| </span><span class="s8">undefined</span><span class="s7">;</span>

    <span class="s7">entries()</span><span class="s5">: </span><span class="s7">{ [</span><span class="s8">name</span><span class="s5">: </span><span class="s8">string</span><span class="s7">]</span><span class="s5">: </span><span class="s8">ZipEntry </span><span class="s7">};</span>

    <span class="s7">stream(</span>
        <span class="s8">entry</span><span class="s5">: </span><span class="s8">string </span><span class="s5">| </span><span class="s8">ZipEntry</span><span class="s7">,</span>
        <span class="s9">callback</span><span class="s5">: </span><span class="s7">(</span><span class="s8">err</span><span class="s5">: </span><span class="s8">any </span><span class="s5">| </span><span class="s8">null</span><span class="s7">, </span><span class="s8">stream</span><span class="s5">?: </span><span class="s8">NodeJS</span><span class="s7">.</span><span class="s8">ReadableStream</span><span class="s7">) </span><span class="s5">=&gt; </span><span class="s8">void</span>
    <span class="s7">)</span><span class="s5">: </span><span class="s8">void</span><span class="s7">;</span>

    <span class="s7">entryDataSync(</span><span class="s8">entry</span><span class="s5">: </span><span class="s8">string </span><span class="s5">| </span><span class="s8">ZipEntry</span><span class="s7">)</span><span class="s5">: </span><span class="s8">Buffer</span><span class="s7">;</span>

    <span class="s7">openEntry(</span>
        <span class="s8">entry</span><span class="s5">: </span><span class="s8">string </span><span class="s5">| </span><span class="s8">ZipEntry</span><span class="s7">,</span>
        <span class="s9">callback</span><span class="s5">: </span><span class="s7">(</span><span class="s8">err</span><span class="s5">: </span><span class="s8">any </span><span class="s5">| </span><span class="s8">null</span><span class="s7">, </span><span class="s8">entry</span><span class="s5">?: </span><span class="s8">ZipEntry</span><span class="s7">) </span><span class="s5">=&gt; </span><span class="s8">void</span><span class="s7">,</span>
        <span class="s8">sync</span><span class="s5">: </span><span class="s8">boolean</span>
    <span class="s7">)</span><span class="s5">: </span><span class="s8">void</span><span class="s7">;</span>

    <span class="s7">extract(</span>
        <span class="s8">entry</span><span class="s5">: </span><span class="s8">string </span><span class="s5">| </span><span class="s8">ZipEntry </span><span class="s5">| </span><span class="s8">null</span><span class="s7">,</span>
        <span class="s8">outPath</span><span class="s5">: </span><span class="s8">string</span><span class="s7">,</span>
        <span class="s9">callback</span><span class="s5">: </span><span class="s7">(</span><span class="s8">err</span><span class="s5">?: </span><span class="s8">any</span><span class="s7">, </span><span class="s8">res</span><span class="s5">?: </span><span class="s8">number</span><span class="s7">) </span><span class="s5">=&gt; </span><span class="s8">void</span>
    <span class="s7">)</span><span class="s5">: </span><span class="s8">void</span><span class="s7">;</span>

    <span class="s7">close(</span><span class="s9">callback</span><span class="s5">?: </span><span class="s7">(</span><span class="s8">err</span><span class="s5">?: </span><span class="s8">any</span><span class="s7">) </span><span class="s5">=&gt; </span><span class="s8">void</span><span class="s7">)</span><span class="s5">: </span><span class="s8">void</span><span class="s7">;</span>

    <span class="s5">static </span><span class="s7">async</span><span class="s5">: typeof </span><span class="s8">StreamZip</span><span class="s7">.</span><span class="s8">StreamZipAsync</span><span class="s7">;</span>
<span class="s7">}</span>

<span class="s5">export = </span><span class="s8">StreamZip</span><span class="s7">;</span>
</pre>
</body>
</html>