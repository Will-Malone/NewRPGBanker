<html>
<head>
<title>TouchEventManager.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #6897bb; font-style: italic;}
.s3 { color: #cc7832; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
TouchEventManager.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;TouchEventManager.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;TouchEventManager&quot;</span><span class="s0">,</span><span class="s1">&quot;EventManager&quot;</span><span class="s0">,</span><span class="s1">&quot;setListeners&quot;</span><span class="s0">,</span><span class="s1">&quot;view&quot;</span><span class="s0">,</span><span class="s1">&quot;addEventListener&quot;</span><span class="s0">,</span><span class="s1">&quot;event&quot;</span><span class="s0">,</span><span class="s1">&quot;i&quot;</span><span class="s0">,</span><span class="s1">&quot;changedTouches&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;adaptedEvent&quot;</span><span class="s0">,</span><span class="s1">&quot;mapEvent&quot;</span><span class="s0">,</span><span class="s1">&quot;EventTypes&quot;</span><span class="s0">,</span><span class="s1">&quot;DOWN&quot;</span><span class="s0">,</span><span class="s1">&quot;TouchEventType&quot;</span><span class="s0">,</span><span class="s1">&quot;x&quot;</span><span class="s0">,</span><span class="s1">&quot;y&quot;</span><span class="s0">,</span><span class="s1">&quot;touchType&quot;</span><span class="s0">,</span><span class="s1">&quot;markAsInBounds&quot;</span><span class="s0">,</span><span class="s1">&quot;pointerId&quot;</span><span class="s0">,</span><span class="s1">&quot;activePointersCounter&quot;</span><span class="s0">,</span><span class="s1">&quot;eventType&quot;</span><span class="s0">,</span><span class="s1">&quot;ADDITIONAL_POINTER_DOWN&quot;</span><span class="s0">,</span><span class="s1">&quot;onPointerAdd&quot;</span><span class="s0">,</span><span class="s1">&quot;onPointerDown&quot;</span><span class="s0">,</span><span class="s1">&quot;MOVE&quot;</span><span class="s0">,</span><span class="s1">&quot;inBounds&quot;</span><span class="s0">,</span><span class="s1">&quot;pointerIndex&quot;</span><span class="s0">,</span><span class="s1">&quot;pointersInBounds&quot;</span><span class="s0">,</span><span class="s1">&quot;indexOf&quot;</span><span class="s0">,</span><span class="s1">&quot;ENTER&quot;</span><span class="s0">,</span><span class="s1">&quot;onPointerEnter&quot;</span><span class="s0">,</span><span class="s1">&quot;onPointerMove&quot;</span><span class="s0">,</span><span class="s1">&quot;OUT&quot;</span><span class="s0">,</span><span class="s1">&quot;onPointerOut&quot;</span><span class="s0">,</span><span class="s1">&quot;markAsOutOfBounds&quot;</span><span class="s0">,</span><span class="s1">&quot;onPointerOutOfBounds&quot;</span><span class="s0">,</span><span class="s1">&quot;UP&quot;</span><span class="s0">,</span><span class="s1">&quot;ADDITIONAL_POINTER_UP&quot;</span><span class="s0">,</span><span class="s1">&quot;onPointerRemove&quot;</span><span class="s0">,</span><span class="s1">&quot;onPointerUp&quot;</span><span class="s0">,</span><span class="s1">&quot;CANCEL&quot;</span><span class="s0">,</span><span class="s1">&quot;CANCELLED&quot;</span><span class="s0">,</span><span class="s1">&quot;onPointerCancel&quot;</span><span class="s0">,</span><span class="s1">&quot;index&quot;</span><span class="s0">,</span><span class="s1">&quot;touchEventType&quot;</span><span class="s0">,</span><span class="s1">&quot;rect&quot;</span><span class="s0">,</span><span class="s1">&quot;getBoundingClientRect&quot;</span><span class="s0">,</span><span class="s1">&quot;clientX&quot;</span><span class="s0">,</span><span class="s1">&quot;clientY&quot;</span><span class="s0">,</span><span class="s1">&quot;offsetX&quot;</span><span class="s0">,</span><span class="s1">&quot;left&quot;</span><span class="s0">,</span><span class="s1">&quot;offsetY&quot;</span><span class="s0">,</span><span class="s1">&quot;top&quot;</span><span class="s0">,</span><span class="s1">&quot;identifier&quot;</span><span class="s0">,</span><span class="s1">&quot;pointerType&quot;</span><span class="s0">,</span><span class="s1">&quot;PointerType&quot;</span><span class="s0">,</span><span class="s1">&quot;TOUCH&quot;</span><span class="s0">,</span><span class="s1">&quot;buttons&quot;</span><span class="s0">,</span><span class="s1">&quot;MouseButtons&quot;</span><span class="s0">,</span><span class="s1">&quot;NONE&quot;</span><span class="s0">,</span><span class="s1">&quot;time&quot;</span><span class="s0">,</span><span class="s1">&quot;timeStamp&quot;</span><span class="s0">,</span><span class="s1">&quot;allTouches&quot;</span><span class="s0">,</span><span class="s1">&quot;touches&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">AdaptedEvent,</span><span class="s3">\n  </span><span class="s1">EventTypes,</span><span class="s3">\n  </span><span class="s1">MouseButtons,</span><span class="s3">\n  </span><span class="s1">PointerType,</span><span class="s3">\n  </span><span class="s1">TouchEventType,</span><span class="s3">\n</span><span class="s1">} from '../interfaces';</span><span class="s3">\n</span><span class="s1">import EventManager from './EventManager';</span><span class="s3">\n</span><span class="s1">import { isPointerInBounds } from '../utils';</span><span class="s3">\n\n</span><span class="s1">export default class TouchEventManager extends EventManager {</span><span class="s3">\n  </span><span class="s1">public setListeners(): void {</span><span class="s3">\n    </span><span class="s1">this.view.addEventListener('touchstart', (event: TouchEvent) =&gt; {</span><span class="s3">\n      </span><span class="s1">for (let i = 0; i &lt; event.changedTouches.length; ++i) {</span><span class="s3">\n        </span><span class="s1">const adaptedEvent: AdaptedEvent = this.mapEvent(</span><span class="s3">\n          </span><span class="s1">event,</span><span class="s3">\n          </span><span class="s1">EventTypes.DOWN,</span><span class="s3">\n          </span><span class="s1">i,</span><span class="s3">\n          </span><span class="s1">TouchEventType.DOWN</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">// Here we skip stylus, because in case of anything different than touch we want to handle it by using PointerEvents</span><span class="s3">\n        </span><span class="s1">// If we leave stylus to send touch events, handlers will receive every action twice</span><span class="s3">\n        </span><span class="s1">if (</span><span class="s3">\n          </span><span class="s1">!isPointerInBounds(this.view, {</span><span class="s3">\n            </span><span class="s1">x: adaptedEvent.x,</span><span class="s3">\n            </span><span class="s1">y: adaptedEvent.y,</span><span class="s3">\n          </span><span class="s1">}) ||</span><span class="s3">\n          </span><span class="s1">//@ts-ignore touchType field does exist</span><span class="s3">\n          </span><span class="s1">event.changedTouches[i].touchType === 'stylus'</span><span class="s3">\n        </span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">this.markAsInBounds(adaptedEvent.pointerId);</span><span class="s3">\n\n        </span><span class="s1">if (++this.activePointersCounter &gt; 1) {</span><span class="s3">\n          </span><span class="s1">adaptedEvent.eventType = EventTypes.ADDITIONAL_POINTER_DOWN;</span><span class="s3">\n          </span><span class="s1">this.onPointerAdd(adaptedEvent);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">this.onPointerDown(adaptedEvent);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">this.view.addEventListener('touchmove', (event: TouchEvent) =&gt; {</span><span class="s3">\n      </span><span class="s1">for (let i = 0; i &lt; event.changedTouches.length; ++i) {</span><span class="s3">\n        </span><span class="s1">const adaptedEvent: AdaptedEvent = this.mapEvent(</span><span class="s3">\n          </span><span class="s1">event,</span><span class="s3">\n          </span><span class="s1">EventTypes.MOVE,</span><span class="s3">\n          </span><span class="s1">i,</span><span class="s3">\n          </span><span class="s1">TouchEventType.MOVE</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">//@ts-ignore touchType field does exist</span><span class="s3">\n        </span><span class="s1">if (event.changedTouches[i].touchType === 'stylus') {</span><span class="s3">\n          </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const inBounds: boolean = isPointerInBounds(this.view, {</span><span class="s3">\n          </span><span class="s1">x: adaptedEvent.x,</span><span class="s3">\n          </span><span class="s1">y: adaptedEvent.y,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n\n        </span><span class="s1">const pointerIndex: number = this.pointersInBounds.indexOf(</span><span class="s3">\n          </span><span class="s1">adaptedEvent.pointerId</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">if (inBounds) {</span><span class="s3">\n          </span><span class="s1">if (pointerIndex &lt; 0) {</span><span class="s3">\n            </span><span class="s1">adaptedEvent.eventType = EventTypes.ENTER;</span><span class="s3">\n            </span><span class="s1">this.onPointerEnter(adaptedEvent);</span><span class="s3">\n            </span><span class="s1">this.markAsInBounds(adaptedEvent.pointerId);</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">this.onPointerMove(adaptedEvent);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">if (pointerIndex &gt;= 0) {</span><span class="s3">\n            </span><span class="s1">adaptedEvent.eventType = EventTypes.OUT;</span><span class="s3">\n            </span><span class="s1">this.onPointerOut(adaptedEvent);</span><span class="s3">\n            </span><span class="s1">this.markAsOutOfBounds(adaptedEvent.pointerId);</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">this.onPointerOutOfBounds(adaptedEvent);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">this.view.addEventListener('touchend', (event: TouchEvent) =&gt; {</span><span class="s3">\n      </span><span class="s1">for (let i = 0; i &lt; event.changedTouches.length; ++i) {</span><span class="s3">\n        </span><span class="s1">// When we call reset on gesture handlers, it also resets their event managers</span><span class="s3">\n        </span><span class="s1">// In some handlers (like RotationGestureHandler) reset is called before all pointers leave view</span><span class="s3">\n        </span><span class="s1">// This means, that activePointersCounter will be set to 0, while there are still remaining pointers on view</span><span class="s3">\n        </span><span class="s1">// Removing them will end in activePointersCounter going below 0, therefore handlers won't behave properly</span><span class="s3">\n        </span><span class="s1">if (this.activePointersCounter === 0) {</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">//@ts-ignore touchType field does exist</span><span class="s3">\n        </span><span class="s1">if (event.changedTouches[i].touchType === 'stylus') {</span><span class="s3">\n          </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const adaptedEvent: AdaptedEvent = this.mapEvent(</span><span class="s3">\n          </span><span class="s1">event,</span><span class="s3">\n          </span><span class="s1">EventTypes.UP,</span><span class="s3">\n          </span><span class="s1">i,</span><span class="s3">\n          </span><span class="s1">TouchEventType.UP</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">this.markAsOutOfBounds(adaptedEvent.pointerId);</span><span class="s3">\n\n        </span><span class="s1">if (--this.activePointersCounter &gt; 0) {</span><span class="s3">\n          </span><span class="s1">adaptedEvent.eventType = EventTypes.ADDITIONAL_POINTER_UP;</span><span class="s3">\n          </span><span class="s1">this.onPointerRemove(adaptedEvent);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">this.onPointerUp(adaptedEvent);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">this.view.addEventListener('touchcancel', (event: TouchEvent) =&gt; {</span><span class="s3">\n      </span><span class="s1">for (let i = 0; i &lt; event.changedTouches.length; ++i) {</span><span class="s3">\n        </span><span class="s1">const adaptedEvent: AdaptedEvent = this.mapEvent(</span><span class="s3">\n          </span><span class="s1">event,</span><span class="s3">\n          </span><span class="s1">EventTypes.CANCEL,</span><span class="s3">\n          </span><span class="s1">i,</span><span class="s3">\n          </span><span class="s1">TouchEventType.CANCELLED</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">//@ts-ignore touchType field does exist</span><span class="s3">\n        </span><span class="s1">if (event.changedTouches[i].touchType === 'stylus') {</span><span class="s3">\n          </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">this.onPointerCancel(adaptedEvent);</span><span class="s3">\n        </span><span class="s1">this.markAsOutOfBounds(adaptedEvent.pointerId);</span><span class="s3">\n        </span><span class="s1">this.activePointersCounter = 0;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">protected mapEvent(</span><span class="s3">\n    </span><span class="s1">event: TouchEvent,</span><span class="s3">\n    </span><span class="s1">eventType: EventTypes,</span><span class="s3">\n    </span><span class="s1">index: number,</span><span class="s3">\n    </span><span class="s1">touchEventType: TouchEventType</span><span class="s3">\n  </span><span class="s1">): AdaptedEvent {</span><span class="s3">\n    </span><span class="s1">const rect = this.view.getBoundingClientRect();</span><span class="s3">\n    </span><span class="s1">const clientX = event.changedTouches[index].clientX;</span><span class="s3">\n    </span><span class="s1">const clientY = event.changedTouches[index].clientY;</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">x: clientX,</span><span class="s3">\n      </span><span class="s1">y: clientY,</span><span class="s3">\n      </span><span class="s1">offsetX: clientX - rect.left,</span><span class="s3">\n      </span><span class="s1">offsetY: clientY - rect.top,</span><span class="s3">\n      </span><span class="s1">pointerId: event.changedTouches[index].identifier,</span><span class="s3">\n      </span><span class="s1">eventType: eventType,</span><span class="s3">\n      </span><span class="s1">pointerType: PointerType.TOUCH,</span><span class="s3">\n      </span><span class="s1">buttons: MouseButtons.NONE,</span><span class="s3">\n      </span><span class="s1">time: event.timeStamp,</span><span class="s3">\n      </span><span class="s1">allTouches: event.touches,</span><span class="s3">\n      </span><span class="s1">changedTouches: event.changedTouches,</span><span class="s3">\n      </span><span class="s1">touchEventType: touchEventType,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">]}</span></pre>
</body>
</html>