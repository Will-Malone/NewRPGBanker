<html>
<head>
<title>listIOSDevices.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #6897bb; font-style: italic;}
.s3 { color: #cc7832; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
listIOSDevices.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;parseXcdeviceList&quot;</span><span class="s0">,</span><span class="s1">&quot;text&quot;</span><span class="s0">,</span><span class="s1">&quot;rawOutput&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;devices&quot;</span><span class="s0">,</span><span class="s1">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">&quot;device&quot;</span><span class="s0">,</span><span class="s1">&quot;platform&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;sort&quot;</span><span class="s0">,</span><span class="s1">&quot;simulator&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;isAvailable&quot;</span><span class="s0">,</span><span class="s1">&quot;available&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;udid&quot;</span><span class="s0">,</span><span class="s1">&quot;identifier&quot;</span><span class="s0">,</span><span class="s1">&quot;version&quot;</span><span class="s0">,</span><span class="s1">&quot;operatingSystemVersion&quot;</span><span class="s0">,</span><span class="s1">&quot;availabilityError&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;description&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;listIOSDevices&quot;</span><span class="s0">,</span><span class="s1">&quot;out&quot;</span><span class="s0">,</span><span class="s1">&quot;execa&quot;</span><span class="s0">,</span><span class="s1">&quot;sync&quot;</span><span class="s0">,</span><span class="s1">&quot;stdout&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/tools/listIOSDevices.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import {Device} from '../types';</span><span class="s3">\n</span><span class="s1">import execa from 'execa';</span><span class="s3">\n\n</span><span class="s1">type DeviceOutput = {</span><span class="s3">\n  </span><span class="s1">modelCode: string;</span><span class="s3">\n  </span><span class="s1">simulator: boolean;</span><span class="s3">\n  </span><span class="s1">modelName: string;</span><span class="s3">\n  </span><span class="s1">error: {</span><span class="s3">\n    </span><span class="s1">code: number;</span><span class="s3">\n    </span><span class="s1">failureReason: string;</span><span class="s3">\n    </span><span class="s1">underlyingErrors: [</span><span class="s3">\n      </span><span class="s1">{</span><span class="s3">\n        </span><span class="s1">code: number;</span><span class="s3">\n        </span><span class="s1">failureReason: string;</span><span class="s3">\n        </span><span class="s1">description: string;</span><span class="s3">\n        </span><span class="s1">recoverySuggestion: string;</span><span class="s3">\n        </span><span class="s1">domain: string;</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">description: string;</span><span class="s3">\n    </span><span class="s1">recoverySuggestion: string;</span><span class="s3">\n    </span><span class="s1">domain: string;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">operatingSystemVersion: string;</span><span class="s3">\n  </span><span class="s1">identifier: string;</span><span class="s3">\n  </span><span class="s1">platform: string;</span><span class="s3">\n  </span><span class="s1">architecture: string;</span><span class="s3">\n  </span><span class="s1">interface: string;</span><span class="s3">\n  </span><span class="s1">available: boolean;</span><span class="s3">\n  </span><span class="s1">name: string;</span><span class="s3">\n  </span><span class="s1">modelUTI: string;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">const parseXcdeviceList = (text: string): Device[] =&gt; {</span><span class="s3">\n  </span><span class="s1">const rawOutput = JSON.parse(text) as DeviceOutput[];</span><span class="s3">\n\n  </span><span class="s1">const devices: Device[] = rawOutput</span><span class="s3">\n    </span><span class="s1">.filter(</span><span class="s3">\n      </span><span class="s1">(device) =&gt;</span><span class="s3">\n        </span><span class="s1">!device.platform.includes('appletv') &amp;&amp;</span><span class="s3">\n        </span><span class="s1">!device.platform.includes('macos'),</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">.sort((device) =&gt; (device.simulator ? 1 : -1))</span><span class="s3">\n    </span><span class="s1">.map((device) =&gt; ({</span><span class="s3">\n      </span><span class="s1">isAvailable: device.available,</span><span class="s3">\n      </span><span class="s1">name: device.name,</span><span class="s3">\n      </span><span class="s1">udid: device.identifier,</span><span class="s3">\n      </span><span class="s1">version: device.operatingSystemVersion,</span><span class="s3">\n      </span><span class="s1">availabilityError: device.error?.description,</span><span class="s3">\n      </span><span class="s1">type: device.simulator ? 'simulator' : 'device',</span><span class="s3">\n    </span><span class="s1">}));</span><span class="s3">\n  </span><span class="s1">return devices;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">async function listIOSDevices(): Promise&lt;Device[]&gt; {</span><span class="s3">\n  </span><span class="s1">const out = execa.sync('xcrun', ['xcdevice', 'list']).stdout;</span><span class="s3">\n  </span><span class="s1">return parseXcdeviceList(out);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default listIOSDevices;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAA0B;AAgC1B,MAAMA,iBAAiB,GAAIC,IAAY,IAAe;EACpD,MAAMC,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAmB;EAEpD,MAAMI,OAAiB,GAAGH,SAAS,CAChCI,MAAM,CACJC,MAAM,IACL,CAACA,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAC,SAAS,CAAC,IACpC,CAACF,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAC,OAAO,CAAC,CACrC,CACAC,IAAI,CAAEH,MAAM,IAAMA,MAAM,CAACI,SAAS,GAAG,CAAC,GAAG,CAAC,CAAE,CAAC,CAC7CC,GAAG,CAAEL,MAAM;IAAA;IAAA,OAAM;MAChBM,WAAW,EAAEN,MAAM,CAACO,SAAS;MAC7BC,IAAI,EAAER,MAAM,CAACQ,IAAI;MACjBC,IAAI,EAAET,MAAM,CAACU,UAAU;MACvBC,OAAO,EAAEX,MAAM,CAACY,sBAAsB;MACtCC,iBAAiB,mBAAEb,MAAM,CAACc,KAAK,kDAAZ,cAAcC,WAAW;MAC5CC,IAAI,EAAEhB,MAAM,CAACI,SAAS,GAAG,WAAW,GAAG;IACzC,CAAC;EAAA,CAAC,CAAC;EACL,OAAON,OAAO;AAChB,CAAC;AAED,eAAemB,cAAc,GAAsB;EACjD,MAAMC,GAAG,GAAGC,gBAAK,CAACC,IAAI,CAAC,OAAO,EAAE,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,CAACC,MAAM;EAC5D,OAAO5B,iBAAiB,CAACyB,GAAG,CAAC;AAC/B;AAAC,eAEcD,cAAc;AAAA&quot;</span><span class="s0">}</span></pre>
</body>
</html>