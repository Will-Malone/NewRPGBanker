<html>
<head>
<title>readConfigFromDisk.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #6a8759;}
.s2 { color: #6897bb; font-style: italic;}
.s3 { color: #cc7832; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
readConfigFromDisk.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;searchPlaces&quot;</span><span class="s0">,</span><span class="s1">&quot;readConfigFromDisk&quot;</span><span class="s0">,</span><span class="s1">&quot;rootFolder&quot;</span><span class="s0">,</span><span class="s1">&quot;explorer&quot;</span><span class="s0">,</span><span class="s1">&quot;cosmiconfig&quot;</span><span class="s0">,</span><span class="s1">&quot;stopDir&quot;</span><span class="s0">,</span><span class="s1">&quot;searchResult&quot;</span><span class="s0">,</span><span class="s1">&quot;searchSync&quot;</span><span class="s0">,</span><span class="s1">&quot;config&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;result&quot;</span><span class="s0">,</span><span class="s1">&quot;schema&quot;</span><span class="s0">,</span><span class="s1">&quot;projectConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;validate&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;JoiError&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;readDependencyConfigFromDisk&quot;</span><span class="s0">,</span><span class="s1">&quot;dependencyName&quot;</span><span class="s0">,</span><span class="s1">&quot;emptyDependencyConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;dependencyConfig&quot;</span><span class="s0">,</span><span class="s1">&quot;abortEarly&quot;</span><span class="s0">,</span><span class="s1">&quot;validationError&quot;</span><span class="s0">,</span><span class="s1">&quot;logger&quot;</span><span class="s0">,</span><span class="s1">&quot;warn&quot;</span><span class="s0">,</span><span class="s1">&quot;inlineString&quot;</span><span class="s0">,</span><span class="s1">&quot;chalk&quot;</span><span class="s0">,</span><span class="s1">&quot;bold&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;dependency&quot;</span><span class="s0">,</span><span class="s1">&quot;platforms&quot;</span><span class="s0">,</span><span class="s1">&quot;commands&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../src/readConfigFromDisk.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import cosmiconfig from 'cosmiconfig';</span><span class="s3">\n</span><span class="s1">import {JoiError} from './errors';</span><span class="s3">\n</span><span class="s1">import * as schema from './schema';</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">UserConfig,</span><span class="s3">\n  </span><span class="s1">UserDependencyConfig,</span><span class="s3">\n</span><span class="s1">} from '@react-native-community/cli-types';</span><span class="s3">\n</span><span class="s1">import {logger, inlineString} from '@react-native-community/cli-tools';</span><span class="s3">\n</span><span class="s1">import chalk from 'chalk';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Places to look for the configuration file.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const searchPlaces = ['react-native.config.js'];</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Reads a project configuration as defined by the user in the current</span><span class="s3">\n </span><span class="s1">* workspace.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function readConfigFromDisk(rootFolder: string): UserConfig {</span><span class="s3">\n  </span><span class="s1">const explorer = cosmiconfig('react-native', {</span><span class="s3">\n    </span><span class="s1">searchPlaces,</span><span class="s3">\n    </span><span class="s1">stopDir: rootFolder,</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n\n  </span><span class="s1">const searchResult = explorer.searchSync(rootFolder);</span><span class="s3">\n  </span><span class="s1">const config = searchResult ? searchResult.config : undefined;</span><span class="s3">\n  </span><span class="s1">const result = schema.projectConfig.validate(config);</span><span class="s3">\n\n  </span><span class="s1">if (result.error) {</span><span class="s3">\n    </span><span class="s1">throw new JoiError(result.error);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return result.value as UserConfig;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Reads a dependency configuration as defined by the developer</span><span class="s3">\n </span><span class="s1">* inside `node_modules`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function readDependencyConfigFromDisk(</span><span class="s3">\n  </span><span class="s1">rootFolder: string,</span><span class="s3">\n  </span><span class="s1">dependencyName: string,</span><span class="s3">\n</span><span class="s1">): UserDependencyConfig {</span><span class="s3">\n  </span><span class="s1">const explorer = cosmiconfig('react-native', {</span><span class="s3">\n    </span><span class="s1">stopDir: rootFolder,</span><span class="s3">\n    </span><span class="s1">searchPlaces,</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n\n  </span><span class="s1">const searchResult = explorer.searchSync(rootFolder);</span><span class="s3">\n  </span><span class="s1">const config = searchResult ? searchResult.config : emptyDependencyConfig;</span><span class="s3">\n\n  </span><span class="s1">const result = schema.dependencyConfig.validate(config, {abortEarly: false});</span><span class="s3">\n\n  </span><span class="s1">if (result.error) {</span><span class="s3">\n    </span><span class="s1">const validationError = new JoiError(result.error);</span><span class="s3">\n    </span><span class="s1">logger.warn(</span><span class="s3">\n      </span><span class="s1">inlineString(`</span><span class="s3">\n        </span><span class="s1">Package ${chalk.bold(</span><span class="s3">\n          </span><span class="s1">dependencyName,</span><span class="s3">\n        </span><span class="s1">)} contains invalid configuration: ${chalk.bold(</span><span class="s3">\n        </span><span class="s1">validationError.message,</span><span class="s3">\n      </span><span class="s1">)}.</span><span class="s3">\n      \n      </span><span class="s1">Please verify it's properly linked using </span><span class="s3">\&quot;</span><span class="s1">react-native config</span><span class="s3">\&quot; </span><span class="s1">command and contact the package maintainers about this.`),</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return result.value as UserDependencyConfig;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const emptyDependencyConfig = {</span><span class="s3">\n  </span><span class="s1">dependency: {</span><span class="s3">\n    </span><span class="s1">platforms: {},</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">commands: [],</span><span class="s3">\n  </span><span class="s1">platforms: {},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;AACA;AAKA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAA0B;AAAA;AAAA;AAE1B;AACA;AACA;AACA,MAAMA,YAAY,GAAG,CAAC,wBAAwB,CAAC;;AAE/C;AACA;AACA;AACA;AACO,SAASC,kBAAkB,CAACC,UAAkB,EAAc;EACjE,MAAMC,QAAQ,GAAG,IAAAC,sBAAW,EAAC,cAAc,EAAE;IAC3CJ,YAAY;IACZK,OAAO,EAAEH;EACX,CAAC,CAAC;EAEF,MAAMI,YAAY,GAAGH,QAAQ,CAACI,UAAU,CAACL,UAAU,CAAC;EACpD,MAAMM,MAAM,GAAGF,YAAY,GAAGA,YAAY,CAACE,MAAM,GAAGC,SAAS;EAC7D,MAAMC,MAAM,GAAGC,MAAM,CAACC,aAAa,CAACC,QAAQ,CAACL,MAAM,CAAC;EAEpD,IAAIE,MAAM,CAACI,KAAK,EAAE;IAChB,MAAM,IAAIC,gBAAQ,CAACL,MAAM,CAACI,KAAK,CAAC;EAClC;EAEA,OAAOJ,MAAM,CAACM,KAAK;AACrB;;AAEA;AACA;AACA;AACA;AACO,SAASC,4BAA4B,CAC1Cf,UAAkB,EAClBgB,cAAsB,EACA;EACtB,MAAMf,QAAQ,GAAG,IAAAC,sBAAW,EAAC,cAAc,EAAE;IAC3CC,OAAO,EAAEH,UAAU;IACnBF;EACF,CAAC,CAAC;EAEF,MAAMM,YAAY,GAAGH,QAAQ,CAACI,UAAU,CAACL,UAAU,CAAC;EACpD,MAAMM,MAAM,GAAGF,YAAY,GAAGA,YAAY,CAACE,MAAM,GAAGW,qBAAqB;EAEzE,MAAMT,MAAM,GAAGC,MAAM,CAACS,gBAAgB,CAACP,QAAQ,CAACL,MAAM,EAAE;IAACa,UAAU,EAAE;EAAK,CAAC,CAAC;EAE5E,IAAIX,MAAM,CAACI,KAAK,EAAE;IAChB,MAAMQ,eAAe,GAAG,IAAIP,gBAAQ,CAACL,MAAM,CAACI,KAAK,CAAC;IAClDS,kBAAM,CAACC,IAAI,CACT,IAAAC,wBAAY,EAAE;AACpB,kBAAkBC,gBAAK,CAACC,IAAI,CAClBT,cAAc,CACd,oCAAmCQ,gBAAK,CAACC,IAAI,CAC/CL,eAAe,CAACM,OAAO,CACvB;AACR;AACA,6HAA6H,CAAC,CACzH;EACH;EAEA,OAAOlB,MAAM,CAACM,KAAK;AACrB;AAEA,MAAMG,qBAAqB,GAAG;EAC5BU,UAAU,EAAE;IACVC,SAAS,EAAE,CAAC;EACd,CAAC;EACDC,QAAQ,EAAE,EAAE;EACZD,SAAS,EAAE,CAAC;AACd,CAAC&quot;</span><span class="s0">}</span></pre>
</body>
</html>