<html>
<head>
<title>ReactNativeTypes.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #6a8759;}
.s3 { color: #cc7832;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
ReactNativeTypes.js</font>
</center></td></tr></table>
<pre><span class="s0">/** 
 * Copyright (c) Meta Platforms, Inc. and affiliates. 
 * 
 * This source code is licensed under the MIT license found in the 
 * LICENSE file in the root directory of this source tree. 
 * 
 * @noformat 
 * @flow strict 
 * @generated SignedSource&lt;&lt;265b342f0d29323bebb711ba0bc882ec&gt;&gt; 
 * 
 * This file was sync'd from the facebook/react repository. 
 */</span>

<span class="s1">import type {ElementRef, ElementType, Element, AbstractComponent} from </span><span class="s2">'react'</span><span class="s1">;</span>

<span class="s1">export type MeasureOnSuccessCallback = (</span>
  <span class="s1">x: number,</span>
  <span class="s1">y: number,</span>
  <span class="s1">width: number,</span>
  <span class="s1">height: number,</span>
  <span class="s1">pageX: number,</span>
  <span class="s1">pageY: number,</span>
<span class="s1">) =&gt; </span><span class="s3">void</span><span class="s1">;</span>

<span class="s1">export type MeasureInWindowOnSuccessCallback = (</span>
  <span class="s1">x: number,</span>
  <span class="s1">y: number,</span>
  <span class="s1">width: number,</span>
  <span class="s1">height: number,</span>
<span class="s1">) =&gt; </span><span class="s3">void</span><span class="s1">;</span>

<span class="s1">export type MeasureLayoutOnSuccessCallback = (</span>
  <span class="s1">left: number,</span>
  <span class="s1">top: number,</span>
  <span class="s1">width: number,</span>
  <span class="s1">height: number,</span>
<span class="s1">) =&gt; </span><span class="s3">void</span><span class="s1">;</span>

<span class="s1">export type AttributeType&lt;T, V&gt; =</span>
  <span class="s1">| </span><span class="s3">true</span>
  <span class="s1">| $ReadOnly&lt;{</span>
      <span class="s1">diff?: (arg1: T, arg2: T) =&gt; boolean,</span>
      <span class="s1">process?: (arg1: V) =&gt; T,</span>
    <span class="s1">}&gt;;</span>

<span class="s0">// We either force that `diff` and `process` always use mixed,</span>
<span class="s0">// or we allow them to define specific types and use this hack</span>
<span class="s1">export type AnyAttributeType = AttributeType&lt;$FlowFixMe, $FlowFixMe&gt;;</span>

<span class="s1">export type AttributeConfiguration = $ReadOnly&lt;{</span>
  <span class="s1">[propName: string]: AnyAttributeType,</span>
  <span class="s1">style: $ReadOnly&lt;{</span>
    <span class="s1">[propName: string]: AnyAttributeType,</span>
    <span class="s1">...</span>
  <span class="s1">}&gt;,</span>
  <span class="s1">...</span>
<span class="s1">}&gt;;</span>

<span class="s1">export type PartialAttributeConfiguration = $ReadOnly&lt;{</span>
  <span class="s1">[propName: string]: AnyAttributeType,</span>
  <span class="s1">style?: $ReadOnly&lt;{</span>
    <span class="s1">[propName: string]: AnyAttributeType,</span>
    <span class="s1">...</span>
  <span class="s1">}&gt;,</span>
  <span class="s1">...</span>
<span class="s1">}&gt;;</span>

<span class="s1">export type ViewConfig = $ReadOnly&lt;{</span>
  <span class="s1">Commands?: $ReadOnly&lt;{[commandName: string]: number, ...}&gt;,</span>
  <span class="s1">Constants?: $ReadOnly&lt;{[name: string]: mixed, ...}&gt;,</span>
  <span class="s1">Manager?: string,</span>
  <span class="s1">NativeProps?: $ReadOnly&lt;{[propName: string]: string, ...}&gt;,</span>
  <span class="s1">baseModuleName?: ?string,</span>
  <span class="s1">bubblingEventTypes?: $ReadOnly&lt;{</span>
    <span class="s1">[eventName: string]: $ReadOnly&lt;{</span>
      <span class="s1">phasedRegistrationNames: $ReadOnly&lt;{</span>
        <span class="s1">captured: string,</span>
        <span class="s1">bubbled: string,</span>
        <span class="s1">skipBubbling?: ?boolean,</span>
      <span class="s1">}&gt;,</span>
    <span class="s1">}&gt;,</span>
    <span class="s1">...</span>
  <span class="s1">}&gt;,</span>
  <span class="s1">directEventTypes?: $ReadOnly&lt;{</span>
    <span class="s1">[eventName: string]: $ReadOnly&lt;{</span>
      <span class="s1">registrationName: string,</span>
    <span class="s1">}&gt;,</span>
    <span class="s1">...</span>
  <span class="s1">}&gt;,</span>
  <span class="s1">uiViewClassName: string,</span>
  <span class="s1">validAttributes: AttributeConfiguration,</span>
<span class="s1">}&gt;;</span>

<span class="s1">export type PartialViewConfig = $ReadOnly&lt;{</span>
  <span class="s1">bubblingEventTypes?: $PropertyType&lt;ViewConfig, </span><span class="s2">'bubblingEventTypes'</span><span class="s1">&gt;,</span>
  <span class="s1">directEventTypes?: $PropertyType&lt;ViewConfig, </span><span class="s2">'directEventTypes'</span><span class="s1">&gt;,</span>
  <span class="s1">uiViewClassName: string,</span>
  <span class="s1">validAttributes?: PartialAttributeConfiguration,</span>
<span class="s1">}&gt;;</span>

<span class="s1">export type NativeMethods = $ReadOnly&lt;{</span>
  <span class="s1">blur(): </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">focus(): </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">measure(callback: MeasureOnSuccessCallback): </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">measureInWindow(callback: MeasureInWindowOnSuccessCallback): </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">measureLayout(</span>
    <span class="s1">relativeToNativeNode: number | ElementRef&lt;HostComponent&lt;mixed&gt;&gt;,</span>
    <span class="s1">onSuccess: MeasureLayoutOnSuccessCallback,</span>
    <span class="s1">onFail?: () =&gt; </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">): </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">setNativeProps(nativeProps: {...}): </span><span class="s3">void</span><span class="s1">,</span>
<span class="s1">}&gt;;</span>

<span class="s1">export type HostComponent&lt;T&gt; = AbstractComponent&lt;T, $ReadOnly&lt;NativeMethods&gt;&gt;;</span>

<span class="s1">type SecretInternalsType = {</span>
  <span class="s1">computeComponentStackForErrorReporting(tag: number): string,</span>
  <span class="s0">// TODO (bvaughn) Decide which additional types to expose here?</span>
  <span class="s0">// And how much information to fill in for the above types.</span>
  <span class="s1">...</span>
<span class="s1">};</span>

<span class="s1">type InspectorDataProps = $ReadOnly&lt;{</span>
  <span class="s1">[propName: string]: string,</span>
  <span class="s1">...</span>
<span class="s1">}&gt;;</span>

<span class="s1">type InspectorDataSource = $ReadOnly&lt;{</span>
  <span class="s1">fileName?: string,</span>
  <span class="s1">lineNumber?: number,</span>
<span class="s1">}&gt;;</span>

<span class="s1">type InspectorDataGetter = (</span>
  <span class="s1">&lt;TElementType: ElementType&gt;(</span>
    <span class="s1">componentOrHandle: ElementRef&lt;TElementType&gt; | number,</span>
  <span class="s1">) =&gt; ?number,</span>
<span class="s1">) =&gt; $ReadOnly&lt;{</span>
  <span class="s1">measure: (callback: MeasureOnSuccessCallback) =&gt; </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">props: InspectorDataProps,</span>
  <span class="s1">source: InspectorDataSource,</span>
<span class="s1">}&gt;;</span>

<span class="s1">export type InspectorData = $ReadOnly&lt;{</span>
  <span class="s1">closestInstance?: mixed,</span>
  <span class="s1">hierarchy: Array&lt;{</span>
    <span class="s1">name: ?string,</span>
    <span class="s1">getInspectorData: InspectorDataGetter,</span>
  <span class="s1">}&gt;,</span>
  <span class="s1">selectedIndex: ?number,</span>
  <span class="s1">props: InspectorDataProps,</span>
  <span class="s1">source: ?InspectorDataSource,</span>
<span class="s1">}&gt;;</span>

<span class="s1">export type TouchedViewDataAtPoint = $ReadOnly&lt;{</span>
  <span class="s1">pointerY: number,</span>
  <span class="s1">touchedViewTag?: number,</span>
  <span class="s1">frame: $ReadOnly&lt;{</span>
    <span class="s1">top: number,</span>
    <span class="s1">left: number,</span>
    <span class="s1">width: number,</span>
    <span class="s1">height: number,</span>
  <span class="s1">}&gt;,</span>
  <span class="s1">...InspectorData,</span>
<span class="s1">}&gt;;</span>

<span class="s0">/** 
 * Flat ReactNative renderer bundles are too big for Flow to parse efficiently. 
 * Provide minimal Flow typing for the high-level RN API and call it a day. 
 */</span>
<span class="s1">export type ReactNativeType = {</span>
  <span class="s1">findHostInstance_DEPRECATED&lt;TElementType: ElementType&gt;(</span>
    <span class="s1">componentOrHandle: ?(ElementRef&lt;TElementType&gt; | number),</span>
  <span class="s1">): ?ElementRef&lt;HostComponent&lt;mixed&gt;&gt;,</span>
  <span class="s1">findNodeHandle&lt;TElementType: ElementType&gt;(</span>
    <span class="s1">componentOrHandle: ?(ElementRef&lt;TElementType&gt; | number),</span>
  <span class="s1">): ?number,</span>
  <span class="s1">dispatchCommand(</span>
    <span class="s1">handle: ElementRef&lt;HostComponent&lt;mixed&gt;&gt;,</span>
    <span class="s1">command: string,</span>
    <span class="s1">args: Array&lt;mixed&gt;,</span>
  <span class="s1">): </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">sendAccessibilityEvent(</span>
    <span class="s1">handle: ElementRef&lt;HostComponent&lt;mixed&gt;&gt;,</span>
    <span class="s1">eventType: string,</span>
  <span class="s1">): </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">render(</span>
    <span class="s1">element: Element&lt;ElementType&gt;,</span>
    <span class="s1">containerTag: number,</span>
    <span class="s1">callback: ?() =&gt; </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">): ?ElementRef&lt;ElementType&gt;,</span>
  <span class="s1">unmountComponentAtNode(containerTag: number): </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">unmountComponentAtNodeAndRemoveContainer(containerTag: number): </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">unstable_batchedUpdates: &lt;T&gt;(fn: (T) =&gt; </span><span class="s3">void</span><span class="s1">, bookkeeping: T) =&gt; </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: SecretInternalsType,</span>
  <span class="s1">...</span>
<span class="s1">};</span>

<span class="s1">export type ReactFabricType = {</span>
  <span class="s1">findHostInstance_DEPRECATED&lt;TElementType: ElementType&gt;(</span>
    <span class="s1">componentOrHandle: ?(ElementRef&lt;TElementType&gt; | number),</span>
  <span class="s1">): ?ElementRef&lt;HostComponent&lt;mixed&gt;&gt;,</span>
  <span class="s1">findNodeHandle&lt;TElementType: ElementType&gt;(</span>
    <span class="s1">componentOrHandle: ?(ElementRef&lt;TElementType&gt; | number),</span>
  <span class="s1">): ?number,</span>
  <span class="s1">dispatchCommand(</span>
    <span class="s1">handle: ElementRef&lt;HostComponent&lt;mixed&gt;&gt;,</span>
    <span class="s1">command: string,</span>
    <span class="s1">args: Array&lt;mixed&gt;,</span>
  <span class="s1">): </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">sendAccessibilityEvent(</span>
    <span class="s1">handle: ElementRef&lt;HostComponent&lt;mixed&gt;&gt;,</span>
    <span class="s1">eventType: string,</span>
  <span class="s1">): </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">render(</span>
    <span class="s1">element: Element&lt;ElementType&gt;,</span>
    <span class="s1">containerTag: number,</span>
    <span class="s1">callback: ?() =&gt; </span><span class="s3">void</span><span class="s1">,</span>
    <span class="s1">concurrentRoot: ?boolean,</span>
  <span class="s1">): ?ElementRef&lt;ElementType&gt;,</span>
  <span class="s1">unmountComponentAtNode(containerTag: number): </span><span class="s3">void</span><span class="s1">,</span>
  <span class="s1">...</span>
<span class="s1">};</span>

<span class="s1">export type ReactNativeEventTarget = {</span>
  <span class="s1">node: {...},</span>
  <span class="s1">canonical: {</span>
    <span class="s1">_nativeTag: number,</span>
    <span class="s1">viewConfig: ViewConfig,</span>
    <span class="s1">currentProps: {...},</span>
    <span class="s1">_internalInstanceHandle: {...},</span>
    <span class="s1">...</span>
  <span class="s1">},</span>
  <span class="s1">...</span>
<span class="s1">};</span>

<span class="s1">export type ReactFabricEventTouch = {</span>
  <span class="s1">identifier: number,</span>
  <span class="s1">locationX: number,</span>
  <span class="s1">locationY: number,</span>
  <span class="s1">pageX: number,</span>
  <span class="s1">pageY: number,</span>
  <span class="s1">screenX: number,</span>
  <span class="s1">screenY: number,</span>
  <span class="s1">target: number,</span>
  <span class="s1">timestamp: number,</span>
  <span class="s1">force: number,</span>
  <span class="s1">...</span>
<span class="s1">};</span>

<span class="s1">export type ReactFabricEvent = {</span>
  <span class="s1">touches: Array&lt;ReactFabricEventTouch&gt;,</span>
  <span class="s1">changedTouches: Array&lt;ReactFabricEventTouch&gt;,</span>
  <span class="s1">targetTouches: Array&lt;ReactFabricEventTouch&gt;,</span>
  <span class="s1">target: number,</span>
  <span class="s1">...</span>
<span class="s1">};</span>

<span class="s0">// Imperative LayoutAnimation API types</span>
<span class="s0">//</span>
<span class="s1">export type LayoutAnimationType =</span>
  <span class="s1">| </span><span class="s2">'spring'</span>
  <span class="s1">| </span><span class="s2">'linear'</span>
  <span class="s1">| </span><span class="s2">'easeInEaseOut'</span>
  <span class="s1">| </span><span class="s2">'easeIn'</span>
  <span class="s1">| </span><span class="s2">'easeOut'</span>
  <span class="s1">| </span><span class="s2">'keyboard'</span><span class="s1">;</span>

<span class="s1">export type LayoutAnimationProperty =</span>
  <span class="s1">| </span><span class="s2">'opacity'</span>
  <span class="s1">| </span><span class="s2">'scaleX'</span>
  <span class="s1">| </span><span class="s2">'scaleY'</span>
  <span class="s1">| </span><span class="s2">'scaleXY'</span><span class="s1">;</span>

<span class="s1">export type LayoutAnimationAnimationConfig = $ReadOnly&lt;{</span>
  <span class="s1">duration?: number,</span>
  <span class="s1">delay?: number,</span>
  <span class="s1">springDamping?: number,</span>
  <span class="s1">initialVelocity?: number,</span>
  <span class="s1">type?: LayoutAnimationType,</span>
  <span class="s1">property?: LayoutAnimationProperty,</span>
<span class="s1">}&gt;;</span>

<span class="s1">export type LayoutAnimationConfig = $ReadOnly&lt;{</span>
  <span class="s1">duration: number,</span>
  <span class="s1">create?: LayoutAnimationAnimationConfig,</span>
  <span class="s1">update?: LayoutAnimationAnimationConfig,</span>
  <span class="s3">delete</span><span class="s1">?: LayoutAnimationAnimationConfig,</span>
<span class="s1">}&gt;;</span>
</pre>
</body>
</html>